(this["webpackJsonppubnub-moderation-tool"]=this["webpackJsonppubnub-moderation-tool"]||[]).push([[0],{392:function(e,t,a){},393:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(19),c=a.n(r),i=a(2),o=a(26),l=a(225),u=a(103),d=a(64),b=a(20),j=a(427),h=a(0),m=function(e){var t=e.children;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.a,{}),t]})},g=a(5),p=a.n(g),x=a(10),f=a(7),O=a(430),v=a(78),y=a(477),k=a(439),w=a(440),C=a(434),F=a(435),S=a(436),N=a(437),T=a(438),M=a(429),R=Object(M.a)({form:{padding:"35px 5px 70px 5px",margin:"5px",background:"#FFFFFF 0% 0% no-repeat padding-box",borderRadius:"8px",opacity:1},loginTextField:{"& .MuiOutlinedInput-root":{borderRadius:"8px",background:"white"},"& .MuiOutlinedInput-adornedEnd":{background:"white"},"& .MuiOutlinedInput-adornedStart":{background:"white"},opacity:1},textfieldIcon:{opacity:.2,fontSize:"21px"},maskPasswordIcon:{cursor:"pointer",opacity:.3,fontSize:"21px"},root:{display:"table",backgroundImage:"url(/images/Bg.svg)",backgroundRepeat:"no-repeat",backgroundSize:"auto",position:"absolute",top:0,left:0,height:"100%",width:"100%"},middle:{display:"table-cell",verticalAlign:"middle"},inner:{marginLeft:"auto",marginRight:"auto",width:"100%"},logSubtitle:{font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) 13.32px/16px var(--unnamed-font-family-proxima-nova)",textAlign:"center",letterSpacing:"0px",color:"#414141",opacity:.6},button:{background:"#6387ED 0% 0% no-repeat padding-box",borderRadius:"8px",opacity:1,width:"100%",fontWeight:"500",height:"49px",textTransform:"none",color:"white","&:hover":{fontWeight:"500",background:"#6387ED 0% 0% no-repeat padding-box",color:"white"}},disabledButton:{color:"white!important",backgroundColor:"#9eb4f3"},logIconContainer:{textAlign:"center",margin:"0px 0px 10px 0px"},floatIcon:{backgroundColor:"#ecebeb",borderRadius:"0x 0px 0px 0px",padding:"0px 0px 0px 0px"},loader:{color:"white"}}),I=a(212),A=a.n(I).a.create({baseURL:"https://admin.pubnub.com/api",validateStatus:function(e){return e<500}});function D(e){return P.apply(this,arguments)}function P(){return(P=Object(x.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("/me",t);case 2:if(200!==(a=e.sent).status){e.next=5;break}return e.abrupt("return",a.data);case 5:throw new Error(a.data.error||"Something went wrong");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=a(136),E=a.n(L),B=function(e){return E.a.get(e)},q=function(e,t){localStorage.setItem(e,JSON.stringify(t))},U=function(e,t){var a,n;a="token",n=e.token,E.a.set(a,n,{expires:1}),q("user",e.user),t()},W=function(){if(B("token"))return!!localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user"))};function _(e,t){return z.apply(this,arguments)}function z(){return(z=Object(x.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("/accounts?user_id=".concat(t),{headers:{"X-Session-Token":"".concat(a)}});case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.data);case 5:throw new Error("Failed to fetch accounts");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t){return H.apply(this,arguments)}function H(){return(H=Object(x.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("/apps?owner_id=".concat(t),{headers:{"X-Session-Token":"".concat(a)}});case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.data);case 5:throw new Error("Failed to fetch applications");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,t,a){return Y.apply(this,arguments)}function Y(){return(Y=Object(x.a)(p.a.mark((function e(t,a,n){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.objects.getAllChannelMetadata({include:{totalCount:!0},limit:25,page:{next:a,prev:n},sort:{updated:"desc"}});case 2:if(200!==(s=e.sent).status){e.next=5;break}return e.abrupt("return",s);case 5:throw new Error("Failed to get PubNub channels");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e,t,a,n){return G.apply(this,arguments)}function G(){return(G=Object(x.a)(p.a.mark((function e(t,a,n,s){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.objects.getAllUUIDMetadata({include:{totalCount:!0,customFields:!0},limit:25,page:{next:a,prev:n},sort:{updated:"desc"},filter:s});case 2:if(200!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",r);case 5:throw new Error("Failed to get PubNub users");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e,t,a,n){return $.apply(this,arguments)}function $(){return($=Object(x.a)(p.a.mark((function e(t,a,n,s){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.objects.setChannelMetadata({channel:s,data:{name:a,description:n}});case 2:if(200!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",r);case 5:throw new Error("Failed to add channel metadata");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t,a,n,s){return Q.apply(this,arguments)}function Q(){return(Q=Object(x.a)(p.a.mark((function e(t,a,n,s,r){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n||(n=null),r||(r=null),e.next=4,t.objects.setUUIDMetadata({uuid:s,data:{name:a,email:n,profileUrl:r}});case 4:if(200!==(c=e.sent).status){e.next=7;break}return e.abrupt("return",c);case 7:throw new Error(c.message);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e,t){return te.apply(this,arguments)}function te(){return(te=Object(x.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.objects.removeChannelMetadata({channel:a});case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n);case 5:throw new Error("Failed to add user metadata");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t){return ne.apply(this,arguments)}function ne(){return(ne=Object(x.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.objects.removeUUIDMetadata({uuid:a});case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n);case 5:throw new Error("Failed to add user metadata");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e,t,a,n,s){return re.apply(this,arguments)}function re(){return(re=Object(x.a)(p.a.mark((function e(t,a,n,s,r){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n||(n=null),r||(r=null),e.next=4,t.objects.setUUIDMetadata({uuid:s,data:{name:a,email:n,profileUrl:r}});case 4:if(200!==(c=e.sent).status){e.next=7;break}return e.abrupt("return",c);case 7:throw new Error("Failed to edit user metadata");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,t,a,n){return ie.apply(this,arguments)}function ie(){return(ie=Object(x.a)(p.a.mark((function e(t,a,n,s){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.objects.setChannelMetadata({channel:s,data:{name:a,description:n}});case 2:if(200!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",r);case 5:throw new Error("Failed to add channel metadata");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,t){return le.apply(this,arguments)}function le(){return(le=Object(x.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchMessages({channels:[a],includeMeta:!0,includeMessageActions:!0,count:100});case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n.channels[a]);case 5:throw new Error("Failed to get messages");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e,t){return de.apply(this,arguments)}function de(){return(de=Object(x.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("/v1/blocks/key/".concat(t,"/block"),{headers:{"X-Session-Token":"".concat(a)}});case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.data);case 5:throw new Error("Failed to fetch PubNub functions");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e,t){return je.apply(this,arguments)}function je(){return(je=Object(x.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("/v1/blocks/key/".concat(t.key_id,"/block"),t,{headers:{"X-Session-Token":"".concat(a)}});case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.data);case 5:throw new Error(n.data.message||"Something went wrong. Please try later");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e,t){return me.apply(this,arguments)}function me(){return(me=Object(x.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("v1/blocks/key/".concat(t.key_id,"/block/").concat(t.block_id,"/start"),t,{headers:{"X-Session-Token":"".concat(a)}});case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.data);case 5:throw new Error(n.data.error);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e,t){return pe.apply(this,arguments)}function pe(){return(pe=Object(x.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("v1/blocks/key/".concat(t.key_id,"/block/").concat(t.block_id,"/stop"),t,{headers:{"X-Session-Token":"".concat(a)}});case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.data);case 5:throw new Error(n.data.error);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e,t){return fe.apply(this,arguments)}function fe(){return(fe=Object(x.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("v1/blocks/key/".concat(t.key_id,"/event_handler"),t,{headers:{"X-Session-Token":"".concat(a)}});case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.data);case 5:throw new Error(n.data.message);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e,t){return ve.apply(this,arguments)}function ve(){return(ve=Object(x.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.put("/v1/blocks/key/".concat(t.key_id,"/event_handler/").concat(t.id),t,{headers:{"X-Session-Token":"".concat(a)}});case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.data);case 5:throw new Error(n.data.message);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e,t){return ke.apply(this,arguments)}function ke(){return(ke=Object(x.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.objects.getAllUUIDMetadata({filter:"name LIKE '"+a+"*'"});case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.data);case 5:throw new Error("Failed to get PubNub users");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e,t){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(x.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.objects.getAllChannelMetadata({filter:"name LIKE '"+a+"*'"});case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.data);case 5:throw new Error("Failed to get PubNub users");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e,t,a){return Se.apply(this,arguments)}function Se(){return(Se=Object(x.a)(p.a.mark((function e(t,a,n){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.objects.getChannelMembers({channel:a,include:{UUIDFields:!0,customUUIDFields:!0,totalCount:!0},limit:100,page:{next:n}});case 2:if(200!==(s=e.sent).status){e.next=5;break}return e.abrupt("return",s);case 5:throw new Error("Failed to get PubNub channel memebers");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e,t){return Te.apply(this,arguments)}function Te(){return(Te=Object(x.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.hereNow({channels:[a]});case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n.channels[a].occupants);case 5:throw new Error("Failed to get PubNub online members");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(e,t){return Re.apply(this,arguments)}function Re(){return(Re=Object(x.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.objects.getChannelMetadata({channel:a});case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.data);case 5:throw new Error("Failed to get PubNub channel");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e,t,a){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(x.a)(p.a.mark((function e(t,a,n){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.messageCounts({channels:[a],channelTimetokens:[n]});case 2:if(!(s=e.sent)){e.next=5;break}return e.abrupt("return",s.channels&&s.channels[a]);case 5:throw new Error("Failed to get total messages Count");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(e,t){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(x.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.hereNow({channels:a,includeUUIDs:!1,includeState:!1});case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n.channels||[]);case 5:throw new Error("Failed to get online users");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e,t){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(x.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.objects.getAllChannelMetadata({filter:'id == "'+a+'"'});case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.data);case 5:throw new Error("Failed to get PubNub channel");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e,t){return qe.apply(this,arguments)}function qe(){return(qe=Object(x.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.objects.getAllUUIDMetadata({filter:'id == "'+a+'"'});case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.data);case 5:throw new Error("Failed to get PubNub user");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e,t,a){return We.apply(this,arguments)}function We(){return(We=Object(x.a)(p.a.mark((function e(t,a,n){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.addMessageAction({channel:a,messageTimetoken:n,action:{type:"deleted",value:"."}});case 2:if(!(s=e.sent)){e.next=5;break}return e.abrupt("return",s.data);case 5:throw new Error("Failed to delete the message");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e,t,a,n){return ze.apply(this,arguments)}function ze(){return(ze=Object(x.a)(p.a.mark((function e(t,a,n,s){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.removeMessageAction({channel:a,messageTimetoken:n,actionTimetoken:s});case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r.data);case 5:throw new Error("Failed to undo delete action");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(e,t,a,n){return He.apply(this,arguments)}function He(){return(He=Object(x.a)(p.a.mark((function e(t,a,n,s){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.addMessageAction({channel:a,messageTimetoken:n,action:{type:"updated",value:s}});case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r.data);case 5:throw new Error("Failed to undo delete action");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ve(e,t,a){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(x.a)(p.a.mark((function e(t,a,n){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.objects.setUUIDMetadata({uuid:a,data:{custom:n}});case 2:if(200!==(s=e.sent).status){e.next=5;break}return e.abrupt("return",s.data);case 5:throw new Error("Failed to set metadata of PubNub user");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Je=a(476),Ge=a(128),Xe=a.n(Ge),$e=function(){var e=R(),t=Object(b.g)(),a=Xe.a.generateUUID(),s=Object(n.useState)({success:{status:!1,msg:""},error:{status:!1,msg:""},loading:!1}),r=Object(f.a)(s,2),c=r[0],o=r[1],l=Object(n.useState)({email:"",password:""}),u=Object(f.a)(l,2),d=u[0],j=u[1],m=Object(n.useState)(!0),g=Object(f.a)(m,2),M=g[0],I=g[1],A=function(e){return function(t){switch(e){case"email":j(Object(i.a)(Object(i.a)({},d),{},{email:t.target.value}));break;case"password":j(Object(i.a)(Object(i.a)({},d),{},{password:t.target.value}));break;default:return}}},P=function(){var e=Object(x.a)(p.a.mark((function e(n){var s,r,l,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,o(Object(i.a)(Object(i.a)({},c),{},{loading:!0})),e.next=5,D(d);case 5:s=e.sent,r=s.result,l=r.user,u=r.token,o(Object(i.a)(Object(i.a)({},c),{},{success:{status:!0,msg:"Successfully Authenticated"},error:{status:!1,msg:""}})),U({user:l,token:u},Object(x.a)(p.a.mark((function e(){var n,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(l.id,u);case 3:return n=e.sent,e.next=6,K(n.result.accounts[0].id,u);case 6:s=e.sent,q("PubNubAccounts",n.result.accounts),q("PubNubSelectedAccount",n.result.accounts[0]),q("PubNubApplications",s),q("uuid",a),o(Object(i.a)(Object(i.a)({},c),{},{success:{status:!0,msg:""},error:{status:!1,msg:""},loading:!1})),t.push("/dashboard"),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(0),new Error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),o(Object(i.a)(Object(i.a)({},c),{},{error:{status:!0,msg:e.t0.message},loading:!1,success:{status:!1,msg:""}}));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){I((function(e){return!e}))};return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:e.root,children:Object(h.jsx)("div",{className:e.middle,children:Object(h.jsx)("div",{className:e.inner,children:Object(h.jsx)(O.a,{container:!0,justify:"center",children:Object(h.jsx)(O.a,{item:!0,xs:12,sm:6,md:4,children:Object(h.jsxs)("div",{className:e.form,children:[Object(h.jsxs)(O.a,{container:!0,justify:"center",children:[Object(h.jsx)(O.a,{item:!0,sm:12,md:12,xs:12,children:Object(h.jsx)("div",{className:e.logIconContainer,children:Object(h.jsx)("span",{className:e.logIcon,children:Object(h.jsx)("img",{src:"images/Pubnub logo.svg",alt:"Pubnub Logo",width:160})})})}),Object(h.jsx)(O.a,{item:!0,sm:12,md:12,xs:12,children:Object(h.jsx)(v.a,{className:e.logSubtitle,align:"center",children:"Enter to continue and explore within your grasp"})})]}),Object(h.jsxs)("form",{onSubmit:P,children:[Object(h.jsxs)(O.a,{container:!0,justify:"center",spacing:3,children:[Object(h.jsxs)(O.a,{xs:10,sm:12,md:10,item:!0,children:[Object(h.jsxs)("div",{className:e.alertCard,children:[c.success.status&&Object(h.jsx)(Je.a,{severity:"success",children:c.success.msg}),c.error.status&&Object(h.jsx)(Je.a,{severity:"error",children:c.error.msg})]}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{})]}),Object(h.jsx)(O.a,{xs:10,sm:12,md:10,item:!0,children:Object(h.jsx)(y.a,{type:"text",variant:"outlined",name:"email",fullWidth:!0,autoComplete:"email",className:e.loginTextField,InputProps:{startAdornment:Object(h.jsx)(C.a,{position:"start",children:Object(h.jsx)(F.a,{className:e.textfieldIcon})})},placeholder:"E-mail address",required:!0,onChange:A("email"),value:d.email,autoFocus:!0})}),Object(h.jsx)(O.a,{xs:10,sm:12,md:10,item:!0,children:Object(h.jsx)(y.a,{type:M?"password":"text",autoComplete:"password",variant:"outlined",className:e.loginTextField,name:"password",InputProps:{endAdornment:Object(h.jsx)(C.a,{position:"end",children:M?Object(h.jsx)(S.a,{className:e.maskPasswordIcon,onClick:L}):Object(h.jsx)(N.a,{className:e.textfieldIcon,onClick:L})}),startAdornment:Object(h.jsx)(C.a,{position:"start",children:Object(h.jsx)(T.a,{className:e.textfieldIcon})})},fullWidth:!0,placeholder:"Password",required:!0,onChange:A("password"),value:d.password})})]}),Object(h.jsx)("br",{}),Object(h.jsx)(O.a,{container:!0,justify:"center",children:Object(h.jsx)(O.a,{item:!0,sm:12,md:10,xs:10,children:Object(h.jsx)(k.a,{className:e.button,fullWidth:!0,classes:{disabled:e.disabledButton},disabled:c.loading,type:"submit",startIcon:c.loading?Object(h.jsx)(w.a,{className:e.loader,size:30}):null,children:c.loading?"Submitting":"LOGIN TO CONTINUE"})})})]})]})})})})})})})},Ze=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(m,{children:Object(h.jsx)($e,{})})})},Qe=a(84),et=["component"],tt=function(e){var t=e.component,a=Object(Qe.a)(e,et);return Object(h.jsx)(b.b,Object(i.a)(Object(i.a)({},a),{},{render:function(e){return W()?Object(h.jsx)(t,Object(i.a)({},e)):Object(h.jsx)(b.a,{to:{pathname:"/",state:{from:e.location}}})}}))},at=["component"],nt=function(e){var t=e.component,a=Object(Qe.a)(e,at);return Object(h.jsx)(b.b,Object(i.a)(Object(i.a)({},a),{},{render:function(e){return W()?Object(h.jsx)(b.a,{to:{pathname:"/dashboard",state:{from:e.location}}}):Object(h.jsx)(t,Object(i.a)({},e))}}))},st=a(480),rt=a(447),ct=a(448),it=a(449),ot=a(154),lt=a(482),ut=a(401),dt=a(397),bt=a(98),jt=a(443),ht=a(433),mt=a(483),gt=a(445),pt=a(441),xt=a(442),ft=Object(M.a)({avatar:{backgroundColor:"#FCF0EF",color:"#E66E68",borderRadius:"8px",margin:"0px 5px 0px 0px"},button:{textTransform:"none",fontSize:"15px"},paperRoot:{minWidth:"250px",zIndex:2},logoutIcon:{color:"#C2C2C2"}}),Ot=a(213),vt=a.n(Ot),yt=Object(M.a)({cardRoot:{cursor:"pointer"},checkIcon:{color:"#C2C2C2"},email:{fontSize:"12px"},avatarText:{fontSize:"12px"},avatar:{}}),kt=a(72),wt=a.n(kt),Ct=function(e){return e.split(" ").map((function(e){return e[0].toUpperCase()+e.substring(1)})).join(" ")},Ft=function(){return!!localStorage.getItem("PubNubSelectedAccount")&&JSON.parse(localStorage.getItem("PubNubSelectedAccount"))},St=function(){return!!localStorage.getItem("PubNubApplications")&&JSON.parse(localStorage.getItem("PubNubApplications"))},Nt=function(){return!!localStorage.getItem("PubNubSelectedApp")&&JSON.parse(localStorage.getItem("PubNubSelectedApp"))},Tt=function(){return!!localStorage.getItem("PubNubApplicationsWithKey")&&JSON.parse(localStorage.getItem("PubNubApplicationsWithKey"))},Mt=function(e,t){return e%5===0?{backgroundColor:"#FCF0EF",width:"30px",height:"30px",color:"#E66E68",borderRadius:"8px"}:e%3===0?{backgroundColor:"#FFFABB",width:"30px",height:"30px",color:"#FFD502",borderRadius:"8px"}:e%2===0?{backgroundColor:"#CAFFE6",width:"30px",height:"30px",color:"#34F89C",borderRadius:"8px"}:e%1===0?{backgroundColor:"#CAF0FF",width:"30px",height:"30px",color:"#3BC8FF",borderRadius:"8px"}:e===t().email?{color:"#6387ED"}:void 0},Rt=function(e){if(e){var t=e.split(" "),a=t[0].substring(0,1).toUpperCase();return t.length>1?a+=t[t.length-1].substring(0,1).toUpperCase():t[0].substring(0,2).toUpperCase()}return!1},It=function(e){return e?wt()(new Date(e)).format("MMMM Do YYYY, h:mm a"):null},At=function(e,t){return e&&e.length>20&&"id"===t||e&&e.length>20&&"description"===t?e.substring(0,18)+"...":e&&e.length>50?e.substring(0,48)+"...":e||"-"},Dt=function(e){return"Forbidden"===e.message?"Not permitted to Access manager":e.message?"Method not allowed":e.error.message},Pt=function(e,t){if(e)return e.payload.filter((function(e){return e.name==="KEY-".concat(t.id)}))},Lt=function(e,t){if(e)return e.filter((function(e){return e.name==="BLOCK-".concat(t[0].id)}))},Et=function(e,t){if(e)return e.payload.filter((function(e){return e.name==="KEY-".concat(t.id,"-IMAGE-MODERATION")}))},Bt=function(e){return new Function("return "+e)()()},qt=function(e,t){return e[t]},Ut=function(e){return e?wt.a.unix(e/1e7).format("hh:mm"):null},Wt=function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):null},_t=function(e){return e||"/images/default-user.svg"},zt=function(e){return e||"Unknown"},Kt=function(){return!!localStorage.getItem("PubNubSelectedChannel")&&JSON.parse(localStorage.getItem("PubNubSelectedChannel"))},Ht=function(e){var t=Object.values(e).filter((function(e){return 0!==e.length}));return t.length>0?t.reduce((function(e,t){return e+","+t})).split(",").join("|"):""};function Vt(e){return e?e.split(",").join("|").replace(/(\r\n|\n|\r)/gm,""):e}function Yt(e){return"string"===typeof e?"true"===e:e}var Jt=function(e){return e?"Moderated message: "+e:null},Gt=function(e,t){return!!(e&&e.uuid.custom&&e.uuid.custom.mutedChannels&&e.uuid.custom.mutedChannels.includes(t))},Xt=function(e,t){return!!(e&&e.uuid.custom&&e.uuid.custom.blockedChannels&&e.uuid.custom.blockedChannels.includes(t))},$t=function(e,t,a,n){if(t.message&&t.message.file&&t.message.file.id&&t.message.file.name&&!t.message.file.url){var s=a.getFileUrl({channel:n,id:t.message.file.id,name:t.message.file.name});e.file.url=s}return e},Zt=function(e){return e.file&&e.file.url&&(e.image=e.file.url),e.file&&e.file.reason&&(e.imageReason=e.file.reason),e.message&&e.message.originalMessage&&(e.originalMessage=e.message.originalMessage),e.message&&e.message.moderatedMessage&&(e.moderatedMessage=e.message.moderatedMessage),e.message&&e.message.reason&&(e.reason=e.message.reason),e},Qt=function(e,t){return e.actions&&e.actions.updated&&Object.keys(e.actions.updated)[0]||t.text||t.message&&t.message.text},ea=function(e){var t=e.account,a=e.handleClick,n=e.index,s=yt();return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(pt.a,{testid:"".concat(n),onClick:function(){return a(t)},children:Object(h.jsxs)(O.a,{container:!0,children:[Object(h.jsx)(O.a,{item:!0,xs:2,sm:2,children:Object(h.jsx)(lt.a,{className:s.avatar,style:Mt(n),variant:"square",children:Object(h.jsx)(v.a,{testid:"capitalChar",className:s.avatarText,children:t&&t.email?Ct(t.email.slice(0,2)):null})})}),Object(h.jsx)(O.a,{item:!0,xs:9,sm:9,children:Object(h.jsx)(v.a,{testid:"email",noWrap:!0,className:s.email,children:t.email})}),Object(h.jsx)(O.a,{item:!0,xs:1,sm:1,children:Object(h.jsx)(vt.a,{style:Mt(t.email,Ft),className:s.checkIcon})})]})})})},ta=function(e){var t=e.accounts,a=B("token"),n=function(){var e=Object(x.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K(t.id,a);case 3:n=e.sent,q("PubNubSelectedAccount",t),q("PubNubApplications",n),window.location.href="/dashboard",e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();function s(){return t.map((function(e,t){return Object(h.jsx)(ea,{account:e,handleClick:n,index:t},t)}))}return Object(h.jsx)(s,{})};function aa(e){var t=e.accounts,a=ft(),s=Object(n.useState)(!1),r=Object(f.a)(s,2),c=r[0],o=r[1],l=Object(n.useRef)(c),u=Object(n.useRef)(null),d=function(e){u.current&&u.current.contains(e.target)||o(!1)};function b(e){"Tab"===e.key&&(e.preventDefault(),o(!1))}return Object(n.useEffect)((function(){!0===l.current&&!1===c&&u.current.focus(),l.current=c}),[c]),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{children:[Object(h.jsxs)(k.a,{ref:u,"aria-controls":c?"menu-list-grow":void 0,"aria-haspopup":"true",className:a.button,endIcon:Object(h.jsx)(xt.a,{}),onClick:function(){o((function(e){return!e}))},children:[Object(h.jsx)(lt.a,{className:a.avatar,variant:"square",children:Ct(Ft().email.slice(0,2))}),Ft().email]}),Object(h.jsx)(ut.a,{open:c,anchorEl:u.current,role:void 0,transition:!0,disablePortal:!0,className:a.paperRoot,children:function(e){var a=e.TransitionProps,n=e.placement;return Object(h.jsx)(dt.a,Object(i.a)(Object(i.a)({},a),{},{style:{transformOrigin:"bottom"===n?"center top":"center bottom"},children:Object(h.jsx)(bt.a,{children:Object(h.jsx)(jt.a,{onClickAway:d,children:Object(h.jsxs)(ht.a,{autoFocusItem:c,id:"menu-list-grow",onKeyDown:b,children:[Object(h.jsx)(ta,{accounts:t}),Object(h.jsx)(mt.a,{pl:2,pr:2,children:Object(h.jsx)(gt.a,{})}),Object(h.jsxs)(pt.a,{onClick:function(){return e=function(){return window.location.href="/"},localStorage.clear(),void e();var e},children:[Object(h.jsx)("img",{src:"/images/sign-out.svg",alt:"Signout"}),Object(h.jsx)(mt.a,{pl:1,children:Object(h.jsx)("small",{children:"Logout"})})]})]})})})}))}})]})})}var na=Object(M.a)({grow:{flexGrow:1},root:{backgroundColor:"white",boxShadow:"0px 0px 0px 0px rgb(0 0 0 / 0%), 0px 0px 0px 1px rgb(0 0 0 / 4%), 0px 0px 0px 0px rgb(0 0 0 / 0%)"},headerMenu:{color:"black",margin:"15px"},button:{textTransform:"none",fontSize:"15px"},verticalLine:{marginLeft:"10px",marginRight:"20px",borderLeft:"2px solid lightgrey",height:"20px"}}),sa=a(446);function ra(e){var t=Nt();return Object(h.jsx)("div",{children:Object(h.jsxs)(st.a,{separator:Object(h.jsx)(sa.a,{fontSize:"small"}),"aria-label":"breadcrumb",children:[Object(h.jsx)(rt.a,{color:"primary",href:"/dashboard",children:Object(h.jsx)(v.a,{variant:"body2",children:"Applications"})}),e.currentPage?Object(h.jsx)(rt.a,{color:"primary",href:"/overview",children:Object(h.jsx)(v.a,{color:"primary",variant:"body2",children:t&&t.name})}):Object(h.jsx)(v.a,{color:"inherit",variant:"body2",children:t&&t.name}),e.currentPage?Object(h.jsx)(v.a,{color:"inherit",variant:"body2",children:e.currentPage}):null]})})}function ca(){var e=na(),t=Object(b.g)(),a=Object(n.useState)([]),s=Object(f.a)(a,2),r=s[0],c=s[1],i=Nt(),o=Kt();Object(n.useEffect)((function(){c(!!localStorage.getItem("PubNubAccounts")&&JSON.parse(localStorage.getItem("PubNubAccounts")))}),[]);return Object(h.jsx)("div",{className:e.grow,children:Object(h.jsx)(ct.a,{position:"static",className:e.root,children:Object(h.jsxs)(it.a,{children:[Object(h.jsx)(ot.a,{id:"toDashboard",edge:"start",onClick:function(){return t.push("/dashboard")},className:e.menuButton,color:"inherit","aria-label":"open drawer",children:Object(h.jsx)("img",{src:"/images/Pubnub logo.svg",width:90,alt:""})}),Object(h.jsx)("div",{className:e.verticalLine}),"/dashboard"===t.location.pathname?Object(h.jsx)(st.a,{"aria-label":"breadcrumb",children:Object(h.jsx)(v.a,{color:"inherit",variant:"body2",children:"Applications"})}):"/channels"===t.location.pathname?Object(h.jsx)(ra,{currentPage:"Channels"}):"/overview"===t.location.pathname?Object(h.jsx)(ra,{currentPage:""}):"/users"===t.location.pathname?Object(h.jsx)(ra,{currentPage:"Users"}):"/text-moderation"===t.location.pathname?Object(h.jsx)(ra,{currentPage:"Text Moderation"}):"/image-moderation"===t.location.pathname?Object(h.jsx)(ra,{currentPage:"Image Moderation"}):"/channels/messages"===t.location.pathname?Object(h.jsxs)(st.a,{separator:Object(h.jsx)(sa.a,{fontSize:"small"}),"aria-label":"breadcrumb",children:[Object(h.jsx)(rt.a,{color:"primary",href:"/dashboard",children:Object(h.jsx)(v.a,{variant:"body2",children:"Applications"})}),Object(h.jsx)(rt.a,{color:"primary",href:"/overview",children:Object(h.jsx)(v.a,{color:"primary",variant:"body2",children:i&&i.name})}),Object(h.jsx)(rt.a,{color:"primary",href:"/channels",children:Object(h.jsx)(v.a,{color:"primary",variant:"body2",children:"Channels"})}),Object(h.jsx)(v.a,{color:"inherit",variant:"body2",children:o})]}):void 0,Object(h.jsx)("div",{className:e.grow}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(k.a,{className:e.button,children:"Docs"})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)("div",{className:e.verticalLine})}),Object(h.jsx)(O.a,{item:!0,className:e.headerMenu,children:Object(h.jsx)(aa,{accounts:r})})]})})})}var ia=a(51),oa=a(452),la=a(453),ua=a(451),da=a(484),ba=a(454),ja=a(455),ha=a(456),ma=Object(M.a)({tableRow:{background:"#FFFFFF 0% 0% no-repeat padding-box",cursor:"pointer",margin:"10px",border:"15px solid #fafafa",opacity:1,"& button":{display:"none"},"&:hover":{"& button":{display:"inline-block"}},minHeight:"80px"},tablehead:{"& .MuiTableHead-root":{},"& .MuiTableRow-root":{backgroundColor:"#fafafa",borderBottom:"0px solid white"},"& .MuiTableCell-head":{minWidth:"180px"}},headLabel:{fontSize:"11px",fontWeight:"600"},keyName:{font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) var(--unnamed-font-size-20)/var(--unnamed-line-spacing-24) var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"left",color:"#414141",opacity:"1"},appName:{font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) var(--unnamed-font-size-16)/var(--unnamed-line-spacing-19) var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"left",fontSize:"12px",color:"#C2C2C2",opacity:1},icons:{padding:"0px"},table:{scrollbarWidth:"none",overflow:"auto",overflowX:"hidden"},alertMessage:{background:"transparent"},tableCellIcon:{width:"220px"},tablePagination:{"& .MuiTablePagination-actions":{background:"#E7EDFF 0% 0% no-repeat padding-box",borderRadius:"5px",opacity:1}}}),ga=a(450),pa=a(9),xa=Object(pa.a)((function(e){return{tooltip:{backgroundColor:e.palette.common.white,boxShadow:e.shadows[1],font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) var(--unnamed-font-size-14)/var(--unnamed-line-spacing-17) var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"left",color:"#414141",opacity:1}}}))(ga.a);function fa(e){var t=e.row,a=ma(),n=e.row&&e.row.custom&&e.row.custom.flag,s=e.row&&e.row.custom&&e.row.custom.ban;return Object(h.jsxs)("div",{children:[!e.isUser||n||s?e.isUser&&!s?Object(h.jsx)(xa,{title:"Unflag",children:Object(h.jsx)(ot.a,{edge:"start",className:a.icons,onClick:function(a){return e.unFlagUser(a,t)},children:Object(h.jsx)("img",{src:"/images/flag.svg",alt:"flag"})})}):void 0:Object(h.jsx)(xa,{title:"Flag",children:Object(h.jsx)(ot.a,{edge:"start",className:a.icons,onClick:function(a){return e.flagUser(a,t)},children:Object(h.jsx)("img",{src:"/images/flag.svg",alt:"flag"})})}),e.isUser&&!s?Object(h.jsx)(xa,{title:"Ban",children:Object(h.jsx)(ot.a,{edge:"start",className:a.icons,onClick:function(a){return e.banUser(a,t)},children:Object(h.jsx)("img",{src:"/images/ban.svg",alt:"block"})})}):e.isUser?Object(h.jsx)(xa,{title:"Unban",children:Object(h.jsx)(ot.a,{edge:"start",className:a.icons,onClick:function(a){return e.unbanUser(a,t)},children:Object(h.jsx)("img",{src:"/images/ban.svg",alt:"block"})})}):void 0,e.isUser?null:Object(h.jsx)(xa,{title:"View",children:Object(h.jsx)(ot.a,{edge:"start",label:"view",className:a.icons,onClick:function(a){return e.viewRow(a,t.id)},children:Object(h.jsx)("img",{src:"/images/watch.svg",alt:"view"})})}),Object(h.jsx)(xa,{title:"Edit",children:Object(h.jsx)(ot.a,{edge:"start",className:a.icons,onMouseOver:function(){return e.setOver(!0)},onMouseOut:function(){return e.setOver(!1)},onClick:function(a){return e.editRow(a,t)},children:Object(h.jsx)("img",{src:"/images/edit.svg",alt:"edit"})})}),Object(h.jsx)(xa,{title:"Delete",children:Object(h.jsx)(ot.a,{edge:"start",label:"delete",className:a.icons,onMouseOver:function(){return e.setOver(!0)},onMouseOut:function(){return e.setOver(!1)},onClick:function(a){return e.deleteRow(a,t.id)},children:Object(h.jsx)("img",{src:"/images/delete.svg",alt:"delete"})})})]})}var Oa=a(478);function va(e){var t=ma(),a=e.tableCount>e.rowsPerPage?e.tableCount:e.tableData.length;return e.tableData.length?Object(h.jsx)(Oa.a,{className:t.tablePagination,rowsPerPageOptions:[e.rowsPerPage],component:"div",count:a,page:e.page,rowsPerPage:e.rowsPerPage,onChangePage:e.handleChangePage,labelDisplayedRows:function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t,"-").concat(a," of ").concat(n)},backIconButtonProps:{color:"primary"},nextIconButtonProps:{color:"primary"}}):null}function ya(e){var t=e.row&&e.row.custom&&e.row.custom.flag,a=e.row&&e.row.custom&&e.row.custom.ban;return Object(h.jsxs)(h.Fragment,{children:[e.isUser&&t?Object(h.jsx)(xa,{title:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(v.a,{children:"Reason: ".concat(e.row.custom.reason)}),Object(h.jsx)("br",{}),Object(h.jsx)(v.a,{children:"Flagged By: ".concat(e.row.custom.flaggedBy)}),Object(h.jsx)("br",{}),Object(h.jsx)(v.a,{children:"Flagged At: ".concat(It(e.row.custom.flaggedAt))})]}),children:Object(h.jsx)("img",{src:"/images/flagged.svg",alt:"flagged"})}):null,e.isUser&&a?Object(h.jsx)("img",{src:"/images/banned.svg",alt:"banned"}):null]})}function ka(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function wa(e,t){return"desc"===e?function(e,a){return ka(e,a,t)}:function(e,a){return-ka(e,a,t)}}function Ca(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}function Fa(e){var t=e.headCells,a=e.data,n=s.a.useState("asc"),r=Object(f.a)(n,2),c=r[0],i=r[1],o=s.a.useState(""),l=Object(f.a)(o,2),u=l[0],d=l[1],b=ma(),j=s.a.useState(0),m=Object(f.a)(j,2),g=m[0],p=m[1],x=s.a.useState(25),v=Object(f.a)(x,1)[0],y=s.a.useState(!1),k=Object(f.a)(y,2),w=k[0],C=k[1];s.a.useEffect((function(){p(e.number)}),[e.number]);var F=function(e,t,a){return e.length>a?e.slice(t*a,t*a+a):e}(a,g,v);function S(e){var a=e.headOrder,n=e.headOrderBy,s=e.onRequestSort;return Object(h.jsx)(oa.a,{className:b.tablehead,children:Object(h.jsx)(la.a,{children:t.map((function(e){return Object(h.jsx)(ua.a,{align:e.alignment,padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a,children:Object(h.jsx)(da.a,{className:b.headLabel,active:n===e.id,direction:n===e.id?a:"asc",onClick:(t=e.id,function(e){s(e,t)}),children:e.label})},e.id);var t}))})})}var N=function(e){return e%5===0?{backgroundColor:"#FFFABB",color:"#FFD502",borderRadius:"8px"}:e%3===0?{backgroundColor:"#FCF0EF",color:"#E66E68",borderRadius:"8px"}:e%2===0?{backgroundColor:"#CAFFE6",color:"#34F89C",borderRadius:"8px"}:{backgroundColor:"#CAF0FF",color:"#3BC8FF",borderRadius:"8px"}};return Object(h.jsxs)("div",{children:[Object(h.jsx)(va,{tableCount:e.tableCount,handleChangePage:function(t,n){a.length<=v&&e.getNewPage(n),p(n)},page:g,tableData:a,rowsPerPage:v}),Object(h.jsx)(ba.a,{className:b.table,children:Object(h.jsxs)(ja.a,{"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table",children:[Object(h.jsx)(S,{headOrder:c,headOrderBy:u,onRequestSort:function(e,t){i(u===t&&"asc"===c?"desc":"asc"),d(t)},rowCount:a.length}),a.length?Object(h.jsx)(ha.a,{children:Ca(F,wa(c,u)).map((function(a,n){return Object(h.jsx)(la.a,{hover:!0,className:b.tableRow,role:"checkbox",tabIndex:-1,onClick:function(t){return e.handleRowClick(t,a,w)},children:t.map((function(t,s){return t.avatar?Object(h.jsx)(ua.a,{align:"left",className:b.tableCell,children:Object(h.jsxs)(O.a,{container:!0,children:[Object(h.jsx)(mt.a,{mr:1,children:Object(h.jsx)(lt.a,{variant:"square",style:N(n),src:a.profileUrl,children:Rt(a.name)})}),Object(h.jsxs)(mt.a,{children:[Object(h.jsx)("small",{className:b.keyName,children:a.name}),Object(h.jsx)("br",{}),Object(h.jsx)("small",{className:b.appName,children:a.appName||a.uuid||a.id})]}),Object(h.jsx)(mt.a,{ml:1,pt:1,children:Object(h.jsx)(ya,{isUser:t.user,row:a})})]})},"".concat(a.id,"-").concat(n,"-").concat(s)):t.icons?Object(h.jsx)(ua.a,{align:"left",className:b.tableCellIcon,children:Object(h.jsx)(fa,{row:a,editRow:e.editRow,deleteRow:e.deleteRow,viewRow:e.viewRow,isUser:t.user,flagUser:e.flagUser,banUser:e.banUser,unFlagUser:e.unFlagUser,unbanUser:e.unbanUser,setOver:C})},"".concat(a.id,"-").concat(n,"-").concat(s)):Object(h.jsx)(ua.a,{align:"left",className:b.tableCell,children:At(a[t.id],t.id)},"".concat(a.id,"-").concat(n,"-").concat(s))}))},"".concat(a.id,"-").concat(n))}))}):e.message?Object(h.jsx)(ha.a,{children:Object(h.jsx)(la.a,{children:Object(h.jsx)(ua.a,{children:Object(h.jsx)(Je.a,{severity:"info",className:b.alertMessage,children:e.message})})})}):null]})})]})}function Sa(e){var t=e.searchResult,a=Object(n.useState)([]),s=Object(f.a)(a,2),r=s[0],c=s[1],i=Object(b.g)();Object(n.useEffect)((function(){var e=St()&&St().result||[],t=[],a={};e.map((function(e,n){return e.keys.map((function(n,s){return(a=n).appName=e.name,a.created=n.created&&wt()(new Date(1e3*n.created)).format("MMMM Do YYYY, h:mm a"),a.modified=n.modified&&wt()(new Date(1e3*n.modified)).format("MMMM Do YYYY, h:mm a"),a.name=n.properties.name,t.push(a),!1})),!1})),c(t),q("PubNubApplicationsWithKey",t)}),[]),Object(n.useEffect)((function(){t.length&&c(t)}),[t]);return Object(h.jsx)(Fa,{data:r,headCells:[{id:"name",alignment:"left",label:"NAME",avatar:!0},{id:"publish_key",alignment:"left",label:"PUBLISH KEY"},{id:"subscribe_key",alignment:"left",label:"SUBSCRIBE KEY"},{id:"created",alignment:"left",label:"CREATED ON"}],handleRowClick:function(e,t){try{var a=r.filter((function(e){return e.subscribe_key===t.subscribe_key}));q("PubNubSelectedApp",a[0]),i.push("/overview")}catch(n){throw new Error(n)}},message:"No data Found",number:0})}var Na=a(40),Ta=Object(M.a)((function(e){return{grow:{flexGrow:1},title:{font:"var(--unnamed-font-style-normal) normal medium var(--unnamed-font-size-26)/var(--unnamed-line-spacing-31) var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",color:"#414141",fontSize:"20px"},search:Object(Na.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:"white",marginRight:e.spacing(2),marginLeft:0,border:"1px solid #e8eaf6",width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(Na.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),searchInput:{background:" #FFFFFF 0% 0% no-repeat padding-box",borderRadius:"5px",opacity:1},labelStyle:{color:"#606060"},methodNotSelected:{background:"white",cursor:"pointer",boxShadow:"0px 3px 6px #00000014",border:"0px solid #6387ED",borderRadius:"10px",color:"black",opacity:1,padding:"20px 0px 20px 0px",width:"170px"},methodSelected:{background:"#E7EDFF 0% 0% no-repeat padding-box",cursor:"pointer",boxShadow:"0px 3px 6px #00000014",border:"1px solid #6387ED",borderRadius:"10px",color:"#6387ED",opacity:1,padding:"20px 0px 20px 0px",width:"170px"},profanityCardRoot:{padding:"20px"},cancelButton:{width:"150px",margin:"3px",height:"37px",boxShadow:"0px 0px 0px white",backgroundColor:"white",border:"1px solid #707070",borderRadius:"8px",opacity:1,font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) 13px/16px var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",color:"#707070",fontSize:"13px"},saveButton:{background:"#6387ED 0% 0% no-repeat padding-box",borderRadius:"8px",opacity:1,color:"white",width:"150px",margin:"8px",height:"37px",fontSize:"13px","&:hover":{background:"#6387ED 0% 0% no-repeat padding-box",color:"white"}},addButton:{fontSize:"17px"},addButtonContainer:{marginTop:"3px",background:"#E7EDFF",color:"#6387ED",opacity:1,"&:hover":{background:"#E7EDFF",color:"#6387ED"}},defaultText:{font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) var(--unnamed-font-size-16)/var(--unnamed-line-spacing-19) var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",textDecoration:"underline",color:"#6387ED",cursor:"pointer",opacity:1,"&:hover":{background:"#E7EDFF",color:"#6387ED"}},loader:{marginRight:"5px"},reroute:{textTransform:"none",marginLeft:"10px",backgroundColor:"#FCF0EF",color:"#FB6340","&:hover":{textTransform:"none",marginLeft:"10px",backgroundColor:"#FCF0EF",color:"#FB6340"}},rerouteIcon:{marginRight:"5px"},subTitle:{font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) var(--unnamed-font-size-18)/var(--unnamed-line-spacing-23) var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"left",color:"#606060",opacity:1,paddingBottom:"12px"},infoIcon:{padding:"3px 0px 0px 5px"}}})),Ma=a(217),Ra=a.n(Ma);function Ia(e){var t=Ta();return Object(h.jsx)(Ra.a,{id:"searchBar",value:e.searched,onRequestSearch:function(t){return e.requestSearch(t)},onChange:function(t){return function(t){t||e.cancelSearch()}(t)},onCancelSearch:function(){return e.cancelSearch()},placeholder:e.placeholder,className:t.searchInput,searchIcon:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("img",{src:"images/search.svg",alt:""})}),disabled:e.disabled})}var Aa=a(485);var Da=function(e){var t=e.status,a=e.msg,r=s.a.useState(!0),c=Object(f.a)(r,2),i=c[0],o=c[1];function l(e,t){"clickaway"!==t&&o(!1)}return Object(n.useEffect)((function(){o(!0)}),[t]),Object(h.jsx)(Aa.a,{id:"snackBar",anchorOrigin:{vertical:"top",horizontal:"right"},open:i,autoHideDuration:9e3,onClose:l,children:Object(h.jsx)(Je.a,{onClose:l,severity:t,children:a})})};var Pa=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(f.a)(c,2),l=o[0],u=o[1],d=Object(n.useState)({success:{status:!1,msg:""},error:{status:!1,msg:""}}),b=Object(f.a)(d,2),j=b[0],m=b[1],g=function(e){m(Object(i.a)(Object(i.a)({},j),{},{success:{status:!1,msg:""},error:{status:!1,msg:""}}));var t=Tt().filter((function(t){return t.publish_key.toLowerCase().includes(e.toLowerCase())||t.subscribe_key.toLowerCase().includes(e.toLowerCase())}));t.length||m(Object(i.a)(Object(i.a)({},j),{},{success:{status:!1,msg:""},error:{status:!0,msg:"No applications found"}})),r(t)};return Object(n.useEffect)((function(){r(Tt())}),[]),Object(h.jsxs)(s.a.Fragment,{children:[Object(h.jsx)(ia.a,{title:"Applications"}),Object(h.jsx)(O.a,{justify:"center",container:!0,children:Object(h.jsx)(O.a,{item:!0,sm:11,md:11,lg:11,children:Object(h.jsxs)(O.a,{justify:"space-between",container:!0,spacing:0,children:[Object(h.jsx)(O.a,{item:!0,sm:8,md:8,xs:12,children:Object(h.jsx)(mt.a,{pl:1,pt:4,pb:2,children:Object(h.jsx)(v.a,{testid:"AppListingHeader",variant:"h5",children:"Applications"})})}),Object(h.jsx)(O.a,{item:!0,sm:4,md:4,xs:12,children:Object(h.jsx)(mt.a,{pl:8,pt:4,pb:2,children:Object(h.jsx)(Ia,{testId:"AppListingSearchText",searched:l,requestSearch:g,cancelSearch:function(){u(""),g(l)},placeholder:"Search for publish or subscribe key"})})})]})})}),Object(h.jsx)("br",{}),Object(h.jsx)(O.a,{container:!0,spacing:0,justify:"center",children:Object(h.jsx)(O.a,{item:!0,xs:12,sm:11,md:11,lg:11,children:Object(h.jsx)(Sa,{searchResult:a})})}),j.error.status&&Object(h.jsx)(Da,{msg:j.error.msg,status:"info"}),j.success.status&&Object(h.jsx)(Da,{msg:j.success.msg,status:"success"})]})},La=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.a,{}),Object(h.jsx)(ca,{}),Object(h.jsx)(Pa,{})]})},Ea=a(399),Ba=a(400),qa=a(457),Ua=a(459),Wa=a(463),_a=Object(M.a)((function(e){return{root:{display:"flex",padding:"10px"},textModerationIcon:{color:"#00e676"},overviewIcon:{color:"#673ab7"},channelIcon:{color:"#e91e63"},settingsIcon:{color:"#f44336"},chatIcon:{color:"#ffc400"},userIcon:{color:"#00e5ff"},drawer:Object(Na.a)({},e.breakpoints.up("xs"),{width:220,flexShrink:0}),listItemRoot:{minWidth:"40px"},content:{flexGrow:1,padding:e.spacing(3)}}})),za=a(458),Ka=a(460),Ha=a(461),Va=a(462),Ya=a(464),Ja=a(465),Ga=a(466),Xa=a(467);var $a=function(e){var t=e.content,a=_a(),n=Object(b.g)(),r=s.a.useState(!1),c=Object(f.a)(r,2),i=c[0],o=c[1],l=Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:a.toolbar}),Object(h.jsxs)(Ea.a,{disablePadding:!0,children:[Object(h.jsxs)(Ba.a,{id:"overviewItem",onClick:function(){return n.push("/overview")},selected:"/overview"===n.location.pathname,button:!0,children:[Object(h.jsx)(qa.a,{className:a.listItemRoot,children:Object(h.jsx)(za.a,{className:a.overviewIcon})}),Object(h.jsx)(Ua.a,{children:Object(h.jsx)(v.a,{variant:"body2",children:"Overview"})})]}),Object(h.jsxs)(Ba.a,{id:"settingsItem",button:!0,onClick:function(){o(!i)},children:[Object(h.jsx)(qa.a,{className:a.listItemRoot,children:Object(h.jsx)(Ka.a,{className:a.settingsIcon})}),Object(h.jsx)(Ua.a,{children:Object(h.jsx)(v.a,{variant:"body2",children:"Settings"})}),i?Object(h.jsx)(Ha.a,{}):Object(h.jsx)(Va.a,{})]}),Object(h.jsx)(Wa.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(h.jsxs)(Ea.a,{component:"div",disablePadding:!0,children:[Object(h.jsxs)(Ba.a,{button:!0,onClick:function(){return n.push("/text-moderation")},selected:"/text-moderation"===n.location.pathname,children:[Object(h.jsx)(qa.a,{className:a.settingsItemRoot,children:Object(h.jsx)(Ya.a,{className:a.textModerationIcon})}),Object(h.jsx)(Ua.a,{children:Object(h.jsx)(v.a,{variant:"body2",children:"Text Moderation"})})]}),Object(h.jsxs)(Ba.a,{button:!0,onClick:function(){return n.push("/image-moderation")},children:[Object(h.jsx)(qa.a,{className:a.settingsItemRoot,children:Object(h.jsx)(Ja.a,{className:a.chatIcon})}),Object(h.jsx)(Ua.a,{children:Object(h.jsx)(v.a,{variant:"body2",children:"Image Moderation"})})]})]})}),Object(h.jsxs)(Ba.a,{id:"usersItem",button:!0,onClick:function(){return n.push("/users")},selected:"/users"===n.location.pathname,children:[Object(h.jsx)(qa.a,{className:a.listItemRoot,children:Object(h.jsx)(Ga.a,{className:a.userIcon})}),Object(h.jsx)(Ua.a,{children:Object(h.jsx)(v.a,{variant:"body2",children:"Users"})})]}),Object(h.jsxs)(Ba.a,{id:"channelsItem",button:!0,onClick:function(){return n.push("/channels")},selected:"/channels"===n.location.pathname,children:[Object(h.jsx)(qa.a,{className:a.listItemRoot,children:Object(h.jsx)(Xa.a,{className:a.channelIcon})}),Object(h.jsx)(Ua.a,{children:Object(h.jsx)(v.a,{variant:"body2",children:"Channels"})})]})]})]});return Object(h.jsxs)("div",{className:a.root,children:[Object(h.jsx)("nav",{className:a.drawer,children:l}),Object(h.jsx)("main",{className:a.content,children:t})]})},Za=function(e){var t=e.children;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.a,{}),Object(h.jsx)(ca,{}),Object(h.jsx)($a,{content:t})]})},Qa=a(468),en=a(479),tn=a(432),an=a(475),nn=function(e){var t=e.setState,a=e.state,n=e.profanityList,s=e.setProfanityList,r=e.name;return function(e){"wordListChannel"===e.target.name?t(Object(i.a)(Object(i.a)({},a),{},{channelOnChange:!0,wordList:Object(i.a)(Object(i.a)({},a.wordList),{},{wordListChannel:e.target.value})})):"wordListLanguage"===e.target.name?t(Object(i.a)(Object(i.a)({},a),{},{wordList:Object(i.a)(Object(i.a)({},a.wordList),{},{wordListLanguage:e.target.value})})):"wordListLanguageWords"===e.target.name?s(Object(i.a)(Object(i.a)({},n),{},Object(Na.a)({},a.wordList.wordListLanguage,e.target.value))):"wordListModtype"===e.target.name?t(Object(i.a)(Object(i.a)({},a),{},{wordList:Object(i.a)(Object(i.a)({},a.wordList),{},{wordListModType:e.target.value})})):"wordListCharacterToMaskWith"===e.target.name?t(Object(i.a)(Object(i.a)({},a),{},{wordList:Object(i.a)(Object(i.a)({},a.wordList),{},{wordListCharacterToMaskWith:e.target.value})})):"wordListRerouteMessage"===e.target.name?t(Object(i.a)(Object(i.a)({},a),{},{wordList:Object(i.a)(Object(i.a)({},a.wordList),{},{wordListReRouteMessages:e.target.checked})})):"applyToAllChannelIdsWordlist"===r&&(e.target.checked?t(Object(i.a)(Object(i.a)({},a),{},{wordList:Object(i.a)(Object(i.a)({},a.wordList),{},{wordListChannel:"*",applyToAllChannelIdsWordlist:e.target.checked})})):t(Object(i.a)(Object(i.a)({},a),{},{wordList:Object(i.a)(Object(i.a)({},a.wordList),{},{applyToAllChannelIdsWordlist:e.target.checked})})))}},sn=function(e){var t=e.handleSave,a=e.defaultWords,n=e.state,s=e.setState,r=e.profanityList,c=e.setProfanityList,i=Ta(),o=n.wordList,l=o.wordListChannel,u=o.wordListLanguage,d=o.wordListModType,b=o.wordsListPatternError,j=o.wordListReRouteMessages,m=o.wordsListMaskCharError,g=o.wordsListChannelError,p=o.applyToAllChannelIdsWordlist,x=o.wordListCharacterToMaskWith,f=Yt(j),C=Yt(p);return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(Qa.a,{className:i.profanityCardRoot,children:[Object(h.jsxs)(O.a,{container:!0,children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)("label",{testId:"Channel_Id",className:i.labelStyle,children:"Channel ID"})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{className:i.infoIcon,children:Object(h.jsx)(xa,{title:"Note: Please add a Channel ID or a Channel pattern. eg. channel.* OR pubNub. Channel ID pattern applies to BOTH text & image moderation if both are enabled.",children:Object(h.jsx)("img",{src:"/images/info-circle.svg",alt:"info-circle"})})})})]}),Object(h.jsx)(mt.a,{pt:1,mb:2,children:Object(h.jsx)(y.a,{id:"channelId",placeholder:"Channel",name:"wordListChannel",disabled:C,error:g,variant:"outlined",size:"small",fullWidth:!0,value:l,onChange:nn({setState:s,state:n,profanityList:r,setProfanityList:c})})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsxs)(O.a,{container:!0,justify:"flex-start",children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(en.a,{id:"allChannelIdcheckBox",checked:C,onChange:nn({setState:s,state:n,name:"applyToAllChannelIdsWordlist"})})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{pt:1,children:Object(h.jsx)(v.a,{testid:"allChannelIdText",variant:"body1",children:"Apply to All Channel IDs"})})})]})}),Object(h.jsx)("br",{}),Object(h.jsx)(O.a,{container:!0,justify:"flex-start",children:Object(h.jsxs)(O.a,{item:!0,sm:5,children:[Object(h.jsx)("label",{testId:"language",className:i.labelStyle,children:"Language"}),Object(h.jsx)(mt.a,{pt:1,mb:2,children:Object(h.jsx)(tn.a,{className:i.formControl,size:"small",placeholder:"Langauge",fullWidth:!0,children:Object(h.jsx)(an.a,{id:"wordListLanguage",variant:"outlined",MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null},name:"wordListLanguage",value:u,onChange:nn({setState:s,state:n,profanityList:r,setProfanityList:c}),inputProps:{"aria-label":"Without label"},children:["English","Hindi","Spanish","Portugese","French"].map((function(e,t){return Object(h.jsx)(pt.a,{value:e,children:e},t)}))})})})]})}),Object(h.jsx)("br",{}),Object(h.jsxs)(O.a,{container:!0,justify:"space-between",children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsxs)(O.a,{container:!0,children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)("label",{testId:"WordList",className:i.labelStyle,children:"Word List"})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{className:i.infoIcon,children:Object(h.jsx)(xa,{title:"Note: Please add comma after a every word. No spaces are allowed",children:Object(h.jsx)("img",{src:"/images/info-circle.svg",alt:"info-circle"})})})})]})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(v.a,{testid:"defaultWordsLabel",align:"right",className:i.defaultText,onClick:function(){return a(u)},children:"Use Default words"})})]}),Object(h.jsx)(mt.a,{pt:1,mb:2,children:Object(h.jsx)(y.a,{id:"defaultWordsBox",placeholder:"Type @ to select parameters",className:i.languageWords,multiline:!0,error:b,rowsMax:6,name:"wordListLanguageWords",value:qt(r,u),onChange:nn({setState:s,state:n,profanityList:r,setProfanityList:c}),fullWidth:!0,variant:"outlined"})}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsxs)(O.a,{container:!0,justify:"flex-start",spacing:6,children:[Object(h.jsxs)(O.a,{item:!0,sm:6,md:6,children:[Object(h.jsx)("label",{testId:"MaskOrBlock",className:i.labelStyle,children:"When Profanity is detected"}),Object(h.jsx)(mt.a,{pt:1,mb:2,children:Object(h.jsx)(tn.a,{className:i.formControl,size:"small",fullWidth:!0,children:Object(h.jsxs)(an.a,{id:"MaskOrBlockOption",variant:"outlined",MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null},name:"wordListModtype",onChange:nn({setState:s,state:n,profanityList:r,setProfanityList:c}),value:d,inputProps:{"aria-label":"Without label"},children:[Object(h.jsx)(pt.a,{value:"Mask-word",children:"Mask Word"}),Object(h.jsx)(pt.a,{value:"Block-message",children:"Block Message"})]})})})]}),Object(h.jsx)(O.a,{item:!0,sm:6,md:6,children:"Mask-word"===d&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(O.a,{container:!0,children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)("label",{testId:"maskLabel",className:i.label,children:"Set a masking character"})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{className:i.infoIcon,children:Object(h.jsx)(xa,{title:"Note: Default value will be *",children:Object(h.jsx)("img",{src:"/images/info-circle.svg",alt:"info-circle"})})})})]}),Object(h.jsx)(mt.a,{pt:1,children:Object(h.jsx)(y.a,{id:"maskChar",size:"small",placeholder:"Set",inputProps:{maxLength:1},error:m,className:i.languageWords,value:x,onChange:nn({setState:s,state:n,profanityList:r,setProfanityList:c}),fullWidth:!0,name:"wordListCharacterToMaskWith",variant:"outlined"})})]})})]}),Object(h.jsx)("br",{}),Object(h.jsxs)(O.a,{container:!0,justify:"flex-start",children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsxs)(O.a,{container:!0,children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(en.a,{id:"reRouteCheckBox",name:"wordListRerouteMessage",onChange:nn({setState:s,state:n,profanityList:r,setProfanityList:c}),checked:f})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{pt:1,children:Object(h.jsx)(v.a,{testid:"ReRouteLabel",variant:"body1",children:"Route messages to"})})})]})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{children:Object(h.jsxs)(k.a,{className:i.reroute,children:[Object(h.jsx)("img",{src:"/images/reroute.svg",className:i.rerouteIcon,alt:"reroute"})," ","banned."+l]})})})]}),Object(h.jsx)("br",{}),Object(h.jsxs)(O.a,{container:!0,justify:"space-between",spacing:2,children:[Object(h.jsx)(O.a,{item:!0}),Object(h.jsxs)(O.a,{item:!0,children:[Object(h.jsx)(k.a,{id:"cancel",className:i.cancelButton,variant:"contained",children:"Cancel"}),Object(h.jsxs)(k.a,{id:"save",disabled:n.saveLoading,className:i.saveButton,onClick:t,variant:"contained",children:[n.saveLoading?Object(h.jsx)(w.a,{size:25,thickness:4,color:"primary",className:i.loader}):Object(h.jsx)(h.Fragment,{}),"Save"]})]})]})]})})},rn=Object(M.a)((function(e){return{filterText:{font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) 24px/16px Graphik",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"left",color:"#606060",opacity:1,fontSize:"18px"},label:{color:"#606060"},cardRoot:{padding:"20px"},cancelButtonStyle:{width:"150px",margin:"3px",height:"37px",boxShadow:"0px 0px 0px white",backgroundColor:"white",border:"1px solid #707070",borderRadius:"8px",opacity:1,font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) 13px/16px var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",color:"#707070",fontSize:"13px"},saveButtonStyle:{background:"#6387ED 0% 0% no-repeat padding-box",borderRadius:"8px",opacity:1,color:"white",width:"150px",margin:"8px",height:"37px",fontSize:"13px","&:hover":{background:"#6387ED 0% 0% no-repeat padding-box",color:"white"}},testText:{font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) var(--unnamed-font-size-16)/var(--unnamed-line-spacing-19) var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",textDecoration:"underline",color:"#6387ED",cursor:"pointer",opacity:1,"&:hover":{background:"#E7EDFF",color:"#6387ED"}},loaderStyle:{marginRight:"5px"},rerouteBtn:{textTransform:"none",marginLeft:"10px",backgroundColor:"#FCF0EF",color:"#FB6340","&:hover":{textTransform:"none",marginLeft:"10px",backgroundColor:"#FCF0EF",color:"#FB6340"}},rerouteIconStyle:{marginRight:"5px"},infoIcon:{padding:"3px 0px 0px 5px"}}})),cn=Object(pa.a)({root:{color:"#6387ED",height:8},thumb:{height:15,width:15,backgroundColor:"#6387ED",border:"2px solid currentColor",marginTop:-4,marginLeft:-4,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}}),on=Object(M.a)((function(e){return{root:{width:"100%"},margin:{height:e.spacing(3)}}})),ln=cn(a(486).a);function un(e){var t=e.value,a=e.onChange,n=e.name,s=on(),r=[{value:0,label:"tisane"===n?"None":0},{value:.25,label:"tisane"===n?"Extreme":.25},{value:.5,label:"tisane"===n?"High":.5},{value:.75,label:"tisane"===n?"Medium":.75},{value:1,label:"tisane"===n?"Low":1}];return Object(h.jsx)("div",{className:s.root,children:Object(h.jsx)(ln,{value:t,min:0,getAriaValueText:function(e){return"".concat(e)},"aria-labelledby":"discrete-slider",step:.25,marks:r,max:1,onChange:a})})}var dn=function(e){var t=e.setState,a=e.state,n=e.name;return function(e,s){"toolForAutomaticDetection"===e.target.name?t(Object(i.a)(Object(i.a)({},a),{},{automaticDetection:Object(i.a)(Object(i.a)({},a.automaticDetection),{},{toolForAutomaticDetection:e.target.value})})):"automaticDetectionChannel"===e.target.name?t(Object(i.a)(Object(i.a)({},a),{},{channelOnChange:!0,automaticDetection:Object(i.a)(Object(i.a)({},a.automaticDetection),{},{automaticDetectionChannel:e.target.value})})):"automaticDetectionReRouteMessages"===e.target.name?t(Object(i.a)(Object(i.a)({},a),{},{automaticDetection:Object(i.a)(Object(i.a)({},a.automaticDetection),{},{automaticDetectionReRouteMessages:e.target.checked})})):"automaticDetectionModType"===e.target.name?t(Object(i.a)(Object(i.a)({},a),{},{automaticDetection:Object(i.a)(Object(i.a)({},a.automaticDetection),{},{automaticDetectionModType:e.target.value})})):"riskFactorThresholdForVulgar"===n?t(Object(i.a)(Object(i.a)({},a),{},{automaticDetection:Object(i.a)(Object(i.a)({},a.automaticDetection),{},{siftNinjaRiskFactorThresholdVulgar:s})})):"riskFactorThresholdForSexting"===n?t(Object(i.a)(Object(i.a)({},a),{},{automaticDetection:Object(i.a)(Object(i.a)({},a.automaticDetection),{},{siftNinjaRiskFactorThresholdSexting:s})})):"riskFactorThresholdForRacism"===n?t(Object(i.a)(Object(i.a)({},a),{},{automaticDetection:Object(i.a)(Object(i.a)({},a.automaticDetection),{},{siftNinjaRiskFactorThresholdRacism:s})})):"siftNinjaAccountName"===e.target.name?t(Object(i.a)(Object(i.a)({},a),{},{automaticDetection:Object(i.a)(Object(i.a)({},a.automaticDetection),{},{siftNinjaAccountName:e.target.value})})):"siftNinjaChannelName"===e.target.name?t(Object(i.a)(Object(i.a)({},a),{},{automaticDetection:Object(i.a)(Object(i.a)({},a.automaticDetection),{},{siftNinjaChannelName:e.target.value})})):"siftNinjaApiKey"===e.target.name?t(Object(i.a)(Object(i.a)({},a),{},{automaticDetection:Object(i.a)(Object(i.a)({},a.automaticDetection),{},{siftNinjaApiKey:e.target.value})})):"automaticDetectionCharacterToMaskWith"===e.target.name?t(Object(i.a)(Object(i.a)({},a),{},{automaticDetection:Object(i.a)(Object(i.a)({},a.automaticDetection),{},{automaticDetectionCharacterToMaskWith:e.target.value})})):"applyToAllChannelIdsAutomatic"===n&&(e.target.checked?t(Object(i.a)(Object(i.a)({},a),{},{automaticDetection:Object(i.a)(Object(i.a)({},a.automaticDetection),{},{automaticDetectionChannel:"*",applyToAllChannelIdsAutomatic:e.target.checked})})):t(Object(i.a)(Object(i.a)({},a),{},{automaticDetection:Object(i.a)(Object(i.a)({},a.automaticDetection),{},{applyToAllChannelIdsAutomatic:e.target.checked})})))}},bn=function(e){var t=e.setState,a=e.state,n=e.name;return function(e,s){"tisaneApiKey"===e.target.name?t(Object(i.a)(Object(i.a)({},a),{},{automaticDetection:Object(i.a)(Object(i.a)({},a.automaticDetection),{},{tisaneApiKey:e.target.value})})):"tisaneLanguage"===e.target.name?t(Object(i.a)(Object(i.a)({},a),{},{automaticDetection:Object(i.a)(Object(i.a)({},a.automaticDetection),{},{tisaneLanguage:e.target.value})})):"riskFactorThresholdForBigotry"===n?t(Object(i.a)(Object(i.a)({},a),{},{channelOnChange:!0,automaticDetection:Object(i.a)(Object(i.a)({},a.automaticDetection),{},{tisaneRiskFactorThresholdBigotry:s})})):"riskFactorThresholdForCyberBullying"===n?t(Object(i.a)(Object(i.a)({},a),{},{automaticDetection:Object(i.a)(Object(i.a)({},a.automaticDetection),{},{tisaneRiskFactorThresholdCyberBullying:s})})):"riskFactorThresholdForCriminalActivity"===n?t(Object(i.a)(Object(i.a)({},a),{},{automaticDetection:Object(i.a)(Object(i.a)({},a.automaticDetection),{},{tisaneRiskFactorThresholdCriminalActivity:s})})):"riskFactorThresholdForSexualAdvances"===n?t(Object(i.a)(Object(i.a)({},a),{},{automaticDetection:Object(i.a)(Object(i.a)({},a.automaticDetection),{},{tisaneRiskFactorThresholdSexualAdvances:s})})):"riskFactorThresholdForProfanity"===n&&t(Object(i.a)(Object(i.a)({},a),{},{automaticDetection:Object(i.a)(Object(i.a)({},a.automaticDetection),{},{tisaneRiskFactorThresholdProfanity:s})}))}},jn=function(e){var t=e.state,a=e.setState,n=e.handleSave,s=t.automaticDetection,r=s.toolForAutomaticDetection,c=s.siftNinjaRiskFactorThresholdVulgar,i=s.siftNinjaRiskFactorThresholdSexting,o=s.siftNinjaRiskFactorThresholdRacism,l=s.siftNinjaAccountName,u=s.siftNinjaChannelName,d=s.siftNinjaApiKey,b=s.automaticMaskCharError,j=s.automaticChannelError,m=s.automaticDetectionChannel,g=s.automaticDetectionReRouteMessages,p=s.automaticDetectionModType,x=s.applyToAllChannelIdsAutomatic,f=s.automaticDetectionCharacterToMaskWith,C=s.tisaneRiskFactorThresholdBigotry,F=s.tisaneRiskFactorThresholdCyberBullying,S=s.tisaneRiskFactorThresholdCriminalActivity,N=s.tisaneRiskFactorThresholdSexualAdvances,T=s.tisaneRiskFactorThresholdProfanity,M=s.tisaneApiKey,R=s.tisaneLanguage,I=rn(),A=Yt(g),D=Yt(x),P=Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{children:"Sign up with "}),Object(h.jsx)("a",{style:{fontWeight:600,color:"black",textDecorationLine:"none"},href:"https://tisane.ai/signup/",children:"Tisane.ai"}),Object(h.jsx)("span",{children:" locate your key under your "}),Object(h.jsx)("a",{style:{fontWeight:600,color:"black",textDecorationLine:"none"},href:"https://tisane.ai/developer/",children:"Developer Profile."}),Object(h.jsx)("span",{children:" Use primary or secondary key. "})]});return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(Qa.a,{className:I.cardRoot,children:[Object(h.jsxs)(mt.a,{children:[Object(h.jsxs)(O.a,{container:!0,children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)("label",{testId:"Channel_Id",className:I.label,children:"Channel ID"})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{className:I.infoIcon,children:Object(h.jsx)(xa,{title:"Note: Please add a Channel ID or a Channel pattern. eg. channel.* OR pubNub. Channel ID pattern applies to BOTH text & image moderation if both are enabled.",children:Object(h.jsx)("img",{src:"/images/info-circle.svg",alt:"info-circle"})})})})]}),Object(h.jsx)(mt.a,{pt:1,mb:2,children:Object(h.jsx)(y.a,{id:"channelId",variant:"outlined",placeholder:"Enter channel or channel pattern here Under18.*, Under18",size:"small",fullWidth:!0,disabled:D,error:j,name:"automaticDetectionChannel",value:m,onChange:dn({setState:a,state:t})})})]}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsxs)(O.a,{container:!0,justify:"flex-start",children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(en.a,{id:"applyAll",checked:D,onChange:dn({setState:a,state:t,name:"applyToAllChannelIdsAutomatic"})})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{pt:1,pl:1,children:Object(h.jsx)(v.a,{testId:"applyAll_channel",variant:"body1",children:"Apply to All Channel IDs"})})})]})}),Object(h.jsx)("br",{}),Object(h.jsx)(O.a,{container:!0,justify:"flex-start",children:Object(h.jsxs)(O.a,{item:!0,sm:12,children:[Object(h.jsx)("label",{testId:"SelectToolLabel",className:I.label,children:"Select third party tool for Automatic Detection"}),Object(h.jsx)(mt.a,{pt:1,mb:2,children:Object(h.jsx)(tn.a,{size:"small",fullWidth:!0,children:Object(h.jsxs)(an.a,{id:"selectTool",variant:"outlined",name:"toolForAutomaticDetection",value:r,onChange:dn({setState:a,state:t}),MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null},children:[Object(h.jsx)(pt.a,{value:"tisane",children:"Tisane.ai"}),Object(h.jsx)(pt.a,{value:"siftninja",children:"SiftNinja"})]})})})]})}),Object(h.jsx)("br",{}),"siftninja"===r&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(mt.a,{pt:1,children:[Object(h.jsxs)(O.a,{container:!0,children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)("label",{testid:"accountName",className:I.label,children:"SiftNinja Account Name"})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{className:I.infoIcon,children:Object(h.jsx)(xa,{title:"This option is only available for users who have an existing SiftNinja account",children:Object(h.jsx)("img",{src:"/images/info-circle.svg",alt:"info-circle"})})})})]}),Object(h.jsx)(mt.a,{pt:1,mb:2,children:Object(h.jsx)(y.a,{id:"siftAccountName",variant:"outlined",size:"small",placeholder:"SiftNinja Account Name",fullWidth:!0,name:"siftNinjaAccountName",value:l,onChange:dn({setState:a,state:t})})})]}),Object(h.jsx)("br",{}),Object(h.jsxs)(mt.a,{pt:1,children:[Object(h.jsxs)(O.a,{container:!0,children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)("label",{testId:"siftChannelName",className:I.label,children:"SiftNinja Channel Name"})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{className:I.infoIcon,children:Object(h.jsx)(xa,{title:"This option is only available for users who have an existing SiftNinja account",children:Object(h.jsx)("img",{src:"/images/info-circle.svg",alt:"info-circle"})})})})]}),Object(h.jsx)(mt.a,{pt:1,mb:2,children:Object(h.jsx)(y.a,{id:"siftChannelName",variant:"outlined",size:"small",fullWidth:!0,name:"siftNinjaChannelName",placeholder:"SiftNinja Channel Name",value:u,onChange:dn({setState:a,state:t})})})]}),Object(h.jsx)("br",{}),Object(h.jsxs)(mt.a,{pt:1,children:[Object(h.jsxs)(O.a,{container:!0,children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)("label",{testid:"siftApiKey",className:I.label,children:"SiftNinja API Key"})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{className:I.infoIcon,children:Object(h.jsx)(xa,{title:"This option is only available for users who have an existing SiftNinja account",children:Object(h.jsx)("img",{src:"/images/info-circle.svg",alt:"info-circle"})})})})]}),Object(h.jsxs)(mt.a,{pt:1,mb:2,children:[Object(h.jsx)(y.a,{id:"siftApiKey",variant:"outlined",size:"small",fullWidth:!0,name:"siftNinjaApiKey",placeholder:"SiftNinja API key",value:d,onChange:dn({setState:a,state:t})}),Object(h.jsx)(v.a,{testid:"connectivity",align:"right",className:I.testText,children:"Test Conectivity"})]})]}),Object(h.jsx)("br",{}),Object(h.jsxs)(O.a,{container:!0,justify:"space-between",spacing:6,children:[Object(h.jsx)(O.a,{item:!0,sm:6,xs:12,md:6,lg:6,children:Object(h.jsxs)(mt.a,{children:[Object(h.jsx)("label",{testid:"vulgarRiskFactor",className:I.label,children:"SiftNinja Risk Factor Threshold For Vulgarity"}),Object(h.jsx)(mt.a,{pt:1,children:Object(h.jsx)(un,{id:"vulgarRiskFactor",name:r,value:c,onChange:dn({setState:a,state:t,name:"riskFactorThresholdForVulgar"})})})]})}),Object(h.jsx)(O.a,{item:!0,sm:6,xs:6,md:6,lg:6,children:Object(h.jsxs)(mt.a,{children:[Object(h.jsx)("label",{testId:"SextingRisk",className:I.label,children:"SiftNinja Risk Factor Threshold For Sexting"}),Object(h.jsx)(mt.a,{pt:1,children:Object(h.jsx)(un,{id:"SextingRisk",name:r,value:i,onChange:dn({setState:a,state:t,name:"riskFactorThresholdForSexting"})})})]})}),Object(h.jsx)(O.a,{item:!0,sm:6,xs:6,md:6,lg:6,children:Object(h.jsxs)(mt.a,{children:[Object(h.jsx)("label",{testid:"racismRisk",className:I.label,children:"SiftNinja Risk Factor Threshold For Racism"}),Object(h.jsx)(mt.a,{pt:1,children:Object(h.jsx)(un,{id:"racismRisk",name:r,value:o,onChange:dn({setState:a,state:t,name:"riskFactorThresholdForRacism"})})})]})})]})]}),"tisane"===r&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(mt.a,{pt:1,children:[Object(h.jsxs)(O.a,{container:!0,children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)("label",{testid:"tisaneApiKey",className:I.label,children:"Tisane.ai API Key"})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{className:I.infoIcon,children:Object(h.jsx)(xa,{title:P,interactive:!0,children:Object(h.jsx)("img",{src:"/images/info-circle.svg",alt:"info-circle"})})})})]}),Object(h.jsx)(mt.a,{pt:1,mb:2,children:Object(h.jsx)(y.a,{id:"tisaneApiKey",variant:"outlined",size:"small",fullWidth:!0,name:"tisaneApiKey",value:M,placeholder:"Tisane.ai API key",onChange:bn({setState:a,state:t})})})]}),Object(h.jsx)("br",{}),Object(h.jsx)(O.a,{container:!0,justify:"flex-start",children:Object(h.jsxs)(O.a,{item:!0,sm:5,children:[Object(h.jsx)("label",{testid:"lang",className:I.labelStyle,children:"Language"}),Object(h.jsx)(mt.a,{pt:1,mb:2,children:Object(h.jsx)(tn.a,{className:I.formControl,size:"small",placeholder:"Langauge",fullWidth:!0,children:Object(h.jsx)(an.a,{id:"lang",variant:"outlined",MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null},value:R,name:"tisaneLanguage",inputProps:{"aria-label":"Without label"},onChange:bn({setState:a,state:t}),children:["English","Spanish","Portugese","French"].map((function(e,t){return Object(h.jsx)(pt.a,{value:e,children:e},t)}))})})})]})}),Object(h.jsx)("br",{}),Object(h.jsxs)(O.a,{container:!0,justify:"space-between",spacing:6,children:[Object(h.jsx)(O.a,{item:!0,sm:6,xs:12,md:6,lg:6,children:Object(h.jsxs)(mt.a,{pl:1,children:[Object(h.jsx)("label",{testid:"BigotryLevel",className:I.label,children:"Filter Level For Bigotry (Hate Speech)"}),Object(h.jsx)(mt.a,{pt:1,children:Object(h.jsx)(un,{id:"BigotryLevel",value:C,name:r,onChange:bn({setState:a,state:t,name:"riskFactorThresholdForBigotry"})})})]})}),Object(h.jsx)(O.a,{item:!0,sm:6,xs:6,md:6,lg:6,children:Object(h.jsxs)(mt.a,{pl:1,children:[Object(h.jsx)("label",{testid:"CyberBullying",className:I.label,children:"Filter Level For Personal Attacks (Cyberbullying)"}),Object(h.jsx)(mt.a,{pt:1,children:Object(h.jsx)(un,{id:"CyberBullying",value:F,name:r,onChange:bn({setState:a,state:t,name:"riskFactorThresholdForCyberBullying"})})})]})}),Object(h.jsx)(O.a,{item:!0,sm:6,xs:12,md:6,lg:6,children:Object(h.jsxs)(mt.a,{pl:1,children:[Object(h.jsx)("label",{testid:"criminalLevel",className:I.label,children:"Filter Level For Criminal Activity"}),Object(h.jsx)(mt.a,{pt:1,children:Object(h.jsx)(un,{id:"criminalLevel",value:S,name:r,onChange:bn({setState:a,state:t,name:"riskFactorThresholdForCriminalActivity"})})})]})}),Object(h.jsx)(O.a,{item:!0,sm:6,xs:6,md:6,lg:6,children:Object(h.jsxs)(mt.a,{pl:1,children:[Object(h.jsx)("label",{testid:"sexualLevel",className:I.label,children:"Filter Level For Sexual Advances"}),Object(h.jsx)(mt.a,{pt:1,children:Object(h.jsx)(un,{id:"sexualLevel",value:N,name:r,onChange:bn({setState:a,state:t,name:"riskFactorThresholdForSexualAdvances"})})})]})}),Object(h.jsx)(O.a,{item:!0,sm:6,xs:12,md:6,lg:6,children:Object(h.jsxs)(mt.a,{pl:1,children:[Object(h.jsx)("label",{testid:"ProfanityLevel",className:I.label,children:"Filter Level For Profanity"}),Object(h.jsx)(mt.a,{pt:1,children:Object(h.jsx)(un,{id:"ProfanityLevel",value:T,name:r,onChange:bn({setState:a,state:t,name:"riskFactorThresholdForProfanity"})})})]})})]})]}),Object(h.jsxs)(O.a,{container:!0,justify:"flex-start",spacing:6,children:[Object(h.jsxs)(O.a,{item:!0,sm:6,md:6,children:[Object(h.jsx)("label",{testid:"blockOrMask",className:I.label,children:"When profanity is detected"}),Object(h.jsx)(mt.a,{pt:1,mb:2,children:Object(h.jsx)(tn.a,{size:"small",fullWidth:!0,children:Object(h.jsxs)(an.a,{id:"blockOrMask",variant:"outlined",value:p,name:"automaticDetectionModType",onChange:dn({setState:a,state:t}),MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null},inputProps:{"aria-label":"Without label"},children:[Object(h.jsx)(pt.a,{value:"mask-message",children:"Mask Message"}),Object(h.jsx)(pt.a,{value:"block-message",children:"Block Message"})]})})})]}),Object(h.jsx)(O.a,{item:!0,sm:6,md:6,children:"mask-message"===p&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(O.a,{container:!0,children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)("label",{testid:"setChar",className:I.label,children:"Set a masking character"})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{className:I.infoIcon,children:Object(h.jsx)(xa,{title:"Note: Default value will be *",children:Object(h.jsx)("img",{src:"/images/info-circle.svg",alt:"info-circle"})})})})]}),Object(h.jsx)(mt.a,{pt:1,children:Object(h.jsx)(y.a,{id:"setChar",size:"small",placeholder:"Set",error:b,inputProps:{maxLength:1},className:I.languageWords,value:f,name:"automaticDetectionCharacterToMaskWith",onChange:dn({setState:a,state:t}),fullWidth:!0,variant:"outlined"})})]})})]}),Object(h.jsx)("br",{}),Object(h.jsxs)(O.a,{container:!0,children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsxs)(O.a,{container:!0,justify:"flex-start",children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(en.a,{id:"reRoute",name:"automaticDetectionReRouteMessages",onChange:dn({setState:a,state:t}),checked:A})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{pt:1,pl:1,children:Object(h.jsx)(v.a,{testid:"reRouteMsg",variant:"body1",children:"Route messages to"})})})]})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{children:Object(h.jsxs)(k.a,{className:I.rerouteBtn,children:[Object(h.jsx)("img",{src:"/images/reroute.svg",className:I.rerouteIconStyle,alt:"reroute"}),"banned."+m]})})})]}),Object(h.jsx)("br",{}),Object(h.jsxs)(O.a,{container:!0,justify:"space-between",spacing:3,children:[Object(h.jsx)(O.a,{item:!0}),Object(h.jsxs)(O.a,{item:!0,children:[Object(h.jsx)(k.a,{id:"cancel",className:I.cancelButtonStyle,variant:"contained",children:"Cancel"}),Object(h.jsxs)(k.a,{id:"save",disabled:t.saveLoading,className:I.saveButtonStyle,onClick:n,variant:"contained",children:[t.saveLoading?Object(h.jsx)(w.a,{size:25,thickness:4,color:"primary",className:I.loaderStyle}):Object(h.jsx)(h.Fragment,{}),"Save"]})]})]})]})})},hn=function(e){var t=e.handleSave,a=e.defaultWords,n=e.state,s=e.setState,r=e.profanityList,c=e.setProfanityList;return"true"===n.wordListProfanity?Object(h.jsx)(sn,{handleSave:t,defaultWords:a,state:n,setState:s,profanityList:r,setProfanityList:c}):"true"===n.automaticProfanity?Object(h.jsx)(jn,{state:n,setState:s,handleSave:t}):Object(h.jsx)(h.Fragment,{})},mn=a(469),gn=Object(pa.a)((function(e){return{root:{width:49,height:24,padding:0,marginLeft:"15px",margin:e.spacing(0)},switchBase:{padding:1,"&$checked":{transform:"translateX(23px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#6387ED",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#52d869",border:"6px solid #fff"}},thumb:{width:24,height:22},track:{borderRadius:12,border:"1px solid ".concat(e.palette.grey[400]),backgroundColor:e.palette.grey[50],opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{}}})),pn=["classes"],xn=gn((function(e){var t=e.classes,a=Object(Qe.a)(e,pn);return Object(h.jsx)(mn.a,Object(i.a)({focusVisibleClassName:t.focusVisible,disableRipple:!0,classes:{root:t.root,switchBase:t.switchBase,thumb:t.thumb,track:t.track,checked:t.checked}},a))})),fn=function(e){var t=e.state,a=e.handleClick,n=Ta();return Object(h.jsxs)(O.a,{container:!0,justify:"flex-start",spacing:3,children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsxs)(mt.a,{className:"true"===t.wordListProfanity?n.methodSelected:n.methodNotSelected,onClick:a("wordListMethod"),children:[Object(h.jsx)(O.a,{container:!0,justify:"center",children:Object(h.jsx)(mt.a,{p:1,children:Object(h.jsx)("img",{alt:"",src:"true"===t.wordListProfanity?"/images/selected-word-list.svg":"/images/word-list-not-selected.svg"})})}),Object(h.jsx)(v.a,{variant:"body1",align:"center",children:"Word List"})]})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsxs)(mt.a,{className:"true"===t.automaticProfanity?n.methodSelected:n.methodNotSelected,onClick:a("automaticMethod"),children:[Object(h.jsx)(O.a,{container:!0,justify:"center",children:Object(h.jsx)(mt.a,{p:1,children:Object(h.jsx)("img",{alt:"",src:"true"===t.automaticProfanity?"/images/automatic-profanity-selected.svg":"/images/automatic-detection.svg"})})}),Object(h.jsx)(v.a,{testid:"autoDetection",variant:"body1",align:"center",children:"Automatic Detection"})]})})]})},On='"\\b(banned)\\b"'.replace(/\\/g,"\\\\");function vn(e){var t,a,n,s,r,c,i,o,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";if("default"===l)t=e.wordListCharacterToMaskWith,a=e.wordListModType,n=e.wordListReRouteMessages,s=e.englishProfanity,r=e.hindiProfanity,c=e.frenchProfanity,i=e.spanishProfanity,o=e.portugeseProfanity;else{var u=e.wordList;t=u.wordListCharacterToMaskWith,a=u.wordListModType,n=u.wordListReRouteMessages,s=u.englishProfanity,r=u.hindiProfanity,c=u.frenchProfanity,i=u.spanishProfanity,o=u.portugeseProfanity}var d="Mask-word"===a,b="Block-message"===a,j=Yt(n),h={};h=e.profanityList?e.profanityList:{English:s.split("|").join(","),Hindi:r.split("|").join(","),Portugese:o.split("|").join(","),French:c.split("|").join(","),Spanish:i.split("|").join(",")};var m=Ht(h).replace(/(\r\n|\n|\r)/gm,""),g='"\\b('.concat(m,')\\b"').replace(/\\/g,"\\\\");return d?j?kn({regex:g,wordListCharacterToMaskWith:t,type:l}):yn({regex:g,wordListCharacterToMaskWith:t,type:l}):b?j?Cn({regex:g,type:l}):wn({regex:g,type:l}):"default"===l?"if(request && request.ok){\n        return request.ok()\n      }":"return Promise.resolve(false)"}function yn(e){var t=e.regex,a=e.wordListCharacterToMaskWith;return"default"===e.type?"if (request && request.ok) {\n      var badWords = new RegExp(".concat(t,', "g")\n      var bannedChannel = new RegExp(').concat(On,', "g")\n      if (\n        request.message &&\n        request.message.text &&\n        badWords.test(request.message.text) &&\n        !bannedChannel.test(request.channels[0])\n      ) {\n        var newString = request.message.text;\n        newString = newString.replace(badWords, \'').concat(a.repeat(3),'\');\n        request.message.text = newString;\n        return request.ok();\n      }\n        request.message.type = "text"\n        return request.ok();\n     }'):"return new Promise((resolve, reject) => {\n    const badWords = new RegExp(".concat(t,', "g");\n    if (\n      message &&\n      message.text &&\n      badWords.test(message.text)\n    ) {\n      let newString = message.text;\n      newString = newString.replace(badWords, \'').concat(a.repeat(3),'\');\n      message.text = newString;\n      return resolve(true)\n    }\n    message.type = "text"\n      return resolve(true)\n   })')}function kn(e){var t=e.regex,a=e.wordListCharacterToMaskWith;return"default"===e.type?"\n  if (request && request.ok) {\n    const pubnub = require('pubnub');\n    var badWords = new RegExp(".concat(t,', "g")\n    var bannedChannel = new RegExp(').concat(On,', "g")\n    if (\n      request.message &&\n      request.message.text &&\n      badWords.test(request.message.text) &&\n      !bannedChannel.test(request.channels[0])\n    ) {\n      var originalMessage = request.message.text\n      const moderatedMessage = originalMessage.replace(badWords, \'').concat(a.repeat(3),'\');\n      request.message.text = moderatedMessage;\n      pubnub.publish({\n      "channel": \'banned.\'+request.channels[0],\n      "message":{ "type":"text", originalMessage, moderatedMessage }\n      }).then((publishResponse) => {\n        console.log(publishResponse)\n      }).catch((err) => {\n          console.error(err);\n      });\n    }\n      request.message.type = "text"\n      return request.ok();\n   }'):"return new Promise((resolve, reject) => {\n    const badWords = new RegExp(".concat(t,', "g");\n    if (\n      message &&\n      message.text &&\n      badWords.test(message.text)\n    ) {\n      originalMessage = message.text\n      moderatedMessage = originalMessage.replace(badWords, \'').concat(a.repeat(3),'\');\n      message.text = moderatedMessage;\n      textReouteFlag = true;\n      return resolve(true)\n    }\n    message.type = "text"\n      return resolve(true)\n   })')}function wn(e){var t=e.regex;return"default"===e.type?"if (request && request.ok) {\n    var badWords = new RegExp(".concat(t,', "g")\n    var bannedChannel = new RegExp(').concat(On,', "g")\n    if(badWords.test(request["message"]["text"]) && !bannedChannel.test(request.channels[0])) {\n       return request.abort("moderated message");\n   }\n      request.message.type = "text"\n      return request.ok();\n  }'):"return new Promise((resolve, reject) => {\n    const badWords = new RegExp(".concat(t,', "g");\n    if (\n      message &&\n      message.text &&\n      badWords.test(message.text)\n    ) {\n      textBlockedFlag = true;\n      return resolve(true)\n    }\n    message.type = "text"\n      return resolve(true)\n   })')}function Cn(e){var t=e.regex;return"default"===e.type?"if (request && request.ok) {\n    const pubnub = require('pubnub');\n    var badWords = new RegExp(".concat(t,', "g")\n    var bannedChannel = new RegExp(').concat(On,', "g")\n    if(badWords.test(request["message"]["text"]) && !bannedChannel.test(request.channels[0])) {\n      pubnub.publish({\n      "channel": \'banned.\'+request.channels[0],\n      "message": { originalMessage: request.message.text, "type":"text" }\n      }).then((publishResponse) => {\n        console.log(publishResponse)\n      }).catch((err) => {\n          console.error(err);\n      });\n       return request.abort("moderated message");\n   }\n      request.message.type = "text"\n      return request.ok();\n  }'):"return new Promise((resolve, reject) => {\n    const badWords = new RegExp(".concat(t,', "g");\n    if (\n      message &&\n      message.text &&\n      badWords.test(message.text)\n    ) {\n      originalMessage = message.text;\n      textBlockedFlag = true;\n      textReouteFlag = true;\n      return resolve(true);\n    }\n    message.type = "text"\n      return resolve(true);\n   })')}var Fn=function(e){if("tisane"===e.toolForAutomaticDetection){var t=Sn(e.tisaneLanguage);return"const apiKey = '".concat(e.tisaneApiKey,"';\n      const abuseTypes = ['bigotry', 'personal_attack', 'criminal_activity', 'sexual_advances', 'profanity'];\n      const serverityTypeObject = {\n        extreme:.25,\n        high:.50,\n        medium:.75,\n        low:1,\n        none:0\n      };\n      const abuseTypeObject = {\n        bigotry:").concat(e.tisaneRiskFactorThresholdBigotry,",\n        criminal_activity:").concat(e.tisaneRiskFactorThresholdCriminalActivity,",\n        sexual_advances:").concat(e.tisaneRiskFactorThresholdSexualAdvances,",\n        personal_attack:").concat(e.tisaneRiskFactorThresholdCyberBullying,",\n        profanity:").concat(e.tisaneRiskFactorThresholdProfanity,'\n      }\n      if (!message.text) {\n        return request.ok()\n      }\n      const url = "https://api.tisane.ai/parse";\n      const http_options = {\n        "method": "POST",\n        "headers": {\n                    "Ocp-Apim-Subscription-Key": apiKey\n        },\n        "body": JSON.stringify({\n          "language": "').concat(t,'", // or whatever language you use\n          "content": message.text,\n          "settings": {"snippets": true, "format":"dialogue"}\n        }),\n        "timeout" : 5000\n    };\n  \n    return xhr.fetch(url, http_options).then(response => {\n  \n      var body = JSON.parse(response.body);\n      var thirdPartyResponse = (response.status === 200 ? body : { error: body });\n      console.log(\'Response from tisane:\');\n      console.log(thirdPartyResponse);\n      let checkThresholdForThirdParty = false;\n      const reasons = [];\n      const serverityTypes = [];\n      if (thirdPartyResponse.abuse && Array.isArray(thirdPartyResponse.abuse) && thirdPartyResponse.abuse.length) {\n        thirdPartyResponse.abuse.forEach((element)=>{\n          serverityTypes.push(element.severity);\n          if (abuseTypeObject[element.type] !== 0) {\n            if (abuseTypes.includes(element.type) && abuseTypeObject[element.type] >= serverityTypeObject[element.severity]) {\n              const abuse = element.type.replace(/_/g, \' \');\n              reasons.push(abuse+\'; \'+ element.severity);\n              checkThresholdForThirdParty = true;\n            }\n          }\n        });\n      }')}return"const accountName = '".concat(e.siftNinjaAccountName,"';\n  const channelName = '").concat(e.siftNinjaChannelName,"';\n  const apiKey = '").concat(e.siftNinjaApiKey,'\'\n  const basicAuth = require(\'codec/auth\');\n  const authorization = basicAuth.basic(accountName + \'/\' + channelName,apiKey);\n  const http_options = {\n    "method": "POST",\n    "headers": {\n        "Content-Type": "application/json",\n        "Authorization": authorization\n    },\n    "body": JSON.stringify({\n        "text": message.text,\n        "user_id": message.user_id,\n        "user_display_name": message.user_display_name\n    })\n  };\n  const reasons = [];\n  const url = "https://" + accountName + ".siftninja.com/api/v1/channel/" + channelName + "/sifted_data";\n  return xhr.fetch(url, http_options).then(response => {\n\n  var body = JSON.parse(response.body);\n  var thirdPartyResponse = (response.status === 200 ? body : { error: body });\n\n  const vulgarity = thirdPartyResponse.tags.vulgar === null?0:thirdPartyResponse.tags.vulgar;\n  const racist = thirdPartyResponse.tags.racist === null?0:thirdPartyResponse.tags.racist;\n  const sexting = thirdPartyResponse.tags.sexting === null?0:thirdPartyResponse.tags.sexting;\n\n  console.log(\'Vulgarity score :\', vulgarity, \'Racism score :\', racist, \'Sexting score :\', sexting);\n\n  const checkThresholdForThirdParty = vulgarity>\'').concat(e.siftNinjaRiskFactorThresholdVulgar,"'\n  || racist>'").concat(e.siftNinjaRiskFactorThresholdRacism,"'\n  || sexting>'").concat(e.siftNinjaRiskFactorThresholdSexting,"';")},Sn=function(e){return{English:"en",Spanish:"es",Portugese:"pt",French:"fr"}[e]},Nn='"\\b(banned)\\b"'.replace(/\\/g,"\\\\");function Tn(e){var t,a,n,s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";if("default"===r)t=e.automaticDetectionModType,a=e.automaticDetectionReRouteMessages,n=e.automaticDetectionCharacterToMaskWith,s=Fn(e);else{var c=e.automaticDetection;t=c.automaticDetectionModType,a=c.automaticDetectionReRouteMessages,n=c.automaticDetectionCharacterToMaskWith,s=Fn(e.automaticDetection)}var i="mask-message"===t,o="block-message"===t,l=Yt(a);return i?l?Rn({selectedDetectionTool:s,automaticDetectionCharacterToMaskWith:n,type:r}):Mn({selectedDetectionTool:s,automaticDetectionCharacterToMaskWith:n,type:r}):o?l?An({selectedDetectionTool:s,type:r}):In({selectedDetectionTool:s,type:r}):"default"===r?"if(request && request.ok){\n      return request.ok()\n    }":"return Promise.resolve(false)"}function Mn(e){var t=e.selectedDetectionTool,a=e.automaticDetectionCharacterToMaskWith;return"default"===e.type?"if(request && request.ok){\n    const xhr = require(\"xhr\");\n    const console = require('console');\n    var bannedChannel = new RegExp(".concat(Nn,', "g")\n    let message = request.message;\n  \n    if(bannedChannel.test(request.channels[0])){\n       request.message.type = "text";\n       console.log(\'Skipping moderation on message sent to banned channel: \' + request.channels[0]);\n       return request.ok(message);\n     }\n  \n     ').concat(t,"\n    if(checkThresholdForThirdParty){\n               message.text = message.text.replace(/[a-z-A-Z-!]/g, '").concat(a,'\');\n              return request.ok(message);\n          }\n         request.message.type = "text"\n         return request.ok(message);\n  \n     }).catch(err => {\n         var thirdPartyResponse = { error: err };\n         Object.assign(message, { thirdPartyResponse });\n  \n         return request.ok(message);\n     });\n      }'):"return new Promise((resolve, reject) => {\n    ".concat(t,"\n    if(checkThresholdForThirdParty){\n        message.text = message.text.replace(/[a-z-A-Z-!]/g, '").concat(a,'\');\n        return resolve(true);\n    }\n    message.type = "text"\n    return resolve(true);\n    }).catch(err => {\n      var thirdPartyResponse = { error: err };\n      Object.assign(message, { thirdPartyResponse });\n      return reject(message);\n  })\n   })')}function Rn(e){var t=e.selectedDetectionTool,a=e.automaticDetectionCharacterToMaskWith;return"default"===e.type?"if(request && request.ok){\n    const pubnub = require('pubnub');\n    const bannedChannel = new RegExp(".concat(Nn,', "g")\n    const console = require(\'console\');\n    let message = request.message;\n \n    if(bannedChannel.test(request.channels[0])){\n       request.message.type = "text";\n       console.log(\'Skipping moderation on message sent to banned channel: \'  + request.channels[0]);\n       return request.ok(message);\n    }\n \n    const xhr = require("xhr");\n    ').concat(t,"\n    if(checkThresholdForThirdParty){\n \n             var originalMessage = request.message.text;\n             const moderatedMessage = message.text.replace(/[a-z-A-Z-!]/g, '").concat(a,'\');\n             let payload = {"type":"text", originalMessage, moderatedMessage};\n             if (reasons && reasons.length) {\n               payload.reason = reasons.join(", ");\n             }\n              pubnub.publish({\n              "channel": \'banned.\'+request.channels[0],\n              "message": payload\n              }).then((publishResponse) => {\n                console.log(\'Sending original message to banned.\' + request.channels[0]);\n                console.log(publishResponse)\n              }).catch((err) => {\n                  console.error(err);\n              });\n             message.type = \'text\';\n             message.text = moderatedMessage;\n             console.log(\'Sending moderated message to channel: \' + request.channels[0]);\n             return request.ok(message);\n         }\n        request.message.type = "text"\n        return request.ok(message);\n \n    }).catch(err => {\n        var thirdPartyResponse = { error: err };\n        Object.assign(message, { thirdPartyResponse });\n \n        return request.ok(message);\n    });\n \n     }'):"return new Promise((resolve, reject) => {\n    ".concat(t,"\n    if(checkThresholdForThirdParty){\n      originalMessage = message.text;\n      moderatedMessage = message.text.replace(/[a-z-A-Z-!]/g, '").concat(a,'\');\n      message.text = moderatedMessage;\n      textReouteFlag = true;\n      if (reasons && reasons.length) {\n        reasonForModeration = reasons.join(", ");\n      }\n      return resolve(true);\n    }\n    message.type = "text";\n    return resolve(true);\n    }).catch(err => {\n      var thirdPartyResponse = { error: err };\n      Object.assign(message, { thirdPartyResponse });\n      return reject(message);\n  });\n   })')}function In(e){var t=e.selectedDetectionTool;return"default"===e.type?"if(request && request.ok){\n    var bannedChannel = new RegExp(".concat(Nn,', "g");\n    let message = request.message;\n    const console = require(\'console\');\n    \n  if(bannedChannel.test(request.channels[0])){\n     request.message.type = "text";\n     console.log(\'Skipping moderation on message sent to banned channel: \'  + request.channels[0]);\n     return request.ok(message);\n  }\n    const xhr = require("xhr");\n    ').concat(t,'\n    if(checkThresholdForThirdParty){\n          return request.abort("moderated message");\n    }\n  request.message.type = "text"\n  return request.ok(message);\n\n  }).catch(err => {\n      var thirdPartyResponse = { error: err };\n      Object.assign(message, { thirdPartyResponse });\n\n      return request.ok(message);\n  });\n\n   }'):"return new Promise((resolve, reject) => {\n    ".concat(t,'\n    if(checkThresholdForThirdParty){\n       textBlockedFlag = true;\n       return resolve(true);\n    }\n    message.type = "text"\n    return resolve(true);\n  }).catch(err => {\n    var thirdPartyResponse = { error: err };\n    Object.assign(message, { thirdPartyResponse });\n    return reject(message);\n});\n   })')}function An(e){var t=e.selectedDetectionTool;return"default"===e.type?"if(request && request.ok){\n    const pubnub = require('pubnub');\n    var bannedChannel = new RegExp(".concat(Nn,', "g")\n    let message = request.message;\n    const console = require(\'console\');\n \n    if(bannedChannel.test(request.channels[0])){\n       request.message.type = "text";\n       console.log(\'Skipping moderation on message sent to banned channel: \' + request.channels[0]);\n       return request.ok(message);\n    }\n    const xhr = require("xhr");\n    ').concat(t,'\n    \n         if(checkThresholdForThirdParty){\n              let payload = {"type":"text", originalMessage: request.message.text};\n              if (reasons && reasons.length) {\n                payload.reason = reasons.join(", ");\n              }\n               pubnub.publish({\n               "channel": \'banned.\'+request.channels[0],\n               "message": payload\n               }).then((publishResponse) => {\n                 console.log(\'Sending original message to banned.\' + request.channels[0]);\n                 console.log(publishResponse)\n               }).catch((err) => {\n                   console.error(err);\n               });\n               return request.abort("moderated message");\n         }\n \n        request.message.type = "text"\n        console.log(\'Sending moderated message to channel: \' + request.channels[0]);\n        return request.ok(message);\n \n    }).catch(err => {\n        var thirdPartyResponse = { error: err };\n        Object.assign(message, { thirdPartyResponse });\n \n        return request.ok(message);\n    });\n \n     }'):"return new Promise((resolve, reject) => {\n    ".concat(t,'\n    if(checkThresholdForThirdParty){\n        originalMessage = message.text;\n        textBlockedFlag = true;\n        textReouteFlag = true;\n        if (reasons && reasons.length) {\n          reasonForModeration = reasons.join(", ");\n        }\n        return resolve(true);\n    }\n    message.type = "text"\n    return resolve(true);\n  }).catch(err => {\n    var thirdPartyResponse = { error: err };\n    Object.assign(message, { thirdPartyResponse });\n    return reject(message);\n});\n   })')}function Dn(e){var t=e.wordListModType,a=e.wordListReRouteMessages,n=e.applyToAllChannelIdsWordlist,s=e.applyToAllChannelIdsAutomatic,r=e.wordListCharacterToMaskWith,c=e.automaticDetectionModType,i=e.automaticDetectionReRouteMessages,o=e.automaticDetectionCharacterToMaskWith,l=e.toolForAutomaticDetection,u=e.siftNinjaRiskFactorThresholdVulgar,d=e.siftNinjaRiskFactorThresholdSexting,b=e.siftNinjaRiskFactorThresholdRacism,j=e.siftNinjaAccountName,h=e.siftNinjaChannelName,m=e.siftNinjaApiKey,g=e.wordListProfanity,p=e.automaticProfanity,x=e.textModerationToggle,f=e.tisaneRiskFactorThresholdBigotry,O=e.tisaneRiskFactorThresholdCyberBullying,v=e.tisaneRiskFactorThresholdCriminalActivity,y=e.tisaneRiskFactorThresholdSexualAdvances,k=e.tisaneRiskFactorThresholdProfanity,w=e.tisaneApiKey,C=e.tisaneLanguage,F=e.profanityList.English,S=e.profanityList.Hindi,N=e.profanityList.Spanish,T=e.profanityList.French,M=e.profanityList.Portugese;var R=Yt(g)&&Yt(x),I=Yt(p)&&Yt(x);return"function runProfanity(request){\n     ".concat(R?vn(e):I?Tn(e):"if(request && request.ok){\n        return request.ok();\n    }","\n     return {\n       wordListProfanity: '").concat(g,"',\n       automaticProfanity: '").concat(p,"',\n       textModerationToggle: '").concat(x,"',\n       wordList:{\n         applyToAllChannelIdsWordlist:'").concat(n,"',\n         wordListReRouteMessages: '").concat(a,"',\n         wordListModType: '").concat(t,"',\n         wordListCharacterToMaskWith:'").concat(r,"',\n         englishProfanity:'").concat(Vt(F),"',\n         hindiProfanity: '").concat(Vt(S),"',\n         frenchProfanity: '").concat(Vt(T),"',\n         spanishProfanity: '").concat(Vt(N),"',\n         portugeseProfanity: '").concat(Vt(M),"'\n       },\n       automaticDetection:{\n         applyToAllChannelIdsAutomatic: '").concat(s,"',\n         automaticDetectionReRouteMessages: '").concat(i,"',\n         automaticDetectionModType: '").concat(c,"',\n         automaticDetectionCharacterToMaskWith:'").concat(o,"',\n         toolForAutomaticDetection:'").concat(l,"',\n         siftNinjaRiskFactorThresholdVulgar:'").concat(u,"',\n         siftNinjaRiskFactorThresholdSexting:'").concat(d,"',\n         siftNinjaRiskFactorThresholdRacism:'").concat(b,"',\n         siftNinjaAccountName:'").concat(j,"',\n         siftNinjaChannelName:'").concat(h,"',\n         siftNinjaApiKey:'").concat(m,"',\n         tisaneRiskFactorThresholdBigotry:'").concat(f,"',\n         tisaneRiskFactorThresholdCyberBullying:'").concat(O,"',\n         tisaneRiskFactorThresholdCriminalActivity:'").concat(v,"',\n         tisaneRiskFactorThresholdSexualAdvances:'").concat(y,"',\n         tisaneRiskFactorThresholdProfanity:'").concat(k,"',\n         tisaneApiKey:'").concat(w,"',\n         tisaneLanguage:'").concat(C,"'\n       },\n     }\n  }")}function Pn(e){var t=e.imageModerationToggle,a=e.toolForImageModeration,n=e.sightengineAPIUser,s=e.sightengineAPIKey,r=e.sightengineWorkflowId,c=e.sightengineRiskFactorThreshold,i=e.reRouteMessages,o=e.applyToAllChannelIds,l=e.textPnFnStatusdata,u='"\\b(banned)\\b"'.replace(/\\/g,"\\\\"),d=function(){return Yt(l.textModerationToggle)?Yt(l.wordListProfanity)?vn(l,"image"):Yt(l.automaticProfanity)?Tn(l,"image"):"return Promise.resolve(false)":" return Promise.resolve(false)"};return"function runProfanity(request){\n            ".concat(function(){var e="block";return Yt(i)&&(e="reroute"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"block",t=" imageBannedFlag = true; ",a=d();return"reroute"===e&&(t=" imageBannedReouteFlag = true;")," if (request && request.ok) {\n                const bannedChannel = new RegExp(".concat(u,', "g")\n                const console = require("console");\n                const query = require("codec/query_string");\n                const xhr = require("xhr");\n                const pubnub = require("pubnub");\n\n                if (bannedChannel.test(request.channels[0])) {\n                  request.message.type = "text";\n                  return request.ok(request);\n                }\n\n                let message = request.message.message;\n                let originalMessage;\n                let moderatedMessage;\n                let imageBannedFlag = false;\n                let imageBannedReouteFlag = false;\n                let textBlockedFlag = false;\n                let textReouteFlag = false;\n                let reasonForModeration;\n\n                const textmoderation = () => {\n                  console.log("start text Moderation Function");\n                  ').concat(a,'\n                };\n\n                if (request.message.file) {\n                      var apiUrl = "https://api.sightengine.com/1.0/check-workflow.json";\n                      var fileUrl = "";\n                      const channel = request.channels[0];\n                      const fileId = request.message.file.id;\n                      const fileName = request.message.file.name;\n                      fileUrl = pubnub.getFileUrl({\n                        channel: channel,\n                        id: fileId,\n                        name: fileName,\n                      });\n                      const queryParams = {\n                        \'api_secret\': \'').concat(s,"',\n                        'workflow': '").concat(r,"',\n                        'api_user': '").concat(n,"',\n                        url: fileUrl\n                      };\n\n                      const imageModerationFunction = () => {\n                        return new Promise((resolve, reject) => {\n                          console.log(\"start image Moderation Function\");\n                          xhr\n                            .fetch(apiUrl + \"?\" + query.stringify(queryParams))\n                            .then(function (r) {\n                              const body = JSON.parse(r.body || r);\n                              return resolve(body);\n                            })\n                            .catch(function (e) {\n                              console.error(e);\n                              return reject(e);\n                            });\n                        });\n                      };\n\n                      return Promise.all([imageModerationFunction(), textmoderation()])\n                        .then((values) => {\n                          console.log(\"values\", values);\n                          let payload = {'file': {}, 'message': {}};\n                          if (\n                            values[0] &&\n                            values[0].summary &&\n                            values[0].summary.reject_prob &&\n                            '").concat(c,"' < values[0].summary.reject_prob\n                          ) {\n                              ").concat(t,'\n                            }\n\n                          if (imageBannedReouteFlag) {\n                            payload.file = {\n                              type:\'image\',\n                              url: fileUrl,\n                              id: fileId,\n                              name: fileName,\n                              reason: values[0].summary.reject_reason,\n                            }\n                          }\n\n                          if (textReouteFlag) {\n                            payload.message.type = "text";\n                            if (originalMessage) {\n                               payload.message.originalMessage = originalMessage;\n                            } else {\n                               payload.message.originalMessage = request.message.message.text;\n                            }\n                            if (moderatedMessage) {\n                               payload.message.moderatedMessage = moderatedMessage;\n                            }\n                            if (reasonForModeration) {\n                               payload.message.reason = reasonForModeration;\n                            }\n                          }\n                \n                          if (payload.file.type || payload.message.type) {\n                            return pubnub\n                            .publish({\n                              channel: "banned." + request.channels[0],\n                              message: payload,\n                            })\n                            .then((publishResponse) => {\n                              if (textBlockedFlag && (imageBannedFlag || imageBannedReouteFlag)) {\n                                return request.abort("moderated message");\n                              }\n                              if (!imageBannedFlag && !imageBannedReouteFlag) {\n                                message.file = {};\n                                message.file.id = fileId;\n                                message.file.name = fileName;\n                                message.file.url = fileUrl;\n                              }\n                              if (textBlockedFlag) {\n                                delete message.text;\n                              }\n                              if (message.text) {\n                                message.message = {}\n                                message.message.text = message.text\n                                delete message.text\n                              }\n                              message.file =  message.file || {};\n                              message.message =  message.message || {};\n                              if (!message.file.name && !message.message.text) {\n                                return request.abort("moderated message");\n                              }\n                              return request.ok(message);\n                            })\n                            .catch((err) => {\n                              console.error(err);\n                            });\n                          }\n                          if (values[0] || values[1]) {\n                           if (textBlockedFlag && imageBannedFlag) {\n                            return request.abort("moderated message");\n                           }\n                            if (textBlockedFlag) {\n                              delete message.text;\n                            }\n                            if (!imageBannedFlag) {\n                              request.message.message.file = {};\n                              request.message.message.file.url = fileUrl;\n                              request.message.message.file.id = fileId;\n                              request.message.message.file.name = fileName;\n                              request.message.message.type = "text";\n                            }\n                            message.message = {}\n                            if (message.text) {\n                              message.message.text = message.text\n                              delete message.text\n                            }\n                            message.file =  message.file || {};\n                            if (!message.file.name && !message.message.text) {\n                              return request.abort("moderated message");\n                            }\n                            return request.ok(message);\n                          }\n                        })\n                        .catch((err) => {\n                          console.log(err);\n                          return request.abort(err);\n                        });\n                    }\n              }\n                ')}(e)}(),"\n        return {\n          imageModerationToggle: '").concat(t,"',\n          toolForImageModeration: '").concat(a,"',\n          sightengineAPIUser: '").concat(n,"',\n          sightengineAPIKey: '").concat(s,"',\n          sightengineWorkflowId: '").concat(r,"',\n          sightengineRiskFactorThreshold: '").concat(c,"',\n          reRouteMessages: '").concat(i,"',\n          applyToAllChannelIds: '").concat(o,"'\n        }\n    }")}function Ln(){return(Ln=Object(x.a)(p.a.mark((function e(t){var a,n,s,r,c,o,l,u,d,b,j,h,m,g,x,f;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.blockId,n=t.keyId,s=t.token,r=t.state,c=t.setState,o=t.textPnFnStatusdata,l=r.imageModerationToggle,u=r.channelId,d=r.applyToAllChannelIds,b=r.toolForImageModeration,j=r.sightengineAPIUser,h=r.sightengineAPIKey,m=r.sightengineWorkflowId,g=r.sightengineRiskFactorThreshold,x=r.reRouteMessages,f={type:"js",key_id:n,block_id:a,channels:u,code:"".concat(Pn({imageModerationToggle:l,channelId:u,applyToAllChannelIds:d,toolForImageModeration:b,sightengineAPIUser:j,sightengineAPIKey:h,sightengineWorkflowId:m,sightengineRiskFactorThreshold:g,reRouteMessages:x,textPnFnStatusdata:o})),event:"js-before-publish-file",log_level:"debug",name:"BLOCK-".concat(a,"-IMAGE-MODERATION"),output:"output-0.5823105682419438"},e.prev=3,e.next=6,xe(f,s);case 6:if(!l){e.next=9;break}return e.next=9,he({key_id:n,block_id:a},s);case 9:c((function(e){return Object(i.a)(Object(i.a)({},e),{},{saveLoading:!1})})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),c((function(t){return Object(i.a)(Object(i.a)({},t),{},{errorStatus:!0,saveLoading:!1,errorMsg:e.t0.message,successMsg:"",successStatus:!1})}));case 15:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}var En=function(e){return Ln.apply(this,arguments)};function Bn(){return(Bn=Object(x.a)(p.a.mark((function e(t){var a,n,s,r,c,o,l,u,d,b,j,h,m,g,x,f,O,v;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.eventHandler,n=t.blockId,s=t.keyId,r=t.token,c=t.setState,o=t.state,l=t.textPnFnStatusdata,u=t.uiPagecall,d=o.imageModerationToggle,b=o.channelId,j=o.applyToAllChannelIds,h=o.toolForImageModeration,m=o.sightengineAPIUser,g=o.sightengineAPIKey,x=o.sightengineWorkflowId,f=o.sightengineRiskFactorThreshold,O=o.reRouteMessages,v={type:"js",key_id:s,block_id:n,id:a[0].id,channels:b,code:"".concat(Pn({imageModerationToggle:d,channelId:b,applyToAllChannelIds:j,toolForImageModeration:h,sightengineAPIUser:m,sightengineAPIKey:g,sightengineWorkflowId:x,sightengineRiskFactorThreshold:f,reRouteMessages:O,textPnFnStatusdata:l})),event:"js-before-publish-file",log_level:"debug",name:"BLOCK-".concat(n,"-IMAGE-MODERATION"),output:"output-0.5823105682419438"},e.prev=3,e.next=6,Oe(v,r);case 6:if(d){e.next=12;break}return e.next=9,ge({key_id:s,block_id:n},r);case 9:if("textModeration"!==u){e.next=11;break}return e.abrupt("return",!0);case 11:return e.abrupt("return",c((function(e){return Object(i.a)(Object(i.a)({},e),{},{saveLoading:!1,successStatus:!0,errorStatus:!1,errorMsg:"",successMsg:"Successfully Updated."})})));case 12:return e.next=14,he({key_id:s,block_id:n},r);case 14:if("textModeration"!==u){e.next=16;break}return e.abrupt("return",!0);case 16:c((function(e){return Object(i.a)(Object(i.a)({},e),{},{saveLoading:!1,successStatus:!0,errorStatus:!1,errorMsg:"",successMsg:"Successfully Updated."})})),e.next=24;break;case 19:if(e.prev=19,e.t0=e.catch(3),"textModeration"!==u){e.next=23;break}return e.abrupt("return",!0);case 23:c((function(t){return Object(i.a)(Object(i.a)({},t),{},{errorStatus:!0,saveLoading:!1,errorMsg:e.t0.message,successMsg:"",successStatus:!1})}));case 24:case"end":return e.stop()}}),e,null,[[3,19]])})))).apply(this,arguments)}var qn=function(e){return Bn.apply(this,arguments)},Un=function(e,t){var a,n,s=Pt(t,e),r=[];s.length&&(a=s[0].id,n=s[0].event_handlers,r=Lt(n,s));var c,i=[],o=!1,l=!1,u=!1;if(r.length){var d=i=Bt(r[0].code);o=d.wordListProfanity,l=d.automaticProfanity,u=d.textModerationToggle,c=r[0].channels}return{findTextModerationFunction:s,blockId:a,eventHandlerList:n,eventHandler:r,wordListProfanity:o,automaticProfanity:l,textModerationToggle:Yt(u),textPnFnStatusdata:i,textChannelId:c}},Wn=function(e){var t=e.eventHandler,a=e.blockId,n=e.token,s=e.state,r=e.setState,c=e.keyId,i=e.textPnFnStatusdata,o=e.uiPagecall;return 0===t.length?En({blockId:a,token:n,state:s,setState:r,keyId:c,textPnFnStatusdata:i}):qn({eventHandler:t,blockId:a,state:s,setState:r,keyId:c,token:n,textPnFnStatusdata:i,uiPagecall:o})},_n=function(){var e=Object(x.a)(p.a.mark((function e(t,a,n){var s,r,c,o,l,u,d,b,j,h,m,g,x,f,O,v,y,k;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.state,r=n.setState,c=n.uiPagecall,o=void 0===c?"imageModeration":c,e.next=3,ue(t.id,a);case 3:if(l=e.sent,u=zn(t,l),d=u.findImageFunction,b=u.eventHandler,j=u.blockId,h=Un(t,l),m=h.textPnFnStatusdata,g=h.textChannelId,x=h.textModerationToggle,"textModeration"!==o){e.next=17;break}if(!b.length){e.next=15;break}if((f=Bt(b[0].code)).imageModerationToggle){e.next=11;break}return e.abrupt("return",!0);case 11:return f.channelId=g,f.isState=!1,e.next=15,qn({eventHandler:b,blockId:j,state:f,setState:r,keyId:t.id,token:a,textPnFnStatusdata:m,uiPagecall:o});case 15:e.next=34;break;case 17:if(!x||!g||g===s.channelId){e.next=19;break}return e.abrupt("return",r((function(e){return Object(i.a)(Object(i.a)({},e),{},{saveLoading:!1,successStatus:!1,errorStatus:!0,errorMsg:"Channel ID is not same as Text moderation",successMsg:""})})));case 19:if(O=t.id,!d.length){e.next=25;break}return e.next=23,Wn({eventHandler:b,blockId:j,state:s,setState:r,keyId:O,token:a,textPnFnStatusdata:m,uiPagecall:o});case 23:e.next=34;break;case 25:return v={key_id:t.id,name:"KEY-".concat(t.id,"-IMAGE-MODERATION"),description:"Image moderation function"},e.next=28,be(v,a);case 28:return e.next=30,ue(t.id,a);case 30:return y=e.sent,k=Et(y,t)[0].id,e.next=34,En({blockIdForImage:k,token:a,state:s,setState:r,keyId:t.id,textPnFnStatusdata:m});case 34:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),zn=function(e,t){var a,n,s=Et(t,e),r=[];return s.length&&(a=s[0].id,r=function(e,t){if(e)return e.filter((function(e){return e.name==="BLOCK-".concat(t[0].id,"-IMAGE-MODERATION")}))}(n=s[0].event_handlers,s)),{findImageFunction:s,blockId:a,eventHandlerList:n,eventHandler:r}},Kn=function(){var e=Ta(),t=Object(n.useState)({English:"",Hindi:"",French:"",Portugese:"",Spanish:""}),a=Object(f.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)({wordList:{wordListChannel:"*",applyToAllChannelIdsWordlist:!0,wordsListPatternError:!1,wordListLanguage:"English",wordListModType:"Mask-word",wordListReRouteMessages:!1,wordsListMaskCharError:!1,wordsListChannelError:!1,wordListCharacterToMaskWith:"*"},automaticDetection:{applyToAllChannelIdsAutomatic:!0,toolForAutomaticDetection:"tisane",siftNinjaRiskFactorThresholdVulgar:0,siftNinjaRiskFactorThresholdSexting:0,siftNinjaRiskFactorThresholdRacism:0,siftNinjaAccountName:"",siftNinjaChannelName:"",siftNinjaApiKey:"",tisaneRiskFactorThresholdBigotry:0,tisaneRiskFactorThresholdCyberBullying:0,tisaneRiskFactorThresholdCriminalActivity:0,tisaneRiskFactorThresholdSexualAdvances:0,tisaneRiskFactorThresholdProfanity:0,tisaneApiKey:"",tisaneLanguage:"English",automaticDetectionChannel:"*",automaticChannelError:!1,automaticMaskCharError:!1,automaticDetectionReRouteMessages:!1,automaticDetectionModType:"mask-message",automaticDetectionCharacterToMaskWith:"*"},textModerationToggle:!1,wordListProfanity:!1,automaticProfanity:!1,channelOnChange:!1,saveLoading:!1,initialLoading:!0,errorStatus:!1,successStatus:!1,errorMsg:"",successMsg:""}),o=Object(f.a)(c,2),l=o[0],u=o[1],d=Yt(l.wordListProfanity),b=Yt(l.textModerationToggle),j=qt(s,l.wordList.wordListLanguage);function m(e,t,a,n){return g.apply(this,arguments)}function g(){return(g=Object(x.a)(p.a.mark((function e(t,a,n,r){var c,o,j,h,m,g,x,f,O,v,y,k,w,C,F,S,N,T,M,R,I,A,D,P,L,E,B,q,U,W;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=l.wordList,o=c.wordListChannel,j=c.applyToAllChannelIdsWordlist,h=c.wordListCharacterToMaskWith,m=c.wordListModType,g=c.wordListReRouteMessages,x=l.automaticDetection,f=x.automaticDetectionModType,O=x.automaticDetectionChannel,v=x.applyToAllChannelIdsAutomatic,y=x.automaticDetectionReRouteMessages,k=x.automaticDetectionCharacterToMaskWith,w=x.toolForAutomaticDetection,C=x.siftNinjaRiskFactorThresholdVulgar,F=x.siftNinjaRiskFactorThresholdSexting,S=x.siftNinjaRiskFactorThresholdRacism,N=x.siftNinjaAccountName,T=x.siftNinjaChannelName,M=x.siftNinjaApiKey,R=x.tisaneRiskFactorThresholdBigotry,I=x.tisaneRiskFactorThresholdCyberBullying,A=x.tisaneRiskFactorThresholdCriminalActivity,D=x.tisaneRiskFactorThresholdSexualAdvances,P=x.tisaneRiskFactorThresholdProfanity,L=x.tisaneApiKey,E=x.tisaneLanguage,B=l.wordListProfanity,q=l.automaticProfanity,U=l.textModerationToggle,W={type:"js",key_id:n,block_id:a,channels:d?o:O,code:"".concat(Dn({wordListProfanity:B,automaticProfanity:q,applyToAllChannelIdsAutomatic:v,applyToAllChannelIdsWordlist:j,textModerationToggle:U,profanityList:s,wordListModType:m,wordListReRouteMessages:g,wordListCharacterToMaskWith:h,automaticDetectionModType:f,automaticDetectionReRouteMessages:y,automaticDetectionCharacterToMaskWith:k,toolForAutomaticDetection:w,siftNinjaRiskFactorThresholdVulgar:C,siftNinjaRiskFactorThresholdSexting:F,siftNinjaRiskFactorThresholdRacism:S,siftNinjaAccountName:N,siftNinjaChannelName:T,siftNinjaApiKey:M,tisaneRiskFactorThresholdBigotry:R,tisaneRiskFactorThresholdCyberBullying:I,tisaneRiskFactorThresholdCriminalActivity:A,tisaneRiskFactorThresholdSexualAdvances:D,tisaneRiskFactorThresholdProfanity:P,tisaneApiKey:L,tisaneLanguage:E})),event:"js-before-publish",log_level:"debug",name:"BLOCK-".concat(a),output:"output-0.5823105682419438"},e.prev=4,e.next=7,xe(W,r);case 7:if(!b){e.next=10;break}return e.next=10,he({key_id:n,block_id:a},r);case 10:return e.next=12,_n(t,r,{state:l,setState:u,uiPagecall:"textModeration"});case 12:u(Object(i.a)(Object(i.a)({},l),{},{errorStatus:!1,saveLoading:!1,errorMsg:"",successMsg:"Successfully updated",successStatus:!0})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),u(Object(i.a)(Object(i.a)({},l),{},{errorStatus:!0,saveLoading:!1,errorMsg:e.t0.message,successMsg:"",successStatus:!1}));case 18:case"end":return e.stop()}}),e,null,[[4,15]])})))).apply(this,arguments)}function y(e,t,a,n,s){return k.apply(this,arguments)}function k(){return(k=Object(x.a)(p.a.mark((function e(t,a,n,r,c){var o,j,h,m,g,x,f,O,v,y,k,w,C,F,S,N,T,M,R,I,A,D,P,L,E,B,q,U,W,_;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.wordList,j=o.wordListChannel,h=o.applyToAllChannelIdsWordlist,m=o.wordListCharacterToMaskWith,g=o.wordListModType,x=o.wordListReRouteMessages,f=l.automaticDetection,O=f.automaticDetectionModType,v=f.automaticDetectionChannel,y=f.applyToAllChannelIdsAutomatic,k=f.automaticDetectionReRouteMessages,w=f.automaticDetectionCharacterToMaskWith,C=f.toolForAutomaticDetection,F=f.siftNinjaRiskFactorThresholdVulgar,S=f.siftNinjaRiskFactorThresholdSexting,N=f.siftNinjaRiskFactorThresholdRacism,T=f.siftNinjaAccountName,M=f.siftNinjaChannelName,R=f.siftNinjaApiKey,I=f.tisaneRiskFactorThresholdBigotry,A=f.tisaneRiskFactorThresholdCyberBullying,D=f.tisaneRiskFactorThresholdCriminalActivity,P=f.tisaneRiskFactorThresholdSexualAdvances,L=f.tisaneRiskFactorThresholdProfanity,E=f.tisaneApiKey,B=f.tisaneLanguage,q=l.wordListProfanity,U=l.automaticProfanity,W=l.textModerationToggle,_={type:"js",key_id:r,block_id:n,id:a[0].id,channels:d?j:v,code:"".concat(Dn({wordListProfanity:q,applyToAllChannelIdsAutomatic:y,applyToAllChannelIdsWordlist:h,automaticProfanity:U,textModerationToggle:W,wordListCharacterToMaskWith:m,profanityList:s,wordListModType:g,wordListReRouteMessages:x,automaticDetectionModType:O,automaticDetectionReRouteMessages:k,automaticDetectionCharacterToMaskWith:w,toolForAutomaticDetection:C,siftNinjaRiskFactorThresholdVulgar:F,siftNinjaRiskFactorThresholdSexting:S,siftNinjaRiskFactorThresholdRacism:N,siftNinjaAccountName:T,siftNinjaChannelName:M,siftNinjaApiKey:R,tisaneRiskFactorThresholdBigotry:I,tisaneRiskFactorThresholdCyberBullying:A,tisaneRiskFactorThresholdCriminalActivity:D,tisaneRiskFactorThresholdSexualAdvances:P,tisaneRiskFactorThresholdProfanity:L,tisaneApiKey:E,tisaneLanguage:B})),event:"js-before-publish",log_level:"debug",name:"BLOCK-".concat(n),output:"output-0.5823105682419438"},e.prev=4,e.next=7,Oe(_,c);case 7:if(b){e.next=13;break}return e.next=10,ge({key_id:r,block_id:n},c);case 10:return e.next=12,_n(t,c,{state:l,setState:u,uiPagecall:"textModeration"});case 12:return e.abrupt("return",u(Object(i.a)(Object(i.a)({},l),{},{errorStatus:!1,saveLoading:!1,errorMsg:"",successMsg:"Successfully updated",successStatus:!0})));case 13:return e.next=15,he({key_id:r,block_id:n},c);case 15:return e.next=17,_n(t,c,{state:l,setState:u,uiPagecall:"textModeration"});case 17:u(Object(i.a)(Object(i.a)({},l),{},{errorStatus:!1,saveLoading:!1,errorMsg:"",successMsg:"Successfully updated",successStatus:!0})),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(4),u(Object(i.a)(Object(i.a)({},l),{},{errorStatus:!0,saveLoading:!1,errorMsg:e.t0.message,successMsg:"",successStatus:!1}));case 23:case"end":return e.stop()}}),e,null,[[4,20]])})))).apply(this,arguments)}Object(n.useEffect)((function(){u((function(e){return Object(i.a)(Object(i.a)({},e),{},{errorStatus:!1,errorMsg:"",successStatus:!1,successMsg:""})}))}),[l.wordListProfanity,l.automaticProfanity]),Object(n.useEffect)((function(){var e=/^.*?[,.]$/.test(j.trim());u(e?function(e){return Object(i.a)(Object(i.a)({},e),{},{errorStatus:!0,errorMsg:"Invalid word list pattern, word list\n          should not end with period or delimiter",wordList:Object(i.a)(Object(i.a)({},e.wordList),{},{wordsListPatternError:!0})})}:function(e){return Object(i.a)(Object(i.a)({},e),{},{errorStatus:!1,errorMsg:"",wordList:Object(i.a)(Object(i.a)({},e.wordList),{},{wordsListPatternError:!1})})})}),[j]),Object(n.useEffect)((function(){u((function(e){return Object(i.a)(Object(i.a)({},e),{},{errorStatus:!1,errorMsg:"",wordList:Object(i.a)(Object(i.a)({},e.wordList),{},{wordsListMaskCharError:!1})})})),!l.wordList.wordListCharacterToMaskWith.trim()&&l.wordListProfanity&&"Mask-word"===l.wordList.wordListModType&&u((function(e){return Object(i.a)(Object(i.a)({},e),{},{errorStatus:!0,errorMsg:"Please set a making character",wordList:Object(i.a)(Object(i.a)({},e.wordList),{},{wordsListMaskCharError:!0})})}))}),[l.wordList.wordListCharacterToMaskWith,l.wordListProfanity,l.wordList.wordListModType]),Object(n.useEffect)((function(){u((function(e){return Object(i.a)(Object(i.a)({},e),{},{errorStatus:!1,errorMsg:"Please set a making character",automaticDetection:Object(i.a)(Object(i.a)({},e.automaticDetection),{},{automaticMaskCharError:!1})})})),!l.automaticDetection.automaticDetectionCharacterToMaskWith.trim()&&l.automaticProfanity&&"mask-message"===l.automaticDetection.automaticDetectionModType&&u((function(e){return Object(i.a)(Object(i.a)({},e),{},{errorStatus:!0,errorMsg:"Please set a making character",automaticDetection:Object(i.a)(Object(i.a)({},e.automaticDetection),{},{automaticMaskCharError:!0})})}))}),[l.automaticDetection.automaticDetectionCharacterToMaskWith,l.automaticProfanity,l.automaticDetection.automaticDetectionModType]),Object(n.useEffect)((function(){l.channelOnChange&&((d?l.wordList.wordListChannel.length:l.automaticDetection.automaticDetectionChannel.length)?u((function(e){return Object(i.a)(Object(i.a)({},e),{},{errorStatus:!1,saveLoading:!1,errorMsg:"",successMsg:"",wordList:Object(i.a)(Object(i.a)({},e.wordList),{},{wordsListChannelError:!1}),automaticDetection:Object(i.a)(Object(i.a)({},e.automaticDetection),{},{automaticChannelError:!1}),successStatus:!1})})):u((function(e){return Object(i.a)(Object(i.a)({},e),{},{errorStatus:!0,saveLoading:!1,wordList:Object(i.a)(Object(i.a)({},e.wordList),{},{wordsListChannelError:!!d}),automaticDetection:Object(i.a)(Object(i.a)({},e.automaticDetection),{},{automaticChannelError:!d}),errorMsg:"Channel name is required",successMsg:"",successStatus:!1})})))}),[l.wordList.wordListChannel,d,l.channelOnChange,l.automaticDetection.automaticDetectionChannel]),Object(n.useEffect)((function(){var e=Nt(),t=B("token");Object(x.a)(p.a.mark((function a(){var n,s,c,o,d,b,j,h,m,g,x,f,O,v,y,k,w,C,F,S,N,T,M,R,I,A,D,P,L,E,B,q,U,W,_,z;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=11;break}return a.prev=1,a.next=4,ue(e.id,t);case 4:n=a.sent,Pt(n,e).length?(s=Pt(n,e)[0].event_handlers,(c=Lt(s,Pt(n,e))).length>0?(o=Bt(c[0].code),d=o.wordListProfanity,b=o.automaticProfanity,j=o.textModerationToggle,h=o.wordList,m=h.wordListReRouteMessages,g=h.wordListModType,x=h.applyToAllChannelIdsWordlist,f=h.wordListCharacterToMaskWith,O=h.englishProfanity,v=h.hindiProfanity,y=h.frenchProfanity,k=h.spanishProfanity,w=h.portugeseProfanity,C=o.automaticDetection,F=C.automaticDetectionReRouteMessages,S=C.automaticDetectionModType,N=C.applyToAllChannelIdsAutomatic,T=C.automaticDetectionCharacterToMaskWith,M=C.toolForAutomaticDetection,R=C.siftNinjaRiskFactorThresholdVulgar,I=C.siftNinjaRiskFactorThresholdSexting,A=C.siftNinjaRiskFactorThresholdRacism,D=C.siftNinjaAccountName,P=C.siftNinjaChannelName,L=C.siftNinjaApiKey,E=C.tisaneRiskFactorThresholdBigotry,B=C.tisaneRiskFactorThresholdCyberBullying,q=C.tisaneRiskFactorThresholdCriminalActivity,U=C.tisaneRiskFactorThresholdSexualAdvances,W=C.tisaneRiskFactorThresholdProfanity,_=C.tisaneApiKey,z=C.tisaneLanguage,u((function(e){return Object(i.a)(Object(i.a)({},e),{},{wordList:Object(i.a)(Object(i.a)({},e.wordList),{},{wordListChannel:c[0].channels,wordListModType:g,applyToAllChannelIdsWordlist:x,wordListCharacterToMaskWith:f,wordListReRouteMessages:m}),automaticDetection:{automaticDetectionChannel:c[0].channels,automaticDetectionReRouteMessages:F,automaticDetectionModType:S,applyToAllChannelIdsAutomatic:N,automaticDetectionCharacterToMaskWith:T,toolForAutomaticDetection:M,siftNinjaRiskFactorThresholdVulgar:R,siftNinjaRiskFactorThresholdSexting:I,siftNinjaRiskFactorThresholdRacism:A,siftNinjaAccountName:D,siftNinjaChannelName:P,siftNinjaApiKey:L,tisaneRiskFactorThresholdBigotry:E,tisaneRiskFactorThresholdCyberBullying:B,tisaneRiskFactorThresholdCriminalActivity:q,tisaneRiskFactorThresholdSexualAdvances:U,tisaneRiskFactorThresholdProfanity:W,tisaneApiKey:_,tisaneLanguage:z},initialLoading:!1,textModerationToggle:j,wordListProfanity:d,automaticProfanity:b})})),r((function(e){return Object(i.a)(Object(i.a)({},e),{},{English:O.split("|").join(","),Hindi:v.split("|").join(","),Portugese:w.split("|").join(","),French:y.split("|").join(","),Spanish:k.split("|").join(",")})}))):u((function(e){return Object(i.a)(Object(i.a)({},e),{},{wordList:Object(i.a)({},e.wordList),initialLoading:!1})}))):u((function(e){return Object(i.a)(Object(i.a)({},e),{},{wordList:Object(i.a)({},e.wordList),initialLoading:!1})})),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),u(Object(i.a)(Object(i.a)({},l),{},{errorStatus:!0,saveLoading:!1,errorMsg:a.t0.message,successMsg:"",successStatus:!1,initialLoading:!1}));case 11:case"end":return a.stop()}}),a,null,[[1,8]])})))()}),[]);var C=function(){var e=Object(x.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n="/words/".concat(t,".txt"),fetch(n).then((function(e){return e.text()})).then((function(e){return e}));case 2:a=e.sent,r(Object(i.a)(Object(i.a)({},s),{},Object(Na.a)({},t,a)));case 4:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(x.a)(p.a.mark((function e(t){var a,n,s,r,c,o,d,b,j,h;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!l.errorStatus){e.next=3;break}return e.abrupt("return");case 3:if(u(Object(i.a)(Object(i.a)({},l),{},{saveLoading:!0})),a=B("token"),!(n=Nt())){e.next=40;break}return e.prev=7,e.next=10,ue(n.id,a);case 10:if(s=e.sent,r=n.id,!Pt(s,n).length){e.next=25;break}if(c=Pt(s,n)[0].id,o=Pt(s,n)[0].event_handlers,0!==(d=Lt(o,Pt(s,n))).length){e.next=21;break}return e.next=19,m(n,c,r,a);case 19:e.next=23;break;case 21:return e.next=23,y(n,d,c,r,a);case 23:e.next=35;break;case 25:return b={key_id:n.id,name:"KEY-".concat(n.id),description:"This is a profanity function"},e.next=28,be(b,a);case 28:return e.next=30,ue(n.id,a);case 30:return j=e.sent,h=Pt(j,n)[0].id,e.next=34,m(n,h,r,a);case 34:u((function(e){return Object(i.a)(Object(i.a)({},e),{},{initialLoading:!1})}));case 35:e.next=40;break;case 37:e.prev=37,e.t0=e.catch(7),u(Object(i.a)(Object(i.a)({},l),{},{errorStatus:!0,saveLoading:!1,errorMsg:e.t0.message,successMsg:"",successStatus:!1}));case 40:case"end":return e.stop()}}),e,null,[[7,37]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[l.successStatus&&Object(h.jsx)(Da,{status:"success",msg:l.successMsg}),l.errorStatus&&Object(h.jsx)(Da,{status:"error",msg:l.errorMsg}),Object(h.jsxs)(v.a,{testid:"title",variant:"h6",className:e.title,children:["Text Moderation",Object(h.jsx)(xn,{checked:Yt(l.textModerationToggle),onChange:function(e){u(Object(i.a)(Object(i.a)({},l),{},{textModerationToggle:e.target.checked}))}})]}),Object(h.jsx)("br",{}),Object(h.jsx)(v.a,{testid:"sub_title",className:e.subTitle,children:"Profanity detection method"}),Object(h.jsx)(fn,{state:l,handleClick:function(e){return function(t){t.preventDefault(),"wordListMethod"===e?u(Object(i.a)(Object(i.a)({},l),{},{wordListProfanity:"true",automaticProfanity:"false"})):"automaticMethod"===e&&u(Object(i.a)(Object(i.a)({},l),{},{wordListProfanity:"false",automaticProfanity:"true"}))}}}),Object(h.jsx)("br",{}),l.initialLoading&&Object(h.jsx)(O.a,{container:!0,justify:"center",children:Object(h.jsx)(w.a,{size:65,thickness:4,color:"primary",className:e.loader})}),Object(h.jsx)("br",{}),Object(h.jsx)(hn,{handleSave:F,state:l,profanityList:s,defaultWords:C,setState:u,setProfanityList:r})]})},Hn=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(Za,{children:Object(h.jsx)(Kn,{})})})},Vn=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(ta,{})})},Yn=a(470),Jn=a(473),Gn=a(472),Xn=a(471),$n=Object(M.a)({confirmButton:{background:"#F53C56 0% 0% no-repeat padding-box",borderRadius:"8px",opacity:1,font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) var(--unnamed-font-size-16)/var(--unnamed-line-spacing-19) var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"left",color:"#FFFFFF","&:hover":{backgroundColor:"#F53C56"},width:"150px",height:"45px",textTransform:"none"},cancelButton:{background:" #FFFFFF 0% 0% no-repeat padding-box",border:"1px solid #172B4D",borderRadius:"8px",opacity:1,"&:hover":{backgroundColor:"#FFFFFF"},width:"100px",height:"45px"},confirmDialog:{boxShadow:"0px 3px 6px #2C28281C",borderRadius:"10px",opacity:1}}),Zn=function(e){var t=e.title,a=e.children,n=e.open,s=e.setOpen,r=e.onConfirm,c=$n();return Object(h.jsxs)(Yn.a,{id:"dialog",open:n,onClose:function(){return s(!1)},"aria-labelledby":"confirm-dialog",fullWidth:!0,maxWidth:"xs",className:c.confirmDialog,children:[Object(h.jsx)(Xn.a,{id:"confirm-dialog",children:t}),Object(h.jsx)(Gn.a,{id:"content",children:a}),Object(h.jsxs)(Jn.a,{children:[Object(h.jsx)(k.a,{id:"confirm",onClick:function(){s(!1),r()},className:c.confirmButton,children:Object(h.jsx)(v.a,{children:e.actionMessage})}),Object(h.jsx)(k.a,{id:"cancel",variant:"contained",onClick:function(){return s(!1)},className:c.cancelButton,children:"Cancel"})]})]})},Qn=a(46),es=a.n(Qn),ts=Object(M.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},button:Object(Na.a)({backgroundColor:"#7082e4",fontSize:"14px",padding:"5px 15px 5px 15px"},e.breakpoints.down("sm"),{fontSize:"10px"}),closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},joinChannelButton:{transition:e.transitions.create("width"),background:"#6387ED",borderRadius:"8px","&:hover":{backgroundColor:"#6387ED"},padding:"10px 25px 10px 25px",height:"49px"},buttonText:{font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) 13px/16px var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"left",color:"#FFFFFF",textTransform:"uppercase"},inputBox:{background:"#FFFFFF 0% 0% no-repeat padding-box",borderRadius:" 8px",opacity:1,width:"100%"},loader:{color:"white"},modalLayout:{border:"1px solid #F3F3F3",borderRadius:"10px",opacity:1},cancelButton:{border:"1px solid #707070",borderRadius:"8px",opacity:1,width:"140px",height:"45px"},avatar:{width:"70px",height:"70px"},uploadIcon:{bottom:"30px",right:"-30px"},subHeadingFont:{font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) var(--unnamed-font-size-14)/16px Graphik",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"left",color:"#606060",opacity:1,lineHeight:2.5,paddingLeft:"12px"},headingFont:{font:"normal normal medium 22px/27px Proxima Nova",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"left",color:"#414141",opacity:1},addButton:{transition:e.transitions.create("width"),background:"#6387ED",borderRadius:"8px","&:hover":{backgroundColor:"#6387ED"},width:"140px",height:"45px"},tooltip:{backgroundColor:e.palette.common.white,color:"rgba(0, 0, 0, 0.87)",boxShadow:e.shadows[1],fontSize:11},addChannelButton:{background:"#FFFFFF 0% 0% no-repeat padding-box",border:"1px solid #6387ED67",borderRadius:"5px",opacity:1,"&:hover":{backgroundColor:"#FFFFFF"},padding:"10px 25px 10px 25px",height:"49px"},addChannelButtonFont:{font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) 13px/16px var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"left",color:"#6387ED",textTransform:"uppercase",opacity:1}}})),as=a(52);function ns(e){var t=ts();return Object(h.jsxs)("form",{onSubmit:e.formik.handleSubmit,children:[Object(h.jsxs)(Gn.a,{children:[Object(h.jsx)(v.a,{testid:"Channel_Id",className:t.subHeadingFont,children:"Channel ID"}),Object(h.jsx)(y.a,{name:"id",id:"id",disabled:e.disabled,placeholder:"Enter Channel ID",variant:"outlined",className:t.inputBox,autoComplete:"off",onChange:e.formik.handleChange,value:e.formik.values.id,error:e.formik.touched.id&&Boolean(e.formik.errors.id),helperText:e.formik.touched.id&&e.formik.errors.id}),Object(h.jsxs)(mt.a,{pt:1,children:[Object(h.jsx)(v.a,{testid:"Display_Name",className:t.subHeadingFont,children:"Display Name"}),Object(h.jsx)(y.a,{id:"name",name:"name",placeholder:"Enter Display Name",variant:"outlined",className:t.inputBox,autoComplete:"off",onChange:e.formik.handleChange,value:e.formik.values.name,error:e.formik.touched.name&&Boolean(e.formik.errors.name),helperText:e.formik.touched.name&&e.formik.errors.name})]}),Object(h.jsxs)(mt.a,{pt:1,children:[Object(h.jsx)(v.a,{testid:"Description",className:t.subHeadingFont,children:"Description"}),Object(h.jsx)(y.a,{id:"description",name:"description",placeholder:"Enter Channel Description",variant:"outlined",className:t.inputBox,multiline:!0,rows:3,autoComplete:"off",onChange:e.formik.handleChange,value:e.formik.values.description,error:e.formik.touched.description&&Boolean(e.formik.errors.description),helperText:e.formik.touched.description&&e.formik.errors.description})]})]}),Object(h.jsxs)(Jn.a,{children:[Object(h.jsx)(k.a,{autoFocus:!0,className:t.cancelButton,onClick:e.handleClose,children:"CANCEL"}),Object(h.jsx)(k.a,{autoFocus:!0,className:t.addButton,type:"submit",color:"primary",disabled:e.channelAlert.loading,startIcon:e.channelAlert.loading?Object(h.jsx)(w.a,{className:t.loader,size:30}):null,children:Object(h.jsx)(v.a,{className:t.buttonText,children:e.buttonTitle})})]})]})}var ss=a(36),rs=ss.b({id:ss.c("Enter channel name").strict(!0).matches(/^\S*$/,"Channel ID must not contain spaces").test("Channel ID not valid","Channel ID not valid",(function(e){return!function(e){for(var t=[",",":","*","/","\\"],a=0;a<=t.length;a++)if(e&&e.includes(t[a]))return!0;return!1}(e)})).required("Channe ID is required"),name:ss.c("Enter display name").required("Display name is required")});function cs(e){var t=e.pubnubObject,a=e.isAdded,s=Object(n.useState)(!1),r=Object(f.a)(s,2),c=r[0],o=r[1],l=Object(n.useState)({success:{status:!1,msg:""},error:{status:!1,msg:""},loading:!1}),u=Object(f.a)(l,2),d=u[0],b=u[1],j=ts(),m=function(){o(!1),g.resetForm()},g=Object(as.a)({initialValues:{description:"",name:"",id:""},validationSchema:rs,onSubmit:function(e){O(e)}}),O=function(e){b(Object(i.a)(Object(i.a)({},d),{},{success:{status:!1,msg:""},error:{status:!1,msg:""},loading:!0})),Object(x.a)(p.a.mark((function n(){var s,r;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Le(t,e.id);case 3:if(!(s=n.sent)||!s.length){n.next=8;break}b(Object(i.a)(Object(i.a)({},d),{},{success:{status:!1,msg:""},error:{status:!0,msg:"Channel already exists!"},loading:!1})),n.next=21;break;case 8:return n.prev=8,n.next=11,X(t,e.name,e.description,e.id);case 11:r=n.sent,m(),b(Object(i.a)(Object(i.a)({},d),{},{success:{status:!0,msg:"Channel added successfully."},error:{status:!1,msg:""},loading:!1})),a(r),n.next=21;break;case 17:n.prev=17,n.t0=n.catch(8),m(),b(Object(i.a)(Object(i.a)({},d),{},{success:{status:!1,msg:""},error:{status:!0,msg:Dt(n.t0.status.errorData)},loading:!1}));case 21:n.next=26;break;case 23:n.prev=23,n.t1=n.catch(0),b(Object(i.a)(Object(i.a)({},d),{},{success:{status:!1,msg:""},error:{status:!0,msg:n.t1.message},loading:!1}));case 26:case"end":return n.stop()}}),n,null,[[0,23],[8,17]])})))()};return Object(h.jsxs)("div",{children:[Object(h.jsx)(k.a,{id:"addChannel",startIcon:Object(h.jsx)("img",{src:"images/add-channel.svg",alt:"add"}),onClick:function(){o(!0)},className:j.addChannelButton,children:Object(h.jsx)(v.a,{className:j.addChannelButtonFont,children:"Add Channel"})}),Object(h.jsxs)(Yn.a,{id:"dialog",fullWidth:!0,onClose:m,"aria-labelledby":"customized-dialog-title",open:c,className:j.modalLayout,children:[Object(h.jsxs)(Xn.a,{id:"customized-dialog-title",onClose:m,disableTypography:!0,children:[Object(h.jsx)(v.a,{variant:"h6",className:j.headingFont,children:"Add Channel"}),c?Object(h.jsx)(ot.a,{id:"closeButton","aria-label":"close",onClick:m,className:j.closeButton,children:Object(h.jsx)(es.a,{})}):null]}),Object(h.jsx)(ns,{id:"add",formik:g,channelAlert:d,handleClose:m,buttonTitle:"ADD",disabled:!1})]}),d.error.status&&Object(h.jsx)(Da,{msg:d.error.msg,status:"info"}),d.success.status&&Object(h.jsx)(Da,{msg:d.success.msg,status:"success"})]})}function is(e){var t=e.pubnubObject,a=e.open,s=e.setOpen,r=e.data,c=e.channelUpdated,o=Object(n.useState)(""),l=Object(f.a)(o,2),u=l[0],d=l[1],b=Object(n.useState)(null),j=Object(f.a)(b,2),m=j[0],g=j[1],O=Object(n.useState)(""),y=Object(f.a)(O,2),k=y[0],w=y[1],C=Object(n.useState)({success:{status:!1,msg:""},error:{status:!1,msg:""},loading:!1}),F=Object(f.a)(C,2),S=F[0],N=F[1],T=ts();Object(n.useEffect)((function(){d(r.name),g(r.description),w(r.id)}),[r]);var M=function(){s(!1)},R=Object(as.a)({initialValues:{description:m||"",name:u,id:k},enableReinitialize:!0,validationSchema:rs,onSubmit:function(e){I(e)}}),I=function(e){N(Object(i.a)(Object(i.a)({},S),{},{success:{status:!1,msg:""},error:{status:!1,msg:""},loading:!0})),Object(x.a)(p.a.mark((function a(){var n;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ce(t,e.name,e.description,k);case 3:n=a.sent,M(),N(Object(i.a)(Object(i.a)({},S),{},{success:{status:!0,msg:"Channel updated successfully."},error:{status:!1,msg:""},loading:!1})),c(n),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),M(),N(Object(i.a)(Object(i.a)({},S),{},{success:{status:!1,msg:""},error:{status:!0,msg:Dt(a.t0.status.errorData)},loading:!1}));case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()};return Object(h.jsxs)("div",{children:[Object(h.jsxs)(Yn.a,{fullWidth:!0,onClose:M,"aria-labelledby":"customized-dialog-title",open:a,className:T.modalLayout,children:[Object(h.jsxs)(Xn.a,{id:"customized-dialog-title",onClose:M,disableTypography:!0,children:[Object(h.jsx)(v.a,{testid:"UpdateChannel",variant:"h6",className:T.headingFont,children:"Update Channel Metadata"}),a?Object(h.jsx)(ot.a,{testId:"closeIcon","aria-label":"close",onClick:M,className:T.closeButton,children:Object(h.jsx)(es.a,{})}):null]}),Object(h.jsx)(ns,{formik:R,channelAlert:S,handleClose:M,buttonTitle:"UPDATE",disabled:!0})]}),S.error.status&&Object(h.jsx)(Da,{msg:S.error.msg,status:"info"}),S.success.status&&Object(h.jsx)(Da,{msg:S.success.msg,status:"success"})]})}function os(e){var t=e.searchResult,a=e.setSearchableData,s=e.deleteChannel,r=e.data,c=e.pubnub,i=Object(n.useState)([]),o=Object(f.a)(i,2),l=o[0],u=o[1],d=Object(n.useState)(""),j=Object(f.a)(d,2),m=j[0],g=j[1],v=Object(n.useState)(!1),y=Object(f.a)(v,2),k=y[0],C=y[1],F=Object(n.useState)(!1),S=Object(f.a)(F,2),N=S[0],T=S[1],M=Object(n.useState)(!1),R=Object(f.a)(M,2),I=R[0],A=R[1],D=Object(n.useState)([]),P=Object(f.a)(D,2),L=P[0],E=P[1],B=Object(n.useState)(""),U=Object(f.a)(B,2),W=U[0],_=U[1],z=Object(n.useState)([]),K=Object(f.a)(z,2),H=K[0],Y=K[1],J=Object(n.useState)(0),G=Object(f.a)(J,2),X=G[0],$=G[1],Z=Object(n.useState)(""),Q=Object(f.a)(Z,2),ee=Q[0],te=Q[1],ae=Object(n.useState)(""),ne=Object(f.a)(ae,2),se=ne[0],re=ne[1],ce=Object(n.useState)(0),ie=Object(f.a)(ce,2),oe=ie[0],le=ie[1],ue=Object(b.g)();Object(n.useEffect)((function(){le(0),de(c,"","")}),[r,H]),Object(n.useEffect)((function(){t.length&&u(t)}),[t]),Object(n.useEffect)((function(){a(l)}),[l]);var de=function(e,t,a){C(!0),u([]),Object(x.a)(p.a.mark((function n(){var s,r,i,o,l;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,V(e,t,a);case 3:return(s=n.sent).data.length||(C(!1),g("No Channel Metadata Found")),$(s.totalCount),re(s.prev),te(s.next),r=[],i=[],o={},s.data.map((function(e,t){return(o=e).updated=It(e.updated),r.push(o),i.push(o.id),!1})),n.next=14,De(c,i);case 14:l=n.sent,i.forEach((function(e,t){r[t].occupancy=l[e]&&l[e].occupancy})),u(r),q("PubNubChannels",r),C(!1),n.next=26;break;case 21:n.prev=21,n.t0=n.catch(0),C(!1),g("No Channel Metadata Found"),q("PubNubChannels",[]);case 26:case"end":return n.stop()}}),n,null,[[0,21]])})))()},be=function(e,t){ue.push({pathname:"/channels/messages",state:{channel:t}})};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Fa,{data:l,headCells:[{id:"id",alignment:"left",label:"CHANNEL",avatar:!0},{id:"description",alignment:"left",label:"DESCRIPTION"},{id:"occupancy",alignment:"left",label:"OCCUPANCY"},{id:"icons",alignment:"left",icons:!0,user:!1}],handleRowClick:function(e,t,a){a||be(e,t.id)},message:m,editRow:function(e,t){A(!0),E(t)},deleteRow:function(e,t){T(!0),_(t)},viewRow:be,getNewPage:function(e){oe<e?(le(e),de(c,ee,"")):(le(oe-1),de(c,"",se))},tableCount:X,number:oe}),k?Object(h.jsx)(O.a,{justify:"center",container:!0,children:Object(h.jsx)(w.a,{})}):null,Object(h.jsx)(Zn,{id:"delete",title:"Are you sure?",open:N,setOpen:T,onConfirm:function(){s(W)},actionMessage:"Yes, Delete it",children:"You want to delete this channel?"}),Object(h.jsx)(is,{open:I,setOpen:A,pubnubObject:c,data:L,channelUpdated:function(e){Y(e)}})]})}function ls(){var e=Object(n.useState)(!1),t=Object(f.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(""),c=Object(f.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)(!1),u=Object(f.a)(l,2),d=u[0],j=u[1],m=Object(b.g)(),g=ts(),p=function(){j(!1),s(!1)};return Object(h.jsxs)("div",{children:[Object(h.jsx)(xa,{title:"If you have a channel ID, you can directly join in this by clicking on this button and entering the channel ID",children:Object(h.jsx)(k.a,{id:"joinChannelButton",onClick:function(){s(!0)},className:g.joinChannelButton,startIcon:Object(h.jsx)("img",{src:"images/link.svg",alt:""}),children:Object(h.jsx)(v.a,{className:g.buttonText,children:"Join Channel"})})}),Object(h.jsxs)(Yn.a,{id:"dialog",fullWidth:!0,onClose:p,"aria-labelledby":"customized-dialog-title",open:a,children:[Object(h.jsxs)(Xn.a,{id:"customized-dialog-title",onClose:p,disableTypography:!0,children:[Object(h.jsx)(v.a,{variant:"h6",className:g.headingFont,children:"Join Channel"}),a?Object(h.jsx)(ot.a,{"aria-label":"close",onClick:p,className:g.closeButton,children:Object(h.jsx)(es.a,{})}):null]}),Object(h.jsxs)(Gn.a,{children:[Object(h.jsx)(v.a,{testid:"channelId",className:g.subHeadingFont,children:"Channel ID"}),Object(h.jsx)(y.a,{id:"channelId",placeholder:"Enter Channel ID",variant:"outlined",className:g.inputBox,onChange:function(e){return o(e.target.value)},error:d,helperText:d?"Channel is Required":""})]}),Object(h.jsxs)(Jn.a,{children:[Object(h.jsx)(k.a,{id:"cancelButton",onClick:p,className:g.cancelButton,children:"Cancel"}),Object(h.jsx)(k.a,{id:"joinButton",className:g.addButton,onClick:function(){if(!i)return j(!0),!1;m.push({pathname:"/channels/messages",state:{channel:i}})},color:"primary",children:Object(h.jsx)(v.a,{className:g.buttonText,children:"Join Channel"})})]})]})]})}var us=function(){var e=Nt(),t=!!localStorage.getItem("uuid")&&JSON.parse(localStorage.getItem("uuid"));return e&&t?{pubnub:new Xe.a({subscribeKey:e.subscribe_key,secretKey:e.secret_key,publishKey:e.publish_key,uuid:t})}:{}};var ds=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)([]),c=Object(f.a)(r,2),o=c[0],l=c[1],u=Object(n.useState)(""),d=Object(f.a)(u,1)[0],b=Object(n.useState)({success:{status:!1,msg:""},error:{status:!1,msg:""}}),j=Object(f.a)(b,2),m=j[0],g=j[1],y=us().pubnub;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(ia.a,{title:"Channels"}),Object(h.jsxs)(O.a,{justify:"space-between",container:!0,children:[Object(h.jsx)(O.a,{item:!0,sm:3,children:Object(h.jsx)(mt.a,{pl:1,children:Object(h.jsx)(v.a,{testid:"channelHeader",variant:"h5",children:"Channels"})})}),Object(h.jsx)(O.a,{item:!0,sm:9,children:Object(h.jsxs)(mt.a,{display:"flex",justifyContent:"flex-end",children:[Object(h.jsx)(mt.a,{ml:2,children:Object(h.jsx)(Ia,{id:"search",searched:d,requestSearch:function(e){g(Object(i.a)(Object(i.a)({},m),{},{success:{status:!1,msg:""},error:{status:!1,msg:""}})),Object(x.a)(p.a.mark((function t(){var a,n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,we(y,e);case 3:a=t.sent,n=[],r={},a.length||g(Object(i.a)(Object(i.a)({},m),{},{success:{status:!1,msg:""},error:{status:!0,msg:"No channels found"}})),a.map((function(e,t){return(r=e).updated=It(e.updated),n.push(r),!1})),s(n),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),g(Object(i.a)(Object(i.a)({},m),{},{success:{status:!1,msg:""},error:{status:!0,msg:"Failed to filter channel"}}));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},cancelSearch:function(){s(!!localStorage.getItem("PubNubChannels")&&JSON.parse(localStorage.getItem("PubNubChannels")))},placeholder:"Search for channel name"})}),Object(h.jsx)(mt.a,{ml:2,children:Object(h.jsx)(cs,{pubnubObject:y,isAdded:function(e){l(e)}})}),Object(h.jsx)(mt.a,{ml:2,children:Object(h.jsx)(ls,{})})]})})]}),Object(h.jsx)("br",{}),Object(h.jsx)(O.a,{container:!0,spacing:6,children:Object(h.jsx)(O.a,{item:!0,xs:12,children:Object(h.jsx)(os,{searchResult:a,setSearchableData:function(e){s(e)},deleteChannel:function(e){e&&Object(x.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ee(y,e);case 3:l([]),g(Object(i.a)(Object(i.a)({},m),{},{success:{status:!0,msg:"Channel deleted successfully"},error:{status:!1,msg:""}})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),g(Object(i.a)(Object(i.a)({},m),{},{success:{status:!0,msg:Dt(t.t0.status.errorData)},error:{status:!1,msg:""}}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},data:o,pubnub:y})})}),m.error.status&&Object(h.jsx)(Da,{msg:m.error.msg,status:"info"}),m.success.status&&Object(h.jsx)(Da,{msg:m.success.msg,status:"success"})]})},bs=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(Za,{children:Object(h.jsx)(ds,{})})})},js=Object(M.a)((function(e){return{root:{flexGrow:1},gridOne:{padding:e.spacing(2),opacity:1,borderRadius:"10px",border:"1px solid #F3F3F3",background:"#FFFFFF 0% 0% no-repeat padding-box",boxShadow:"0px 3px 6px #00000014",height:"100%"},gridTwo:{padding:e.spacing(2),opacity:1,borderRadius:"10px",border:"1px solid #F3F3F3",background:"#FFFFFF 0% 0% no-repeat padding-box",boxShadow:"0px 3px 6px #00000014",height:"100%"},headings:{textAlign:"left",opacity:1,color:"#C2C2C2",textTransform:"uppercase",font:"var(--unnamed-font-style-normal) normal 600 var(--unnamed-font-size-12)/var(--unnamed-line-spacing-15) var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)"},values:{color:"#414141",textAlign:"left",opacity:1,font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) var(--unnamed-font-size-18)/var(--unnamed-line-spacing-23) var(--unnamed-font-family-proxima-nova)"},avatar:{background:"#FCF0EF",color:"#E66E68",borderRadius:"8px"},test:{text:"ellipsis"},appName:{font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) var(--unnamed-font-size-16)/var(--unnamed-line-spacing-19) var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"left",fontSize:"12px",color:"#C2C2C2",opacity:1}}})),hs=function(){var e=js(),t=Object(n.useState)([]),a=Object(f.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(!1),i=Object(f.a)(c,2),o=i[0],l=i[1];Object(n.useEffect)((function(){r(Nt())}),[]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(ia.a,{title:"Overview"}),Object(h.jsx)(O.a,{justify:"space-between",container:!0,children:Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{pl:1,children:Object(h.jsx)(v.a,{testid:"overview_Header",variant:"h5",children:"Overview"})})})}),Object(h.jsx)("br",{}),Object(h.jsx)("div",{className:e.root,children:Object(h.jsxs)(O.a,{container:!0,spacing:3,children:[Object(h.jsx)(O.a,{item:!0,xs:12,children:Object(h.jsxs)(bt.a,{className:e.gridOne,children:[Object(h.jsxs)(O.a,{justify:"flex-start",container:!0,children:[Object(h.jsx)(mt.a,{mr:1,children:Object(h.jsx)(lt.a,{className:e.avatar,variant:"square",children:s.name?Rt(s.name):""})}),Object(h.jsxs)(O.a,{item:!0,sm:6,xs:12,md:6,children:[Object(h.jsx)("small",{className:e.values,children:s.name?s.name:""}),Object(h.jsx)("br",{}),Object(h.jsx)("small",{className:e.appName,children:s.appName?s.appName:""})]})]}),Object(h.jsx)("br",{}),Object(h.jsx)(gt.a,{}),Object(h.jsx)("br",{}),Object(h.jsxs)(O.a,{justify:"space-between",container:!0,children:[Object(h.jsxs)(O.a,{item:!0,xs:12,sm:6,children:[Object(h.jsx)(v.a,{testid:"modified_date",className:e.headings,children:"Modified Date"}),Object(h.jsx)(v.a,{className:e.values,children:s.modified?s.modified:""})]}),Object(h.jsxs)(O.a,{item:!0,xs:12,sm:6,children:[Object(h.jsx)(v.a,{testid:"created_on",className:e.headings,children:"Created on"}),Object(h.jsx)(v.a,{className:e.values,children:s.created?s.created:""})]})]})]})}),Object(h.jsx)(O.a,{item:!0,xs:12,children:Object(h.jsxs)(bt.a,{className:e.gridTwo,children:[Object(h.jsx)(v.a,{testid:"pubnub_keys",variant:"h6",children:"PubNub Keys"}),Object(h.jsx)("br",{}),Object(h.jsx)(gt.a,{}),Object(h.jsx)("br",{}),Object(h.jsxs)(O.a,{justify:"space-between",container:!0,children:[Object(h.jsxs)(O.a,{item:!0,xs:12,sm:6,children:[Object(h.jsx)(v.a,{testid:"publish_key",variant:"h6",className:e.headings,children:"Publish Key"}),Object(h.jsx)(v.a,{className:e.values,children:s.publish_key?s.publish_key:""}),Object(h.jsx)("br",{}),Object(h.jsxs)(v.a,{testid:"secret_key",className:e.headings,children:["Secret Key",Object(h.jsx)(ot.a,{id:"maskableIcon",className:e.headings,onClick:function(){l((function(e){return!e}))},children:o?Object(h.jsx)(N.a,{}):Object(h.jsx)(S.a,{})})]}),Object(h.jsx)(v.a,{id:"maskableText",className:e.values,children:o?s.secret_key:s.secret_key&&"*".repeat(s.secret_key.length)})]}),Object(h.jsxs)(O.a,{item:!0,xs:12,sm:6,children:[Object(h.jsx)(v.a,{variant:"h6",testid:"subsciber_key",className:e.headings,children:"Subscribe Key"}),Object(h.jsx)(v.a,{className:e.values,children:s.subscribe_key?s.subscribe_key:""})]})]})]})})]})})]})},ms=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(Za,{children:Object(h.jsx)(hs,{})})})};function gs(e){var t=ts();return Object(h.jsxs)("form",{onSubmit:e.formik.handleSubmit,children:[Object(h.jsxs)(Gn.a,{children:[Object(h.jsx)(v.a,{testid:"User_Id",className:t.subHeadingFont,children:"User ID"}),Object(h.jsx)(y.a,{id:"user_id",name:"user_id",placeholder:"Enter user ID",variant:"outlined",disabled:e.disabled,className:t.inputBox,autoComplete:"off",onChange:e.formik.handleChange,value:e.formik.values.user_id,error:e.formik.touched.user_id&&Boolean(e.formik.errors.user_id),helperText:e.formik.touched.user_id&&e.formik.errors.user_id}),Object(h.jsx)(v.a,{testid:"User_Name",className:t.subHeadingFont,children:"User Name"}),Object(h.jsx)(y.a,{id:"name",name:"name",placeholder:"Enter user name",variant:"outlined",className:t.inputBox,autoComplete:"off",onChange:e.formik.handleChange,value:e.formik.values.name,error:e.formik.touched.name&&Boolean(e.formik.errors.name),helperText:e.formik.touched.name&&e.formik.errors.name}),Object(h.jsx)(v.a,{testid:"Email",className:t.subHeadingFont,children:"Email Address"}),Object(h.jsx)(y.a,{id:"email",name:"email",placeholder:"Enter email address",variant:"outlined",className:t.inputBox,autoComplete:"off",onChange:e.formik.handleChange,value:e.formik.values.email,error:e.formik.touched.email&&Boolean(e.formik.errors.email),helperText:e.formik.touched.email&&e.formik.errors.email}),Object(h.jsx)(v.a,{testid:"Profile_Url",className:t.subHeadingFont,children:"Profile URL"}),Object(h.jsx)(y.a,{id:"profile_url",name:"profile_url",placeholder:"Enter Profile URL",variant:"outlined",className:t.inputBox,autoComplete:"off",onChange:e.formik.handleChange,value:e.formik.values.profile_url,error:e.formik.touched.profile_url&&Boolean(e.formik.errors.profile_url),helperText:e.formik.touched.profile_url&&e.formik.errors.profile_url}),Object(h.jsx)("br",{})]}),Object(h.jsxs)(Jn.a,{children:[Object(h.jsx)(k.a,{autoFocus:!0,className:t.cancelButton,onClick:e.handleClose,children:"CANCEL"}),Object(h.jsx)(k.a,{autoFocus:!0,className:t.addButton,type:"submit",color:"primary",disabled:e.userAlert.loading,startIcon:e.userAlert.loading?Object(h.jsx)(w.a,{className:t.loader,size:30}):null,children:Object(h.jsx)(v.a,{className:t.buttonText,children:e.buttonTitle})})]})]})}var ps=ss.b({email:ss.c("Enter your email").email("Enter a valid email"),name:ss.c("Enter your name").required("User name is required"),user_id:ss.c("Enter your user ID").required("User ID is required").min(3,"Must be min 3 characters").max(64,"Must be max 64 characters"),profile_url:ss.a((function(e){return/^data/.test(e)?ss.c().matches(/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@/?%\s]*)$/i,"Must be a valid data URI"):ss.c().url("Enter a valid URL")}))});function xs(e){var t=e.pubnubObject,a=e.isAdded,s=Object(n.useState)(!1),r=Object(f.a)(s,2),c=r[0],o=r[1],l=Object(n.useState)({success:{status:!1,msg:""},error:{status:!1,msg:""},loading:!1}),u=Object(f.a)(l,2),d=u[0],b=u[1],j=ts(),m=Object(as.a)({initialValues:{email:"",name:"",user_id:"",profile_url:""},validationSchema:ps,enableReinitialize:!0,onSubmit:function(e){O(e)}}),g=function(){o(!1),m.resetForm()},O=function(e){b(Object(i.a)(Object(i.a)({},d),{},{success:{status:!1,msg:""},error:{status:!1,msg:""},loading:!0})),Object(x.a)(p.a.mark((function n(){var s,r;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Be(t,e.user_id);case 3:if(!(s=n.sent)||!s.length){n.next=8;break}b(Object(i.a)(Object(i.a)({},d),{},{success:{status:!1,msg:""},error:{status:!0,msg:"User ID already exists!"},loading:!1})),n.next=21;break;case 8:return n.prev=8,n.next=11,Z(t,e.name,e.email,e.user_id,e.profile_url);case 11:r=n.sent,g(),b(Object(i.a)(Object(i.a)({},d),{},{success:{status:!0,msg:"User added successfully"},error:{status:!1,msg:""},loading:!1})),a(r),n.next=21;break;case 17:n.prev=17,n.t0=n.catch(8),g(),b(Object(i.a)(Object(i.a)({},d),{},{success:{status:!1,msg:""},error:{status:!0,msg:Dt(n.t0.status.errorData)},loading:!1}));case 21:n.next=26;break;case 23:n.prev=23,n.t1=n.catch(0),b(Object(i.a)(Object(i.a)({},d),{},{success:{status:!1,msg:""},error:{status:!0,msg:n.t1.message},loading:!1}));case 26:case"end":return n.stop()}}),n,null,[[0,23],[8,17]])})))()};return Object(h.jsxs)("div",{children:[Object(h.jsx)(k.a,{testid:"button_id",className:j.joinChannelButton,startIcon:Object(h.jsx)("img",{src:"images/plus.svg",alt:"add"}),onClick:function(){o(!0)},children:Object(h.jsx)(v.a,{testid:"add_user",className:j.buttonText,children:"Add user"})}),Object(h.jsxs)(Yn.a,{fullWidth:!0,onClose:g,"aria-labelledby":"customized-dialog-title",open:c,className:j.modalLayout,children:[Object(h.jsxs)(Xn.a,{id:"customized-dialog-title",onClose:g,disableTypography:!0,children:[Object(h.jsx)(v.a,{variant:"h6",className:j.headingFont,children:"Add User"}),c?Object(h.jsx)(ot.a,{"aria-label":"close",onClick:g,className:j.closeButton,children:Object(h.jsx)(es.a,{})}):null]}),Object(h.jsx)(gs,{formik:m,userAlert:d,handleClose:g,buttonTitle:"ADD",disabled:!1})]}),d.error.status&&Object(h.jsx)(Da,{msg:d.error.msg,status:"info"}),d.success.status&&Object(h.jsx)(Da,{msg:d.success.msg,status:"success"})]})}function fs(e){var t=e.pubnubObject,a=e.open,s=e.setOpen,r=e.data,c=e.isUpdated,o=Object(n.useState)(""),l=Object(f.a)(o,2),u=l[0],d=l[1],b=Object(n.useState)(null),j=Object(f.a)(b,2),m=j[0],g=j[1],O=Object(n.useState)(""),y=Object(f.a)(O,2),k=y[0],w=y[1],C=Object(n.useState)(null),F=Object(f.a)(C,2),S=F[0],N=F[1],T=Object(n.useState)({success:{status:!1,msg:""},error:{status:!1,msg:""},loading:!1}),M=Object(f.a)(T,2),R=M[0],I=M[1],A=ts();Object(n.useEffect)((function(){d(r.name),g(r.email),w(r.id),N(r.profileUrl)}),[r]);var D=function(){s(!1)},P=Object(as.a)({initialValues:{email:m||"",name:u,user_id:k,profile_url:S||""},enableReinitialize:!0,validationSchema:ps,onSubmit:function(e){L(e)}}),L=function(e){I(Object(i.a)(Object(i.a)({},R),{},{success:{status:!1,msg:""},error:{status:!1,msg:""},loading:!0})),Object(x.a)(p.a.mark((function a(){var n;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,se(t,e.name,e.email,e.user_id,e.profile_url);case 3:n=a.sent,D(),I(Object(i.a)(Object(i.a)({},R),{},{success:{status:!0,msg:"User updated successfully"},error:{status:!1,msg:""},loading:!1})),c(n),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),D(),I(Object(i.a)(Object(i.a)({},R),{},{success:{status:!1,msg:""},error:{status:!0,msg:Dt(a.t0.status.errorData)},loading:!1}));case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()};return Object(h.jsxs)("div",{children:[Object(h.jsxs)(Yn.a,{fullWidth:!0,onClose:D,"aria-labelledby":"customized-dialog-title",open:a,className:A.modalLayout,children:[Object(h.jsxs)(Xn.a,{id:"customized-dialog-title",onClose:D,disableTypography:!0,children:[Object(h.jsx)(v.a,{variant:"h6",className:A.headingFont,children:"Update User Metadata"}),a?Object(h.jsx)(ot.a,{"aria-label":"close",onClick:D,className:A.closeButton,children:Object(h.jsx)(es.a,{})}):null]}),Object(h.jsx)(gs,{formik:P,userAlert:R,handleClose:D,buttonTitle:"UPDATE",disabled:!0})]}),R.error.status&&Object(h.jsx)(Da,{msg:R.error.msg,status:"info"}),R.success.status&&Object(h.jsx)(Da,{msg:R.success.msg,status:"success"})]})}var Os=ss.b({reason:ss.c().required("Reason is required")});function vs(e){var t=e.pubnub,a=e.open,s=e.setOpen,r=e.uuid,c=e.isUpdated,o=e.action,l=Object(n.useState)(""),u=Object(f.a)(l,2),d=u[0],b=u[1],j=Object(n.useState)({success:{status:!1,msg:""},error:{status:!1,msg:""},loading:!1}),m=Object(f.a)(j,2),g=m[0],O=m[1],C=ts(),F=Ft(),S=new Date,N=r.custom||{};Object(n.useEffect)((function(){b(r.id)}),[r]);var T=function(){M.resetForm(),s(!1)},M=Object(as.a)({initialValues:{reason:""},enableReinitialize:!0,validationSchema:Os,onSubmit:function(e){R(e)}}),R=function(e){O(Object(i.a)(Object(i.a)({},g),{},{success:{status:!1,msg:""},error:{status:!1,msg:""},loading:!0})),N.reason=e.reason,N.flaggedBy=F&&F.email,N.flaggedAt=S,N.flag="flag"===o,Object(x.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ve(t,d,N);case 3:a=e.sent,T(),O(Object(i.a)(Object(i.a)({},g),{},{success:{status:!0,msg:"User ".concat(Wt(o),"ged successfully.")},error:{status:!1,msg:""},loading:!1})),c(a),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),T(),O(Object(i.a)(Object(i.a)({},g),{},{success:{status:!1,msg:""},error:{status:!0,msg:Dt(e.t0.status.errorData)},loading:!1}));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(Yn.a,{fullWidth:!0,onClose:T,"aria-labelledby":"customized-dialog-title",open:a,className:C.modalLayout,children:[Object(h.jsxs)(Xn.a,{id:"customized-dialog-title",onClose:T,disableTypography:!0,children:[Object(h.jsxs)(v.a,{variant:"h6",className:C.headingFont,children:[Wt(o)," User"]}),Object(h.jsx)(ot.a,{"aria-label":"close",onClick:T,className:C.closeButton,children:Object(h.jsx)(es.a,{})})]}),Object(h.jsxs)("form",{onSubmit:M.handleSubmit,children:[Object(h.jsxs)(Gn.a,{children:[Object(h.jsx)(v.a,{testid:"reason",className:C.subHeadingFont,children:"Reason"}),Object(h.jsx)(y.a,{id:"reason",name:"reason",placeholder:"Add Reason",variant:"outlined",className:C.inputBox,autoComplete:"off",onChange:M.handleChange,value:M.values.reason,error:M.touched.reason&&Boolean(M.errors.reason),helperText:M.touched.reason&&M.errors.reason}),Object(h.jsx)("br",{})]}),Object(h.jsxs)(Jn.a,{children:[Object(h.jsx)(k.a,{id:"cancel",autoFocus:!0,className:C.cancelButton,onClick:T,children:"CANCEL"}),Object(h.jsx)(k.a,{id:"submit",autoFocus:!0,className:C.addButton,type:"submit",color:"primary",disabled:g.loading,startIcon:g.loading?Object(h.jsx)(w.a,{className:C.loader,size:30}):null,children:Object(h.jsx)(v.a,{className:C.buttonText,children:"Submit"})})]})]})]}),g.error.status&&Object(h.jsx)(Da,{msg:g.error.msg,status:"info"}),g.success.status&&Object(h.jsx)(Da,{msg:g.success.msg,status:"success"})]})}function ys(e){var t=e.pubnubObject,a=e.open,s=e.setOpen,r=e.uuid,c=e.action,o=Object(n.useState)(""),l=Object(f.a)(o,2),u=l[0],d=l[1],b=Object(n.useState)({success:{status:!1,msg:""},error:{status:!1,msg:""}}),j=Object(f.a)(b,2),m=j[0],g=j[1],O=$n(),y=r.custom||{};Object(n.useEffect)((function(){d(r.id)}),[r]);var w=function(){s(!1)};y.ban="ban"===c,delete y.flag,delete y.flaggedBy,delete y.flaggedAt,delete y.reason;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(Yn.a,{testid:"DialogId",open:a,onClose:function(){return s(!1)},"aria-labelledby":"confirm-dialog",fullWidth:!0,maxWidth:"xs",className:O.confirmDialog,children:[Object(h.jsx)(Xn.a,{id:"confirm-dialog",children:e.title}),Object(h.jsx)(Gn.a,{children:e.children}),Object(h.jsxs)(Jn.a,{children:[Object(h.jsx)(k.a,{onClick:function(){s(!1),g(Object(i.a)(Object(i.a)({},m),{},{success:{status:!1,msg:""},error:{status:!1,msg:""}})),Object(x.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ve(t,u,y);case 3:w(),g(Object(i.a)(Object(i.a)({},m),{},{success:{status:!0,msg:"User ".concat(Wt(c),"ned successfully")},error:{status:!1,msg:""}})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),w(),g(Object(i.a)(Object(i.a)({},m),{},{success:{status:!1,msg:""},error:{status:!0,msg:Dt(e.t0.status.errorData)}}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},className:O.confirmButton,children:Object(h.jsx)(v.a,{children:" Yes"})}),Object(h.jsx)(k.a,{variant:"contained",onClick:function(){return e.setOpen(!1)},className:O.cancelButton,children:"Cancel"})]})]}),m.error.status&&Object(h.jsx)(Da,{msg:m.error.msg,status:"info"}),m.success.status&&Object(h.jsx)(Da,{msg:m.success.msg,status:"success"})]})}function ks(e){var t=e.searchResult,a=e.setSearchableData,s=e.deleteUser,r=e.data,c=e.pubnub,i=e.filterBy,o=Object(n.useState)([]),l=Object(f.a)(o,2),u=l[0],d=l[1],b=Object(n.useState)(""),j=Object(f.a)(b,2),m=j[0],g=j[1],v=Object(n.useState)(!1),y=Object(f.a)(v,2),k=y[0],C=y[1],F=Object(n.useState)(!1),S=Object(f.a)(F,2),N=S[0],T=S[1],M=Object(n.useState)(!1),R=Object(f.a)(M,2),I=R[0],A=R[1],D=Object(n.useState)([]),P=Object(f.a)(D,2),L=P[0],E=P[1],B=Object(n.useState)([]),U=Object(f.a)(B,2),W=U[0],_=U[1],z=Object(n.useState)(""),K=Object(f.a)(z,2),H=K[0],V=K[1],Y=Object(n.useState)(0),G=Object(f.a)(Y,2),X=G[0],$=G[1],Z=Object(n.useState)(""),Q=Object(f.a)(Z,2),ee=Q[0],te=Q[1],ae=Object(n.useState)(""),ne=Object(f.a)(ae,2),se=ne[0],re=ne[1],ce=Object(n.useState)(0),ie=Object(f.a)(ce,2),oe=ie[0],le=ie[1],ue=Object(n.useState)(!1),de=Object(f.a)(ue,2),be=de[0],je=de[1],he=Object(n.useState)(""),me=Object(f.a)(he,2),ge=me[0],pe=me[1],xe=Object(n.useState)(!1),fe=Object(f.a)(xe,2),Oe=fe[0],ve=fe[1];Object(n.useEffect)((function(){le(0),ye(c,"","",i)}),[r,W,i]),Object(n.useEffect)((function(){t.length&&d(t)}),[t]),Object(n.useEffect)((function(){a(u)}),[u]);var ye=function(e,t,a,n){d([]),C(!0),Object(x.a)(p.a.mark((function s(){var r,c,i;return p.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,J(e,t,a,n);case 3:(r=s.sent).data.length||(C(!1),g("No User Metadata Found")),$(r.totalCount),re(r.prev),te(r.next),c=[],i={},r.data.map((function(e,t){return(i=e).updated=It(e.updated),i.uuid=e.id,c.push(i),!1})),d(c),q("PubNubUsers",c),C(!1),s.next=21;break;case 16:s.prev=16,s.t0=s.catch(0),C(!1),g("No User Metadata Found"),q("PubNubUsers",[]);case 21:case"end":return s.stop()}}),s,null,[[0,16]])})))()},ke=function(e){_(e)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Fa,{data:u,headCells:[{id:"name",alignment:"left",label:"USER NAME",avatar:!0,user:!0},{id:"email",alignment:"left",label:"EMAIL ID"},{id:"updated",alignment:"left",label:"UPDATED ON"},{id:"icons",alignment:"left",icons:!0,user:!0}],handleRowClick:function(){},message:m,editRow:function(e,t){A(!0),E(t)},deleteRow:function(e,t){T(!0),V(t)},flagUser:function(e,t){je(!0),pe("flag"),V(t)},banUser:function(e,t){ve(!0),pe("ban"),V(t)},unbanUser:function(e,t){ve(!0),pe("unban"),V(t)},unFlagUser:function(e,t){je(!0),pe("unflag"),V(t)},getNewPage:function(e){oe<e?(le(e),ye(c,ee,"","")):(le(oe-1),ye(c,"",se,""))},tableCount:X,number:oe}),k?Object(h.jsx)(O.a,{justify:"center",container:!0,children:Object(h.jsx)(w.a,{})}):null,Object(h.jsx)(Zn,{title:"Are you sure?",open:N,setOpen:T,onConfirm:function(){s(H)},actionMessage:"Yes, Delete it",children:"You want to delete this user?"}),Object(h.jsx)(fs,{open:I,setOpen:A,pubnubObject:c,data:L,isUpdated:ke}),Object(h.jsxs)(ys,{title:"Are you sure?",open:Oe,setOpen:ve,pubnubObject:c,uuid:H,isUpdated:ke,action:ge,children:["You want to ",ge," this user?"]}),Object(h.jsxs)(vs,{open:be,setOpen:je,uuid:H,isUpdated:ke,pubnub:c,action:ge,children:["You want to ",ge," this user?"]})]})}var ws=Object(M.a)({list:{width:400},title:{font:"normal normal medium 28px/38px Proxima Nova",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"left",color:"#414141",opacity:1},avatar:{background:"#FFFFFF 0% 0% no-repeat padding-box",border:"1px solid #6387ED67",borderRadius:"5px",opacity:1,height:"50px"},listText:{font:"var(--unnamed-font-style-normal) normal medium var(--unnamed-font-size-16)/var(--unnamed-line-spacing-24) var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"left",color:"#414141",opacity:1},userType:{font:"var(--unnamed-font-style-normal) normal 600 var(--unnamed-font-size-16)/var(--unnamed-line-spacing-24) var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"left",color:"#6387ED",opacity:1}}),Cs=a(487);function Fs(e){var t=ws(),a=s.a.useState(!1),n=Object(f.a)(a,2),r=n[0],c=n[1],i=s.a.useState(!1),o=Object(f.a)(i,2),l=o[0],u=o[1],d=s.a.useState(!1),b=Object(f.a)(d,2),j=b[0],m=b[1],g=function(){c(!1)},p=function(t){t.target.checked&&"ban"===t.target.value?(m(!1),u(!0),e.isFiltered(t.target.value)):t.target.checked&&"flag"===t.target.value?(u(!1),m(!0),e.isFiltered(t.target.value)):(e.isFiltered("all"),u(!1),m(!1))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(lt.a,{id:"openDrawer",variant:"square",onClick:function(){c(!0)},className:t.avatar,children:Object(h.jsx)(ot.a,{children:Object(h.jsx)("img",{src:"images/filter.svg",alt:"filter"})})}),Object(h.jsx)(Cs.a,{anchor:"right",open:r,onClose:g,children:Object(h.jsxs)("div",{className:t.list,children:[Object(h.jsx)(mt.a,{pl:3,pt:4,pr:1,children:Object(h.jsxs)(O.a,{justify:"space-between",container:!0,children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(v.a,{className:t.title,children:"Filters"})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(k.a,{id:"drawer",onClick:g,children:Object(h.jsx)("img",{src:"images/times.svg",alt:"filter"})})})]})}),Object(h.jsx)(mt.a,{pl:3,pt:4,children:Object(h.jsx)(v.a,{testid:"UserType",className:t.userType,children:"User Type"})}),Object(h.jsxs)(Ea.a,{children:[Object(h.jsxs)(Ba.a,{children:[Object(h.jsx)(qa.a,{children:Object(h.jsx)(en.a,{id:"banCheck",onChange:p,name:"banned_users",value:"ban",color:"primary",checked:l})}),Object(h.jsx)(Ua.a,{children:Object(h.jsx)(v.a,{testid:"bannedUsers",className:t.listText,children:"Banned Users"})})]}),Object(h.jsxs)(Ba.a,{children:[Object(h.jsx)(qa.a,{children:Object(h.jsx)(en.a,{id:"flagCheck",onChange:p,name:"flagged_users",value:"flag",color:"primary",checked:j})}),Object(h.jsx)(Ua.a,{children:Object(h.jsx)(v.a,{testid:"flaggedUsers",className:t.listText,children:"Flagged Users"})})]})]})]})})]})}var Ss=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)([]),c=Object(f.a)(r,2),o=c[0],l=c[1],u=us().pubnub,d=Object(n.useState)(""),b=Object(f.a)(d,1)[0],j=Object(n.useState)(""),m=Object(f.a)(j,2),g=m[0],y=m[1],k=Object(n.useState)({success:{status:!1,msg:""},error:{status:!1,msg:""}}),w=Object(f.a)(k,2),C=w[0],F=w[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(ia.a,{title:"Users"}),Object(h.jsxs)(O.a,{justify:"space-between",container:!0,children:[Object(h.jsx)(O.a,{item:!0,sm:4,children:Object(h.jsx)(mt.a,{pl:1,children:Object(h.jsx)(v.a,{testid:"title",variant:"h5",children:"Users"})})}),Object(h.jsx)(O.a,{item:!0,sm:8,children:Object(h.jsxs)(mt.a,{display:"flex",justifyContent:"flex-end",children:[Object(h.jsx)(mt.a,{ml:2,children:Object(h.jsx)(Ia,{searched:b,requestSearch:function(e){F(Object(i.a)(Object(i.a)({},C),{},{success:{status:!1,msg:""},error:{status:!1,msg:""}})),Object(x.a)(p.a.mark((function t(){var a,n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return F(Object(i.a)(Object(i.a)({},C),{},{success:{status:!1,msg:""},error:{status:!1,msg:""}})),t.prev=1,t.next=4,ye(u,e);case 4:a=t.sent,n=[],r={},a.length||F(Object(i.a)(Object(i.a)({},C),{},{success:{status:!1,msg:""},error:{status:!0,msg:"No users found"}})),a.map((function(e,t){return(r=e).updated=It(e.updated),n.push(r),!1})),s(n),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),F(Object(i.a)(Object(i.a)({},C),{},{success:{status:!1,msg:""},error:{status:!0,msg:"Failed to filter user"}}));case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))()},cancelSearch:function(){s(!!localStorage.getItem("PubNubUsers")&&JSON.parse(localStorage.getItem("PubNubUsers")))},placeholder:"Search for user name"})}),Object(h.jsx)(mt.a,{ml:2,children:Object(h.jsx)(Fs,{isFiltered:function(e){var t="";"all"!==e&&(t="custom.".concat(e," == true")),y(t)}})}),Object(h.jsx)(mt.a,{ml:2,children:Object(h.jsx)(xs,{pubnubObject:u,isAdded:function(e){l(e)}})})]})})]}),Object(h.jsx)("br",{}),Object(h.jsx)(O.a,{container:!0,spacing:6,children:Object(h.jsx)(O.a,{item:!0,xs:12,children:Object(h.jsx)(ks,{searchResult:a,setSearchableData:function(e){s(e)},deleteUser:function(e){e&&Object(x.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ae(u,e);case 3:l([]),F(Object(i.a)(Object(i.a)({},C),{},{success:{status:!0,msg:"User deleted successfully"},error:{status:!1,msg:""}})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),F(Object(i.a)(Object(i.a)({},C),{},{success:{status:!1,msg:""},error:{status:!0,msg:Dt(t.t0.status.errorData)}}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},data:o,pubnub:u,filterBy:g})})}),C.error.status&&Object(h.jsx)(Da,{msg:C.error.msg,status:"info"}),C.success.status&&Object(h.jsx)(Da,{msg:C.success.msg,status:"success"})]})},Ns=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(Za,{children:Object(h.jsx)(Ss,{})})})},Ts=a(27),Ms=Object(M.a)((function(e){return{root:{flexGrow:1},header:{opacity:1,background:"#F7F8FA 0% 0% no-repeat padding-box",height:"50px"},messages:{padding:e.spacing(2),opacity:1,border:"1px solid #F3F3F3",background:"#FFFFFF 0% 0% no-repeat padding-box",boxShadow:"0px 3px 6px #00000014",height:"57vh",overflow:"auto"},chat:{background:"#FFFFFF 0% 0% no-repeat padding-box",borderRadius:"0px 10px 10px 10px",opacity:1,height:"auto",width:"auto",border:"1px solid #DDDDDD",marginBottom:"5px",marginLeft:"8%",maxWidth:"40%"},values:{color:"#414141",textAlign:"left",opacity:1,font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) var(--unnamed-font-size-18)/var(--unnamed-line-spacing-23) var(--unnamed-font-family-proxima-nova)"},avatar:{background:"#EACAFF",color:"#BD59FF",borderRadius:"8px"},appName:{font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) var(--unnamed-font-size-16)/var(--unnamed-line-spacing-19) var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"left",fontSize:"12px",color:"#C2C2C2",opacity:1},timeField:{font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) 11px/13px var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"left",color:"#C2C2C2",opacity:1,marginBottom:"10px",marginLeft:"8%"},channelMember:{background:"#FFFFFF 0% 0% no-repeat padding-box",borderRadius:"10px",opacity:1,height:"48px",width:"100%",marginBottom:"20px"},user:{font:"var(--unnamed-font-style-normal) normal 600 var(--unnamed-font-size-14)/var(--unnamed-line-spacing-17) var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"left",color:"#4B5155",opacity:1,marginBottom:"10px",marginLeft:"3%"},chatText:{font:"var(--unnamed-font-style-normal) normal medium var(--unnamed-font-size-16)/var(--unnamed-line-spacing-19) var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"left",color:"#414141",marginBottom:"10px",marginTop:"10px",marginLeft:"20px",marginRight:"20px",wordBreak:"break-word",whiteSpace:"pre-wrap"},members:{font:"var(--unnamed-font-style-normal) normal 600 var(--unnamed-font-size-14)/var(--unnamed-line-spacing-17) var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"left",color:"#4B5155",opacity:1,margin:"10px 0px 10px 10px"},channelMembers:{padding:e.spacing(2),opacity:1,border:"1px solid #F3F3F3",background:"#FFFFFF 0% 0% no-repeat padding-box",boxShadow:"0px 3px 6px #00000014",maxHeight:"74vh",overflow:"auto"},totalCount:{font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) var(--unnamed-font-size-12)/var(--unnamed-line-spacing-15) var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"left",color:"#414141",opacity:1,marginBottom:"10px"},userProfile:{borderRadius:"8px"},totalUsers:{background:"#C2C2C2 0% 0% no-repeat padding-box",borderRadius:"5px",opacity:1,font:"var(--unnamed-font-style-normal) normal 600 11px/13px var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"left",color:"#FFFFFF",height:"auto",width:"25px"},onlineUsers:{background:"#76C00D 0% 0% no-repeat padding-box",borderRadius:"5px",opacity:1,font:"var(--unnamed-font-style-normal) normal 600 11px/13px var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"left",color:"#FFFFFF",height:"auto",width:"25px"},alertMessage:{background:"transparent"},messagesCount:{background:"#E5EAF9 0% 0% no-repeat padding-box",borderRadius:"0px 0px 5px 5px",opacity:1,textTransform:"none"},messagesCountFont:{font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) var(--unnamed-font-size-12)/16px var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"center",color:"#6387ED",opacity:1,textTransform:"camelcase"},deletedChat:{font:"var(--unnamed-font-style-normal) normal medium var(--unnamed-font-size-16)/var(--unnamed-line-spacing-19) var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"left",color:"#414141",marginBottom:"10px",marginTop:"10px",marginLeft:"20px",marginRight:"20px",textDecoration:"line-through"},messageContainer:{"& button":{display:"none"},"&:hover":{"& button":{display:"inline-block"}}},activeToggled:{background:"#6387ED 0% 0% no-repeat padding-box",borderRadius:"5px",opacity:1,font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) var(--unnamed-font-size-12)/16px Graphik",letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"center",color:"#FFFFFF",textTransform:"none","&:hover":{backgroundColor:"#6387ED"}},disableToggled:{background:"#E5EAF9 0% 0% no-repeat padding-box",borderRadius:"5px",opacity:1,letterSpacing:"var(--unnamed-character-spacing-0)",textAlign:"center",font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) var(--unnamed-font-size-12)/16px Graphik",color:"#6387ED",textTransform:"none","&:hover":{backgroundColor:"#E5EAF9"}},messageBox:{background:"#F7F8FA 0% 0% no-repeat padding-box",border:"1px solid #DBE5ED",borderRadius:"8px 8px 0px 0px",opacity:1,height:"auto",borderRight:"#6387ED"},editMessageHeader:{font:"var(--unnamed-font-style-normal) normal 600 var(--unnamed-font-size-16)/var(--unnamed-line-spacing-19) var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",color:"#414141",opacity:1,marginTop:"10px",marginLeft:"20px"},editMessageFont:{font:"var(--unnamed-font-style-normal) normal 600 var(--unnamed-font-size-16)/var(--unnamed-line-spacing-19) var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",color:"#414141",opacity:1,marginTop:"10px",marginLeft:"20px",marginBottom:"10px",wordBreak:"break-word",whiteSpace:"pre-wrap"},image:{maxWidth:"240px",maxHeight:"165px",width:"100%",height:"100%",objectFit:"cover",border:"1px solid #DDDDDD",borderRadius:"0px 10px 10px 10px"},imageIcon:{position:"absolute",top:"10px",right:"10px"},imageContainer:{padding:"0px",cursor:"default"}}})),Rs=a(474),Is=Object(pa.a)((function(e){return{badge:{backgroundColor:"#76C00D",color:"#76C00D",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",border:"1px solid currentColor",content:'""'}}}}))(Rs.a),As=Object(pa.a)((function(e){return{badge:{backgroundColor:"#C2C2C2",color:"#C2C2C2",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",border:"1px solid currentColor",content:'""'}}}}))(Rs.a),Ds=function(e){var t=$n(),a=Object(n.useState)({success:{status:!1,msg:""},error:{status:!1,msg:""}}),s=Object(f.a)(a,2),r=s[0],c=s[1],o=Kt(),l=e.user.custom||{},u=e.user.custom&&e.user.custom.mutedChannels,d=e.user.custom&&e.user.custom.blockedChannels,b=function(){if(c(Object(i.a)(Object(i.a)({},r),{},{success:{status:!1,msg:""},error:{status:!1,msg:""}})),"mute"===e.action||"unmute"===e.action){var t=function(){if(u){var t=u.split(",");"mute"===e.action?t.push(o):t=t.filter((function(e){return e!==o})),u=t.join(",")}else u=o;return u}();l.mutedChannels=t}if("block"===e.action||"unblock"===e.action){var a=function(){if(d){var t=d.split(",");"block"===e.action?t.push(o):t=t.filter((function(e){return e!==o})),d=t.join(",")}else d=o;return d}();l.blockedChannels=a}Object(x.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ve(e.pubnub,e.user.id,l);case 3:a=t.sent,e.updated(a,e.action),c(Object(i.a)(Object(i.a)({},r),{},{success:{status:!0,msg:"Successfully updated"},error:{status:!1,msg:""}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),c(Object(i.a)(Object(i.a)({},r),{},{success:{status:!1,msg:""},error:{status:!0,msg:"Failed to add metadata"}}));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(Yn.a,{testid:"DialogId",open:e.open,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"confirm-dialog",fullWidth:!0,maxWidth:"xs",className:t.confirmDialog,children:[Object(h.jsx)(Xn.a,{id:"confirm-dialog",children:e.title}),Object(h.jsx)(Gn.a,{children:e.children}),Object(h.jsxs)(Jn.a,{children:[Object(h.jsx)(k.a,{onClick:function(){e.setOpen(!1),b()},className:t.confirmButton,children:Object(h.jsxs)(v.a,{children:["Yes, ",Wt(e.action)," them"]})}),Object(h.jsx)(k.a,{variant:"contained",onClick:function(){return e.setOpen(!1)},className:t.cancelButton,children:"Cancel"})]})]}),r.error.status&&Object(h.jsx)(Da,{msg:r.error.msg,status:"info"}),r.success.status&&Object(h.jsx)(Da,{msg:r.success.msg,status:"success"})]})},Ps=a(223);function Ls(e){return Object(h.jsxs)(h.Fragment,{children:[e.membersLength>99&&e.membersLength<e.totalCount?Object(h.jsx)(Ps.a,{onEnter:e.fetchChannelsMembersOnScroll}):null,e.loading?Object(h.jsx)(O.a,{justify:"center",container:!0,children:Object(h.jsx)(w.a,{})}):null]})}function Es(e){var t=Ms(),a=Object(n.useState)([]),s=Object(f.a)(a,2),r=s[0],c=s[1],i=Object(n.useState)(0),o=Object(f.a)(i,2),l=o[0],u=o[1],d=Object(n.useState)(!1),b=Object(f.a)(d,2),j=b[0],m=b[1],g=Object(n.useState)(!1),y=Object(f.a)(g,2),k=y[0],w=y[1],C=Object(n.useState)([]),F=Object(f.a)(C,2),S=F[0],N=F[1],T=Object(n.useState)(""),M=Object(f.a)(T,2),R=M[0],I=M[1],A=Object(n.useState)(""),D=Object(f.a)(A,2),P=D[0],L=D[1],E=Object(n.useState)(!1),B=Object(f.a)(E,2),q=B[0],U=B[1];Object(n.useEffect)((function(){W()}),[e.channelMembers]),Object(n.useEffect)((function(){L(e.page)}),[e.page]);var W=function(){Object(x.a)(p.a.mark((function t(){var a,n,s,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ne(e.pubnub,e.channelName);case 3:a=t.sent,u(a.length),e.channelMembers.map((function(t,n){return e.channelMembers[n].mute=!1,e.channelMembers[n].block=!1,Gt(t,e.channelName)&&(e.channelMembers[n].mute=!0),Xt(t,e.channelName)&&(e.channelMembers[n].block=!0),a.map((function(a,s){return t.uuid.id===a.uuid&&(e.channelMembers[n].status="online"),!1})),!1})),n=[],a.map((function(t,a){var s={uuid:{name:null,profileUrl:null,id:null},status:"online",actionsDisable:!0,toolTipTitle:"User not a member of channel"};return e.channelMembers.filter((function(e){return e.uuid.id===t.uuid})).length||(s.uuid.id=t.uuid,n.push(s)),!1})),s=Object(Ts.a)(new Set(n)),r=[].concat(Object(Ts.a)(s),Object(Ts.a)(e.channelMembers)),c(r),t.next=15;break;case 13:t.prev=13,t.t0=t.catch(0);case 15:case"end":return t.stop()}}),t,null,[[0,13]])})))()};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(O.a,{children:[Object(h.jsx)(v.a,{className:t.members,children:"Members"}),Object(h.jsxs)(O.a,{container:!0,children:[Object(h.jsx)(O.a,{children:Object(h.jsx)(mt.a,{mr:1,ml:1,mb:2,children:Object(h.jsx)(lt.a,{variant:"square",className:t.onlineUsers,children:l})})}),Object(h.jsx)(mt.a,{children:Object(h.jsx)("small",{className:t.totalCount,children:"Online Users"})}),Object(h.jsx)(O.a,{children:Object(h.jsx)(mt.a,{mr:1,mb:2,ml:1,children:Object(h.jsx)(lt.a,{variant:"square",className:t.totalUsers,children:r.length})})}),Object(h.jsx)(mt.a,{children:Object(h.jsx)("small",{className:t.totalCount,children:"Total Users"})})]}),null===r||void 0===r?void 0:r.map((function(a,n){return Object(h.jsxs)(O.a,{justify:"flex-start",container:!0,className:t.channelMember,onClick:function(){return t=a,void(k||e.selectedMemberDetail(t));var t},children:[Object(h.jsx)(mt.a,{mr:1,children:a.status?Object(h.jsx)(Is,{variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(h.jsx)(lt.a,{variant:"square",className:t.userProfile,src:_t(a.uuid.profileUrl)})}):Object(h.jsx)(As,{variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(h.jsx)(lt.a,{variant:"square",className:t.userProfile,src:_t(a.uuid.profileUrl)})})}),Object(h.jsxs)(O.a,{item:!0,sm:6,xs:12,md:6,children:[Object(h.jsx)("small",{className:t.values,children:a.uuid.name?Wt(a.uuid.name):a.uuid.id.substring(0,12)+".."||!1}),Object(h.jsx)("br",{}),Object(h.jsx)("small",{className:t.appName,children:a.status?a.status:"offline"})]}),Object(h.jsxs)(mt.a,{ml:1,children:[a.mute?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(xa,{title:"Unmute",children:Object(h.jsx)("span",{children:Object(h.jsx)(ot.a,{edge:"start",onClick:function(e){return t=a.uuid,I("unmute"),m(!0),void N(t);var t},onMouseOver:function(){return w(!0)},onMouseOut:function(){return w(!1)},disabled:a.actionsDisable,children:Object(h.jsx)("img",{src:"/images/mute.svg",alt:"unmute"})})})})}):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(xa,{title:a.toolTipTitle||"Mute",children:Object(h.jsx)("span",{children:Object(h.jsx)(ot.a,{edge:"start",onClick:function(e){return t=a.uuid,I("mute"),m(!0),void N(t);var t},onMouseOver:function(){return w(!0)},onMouseOut:function(){return w(!1)},disabled:a.actionsDisable,children:Object(h.jsx)("img",{src:"/images/unmute.svg",alt:"mute",style:{width:"20px",height:"16px"}})})})})}),a.block?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(xa,{title:"Unblock",children:Object(h.jsx)("span",{children:Object(h.jsx)(ot.a,{edge:"start",onClick:function(e){return t=a.uuid,I("unblock"),m(!0),void N(t);var t},onMouseOver:function(){return w(!0)},onMouseOut:function(){return w(!1)},disabled:a.actionsDisable,children:Object(h.jsx)("img",{src:"/images/block.svg",alt:"unblock"})})})})}):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(xa,{title:a.toolTipTitle||"Block",children:Object(h.jsx)("span",{children:Object(h.jsx)(ot.a,{edge:"start",onClick:function(e){return t=a.uuid,I("block"),m(!0),void N(t);var t},onMouseOver:function(){return w(!0)},onMouseOut:function(){return w(!1)},disabled:a.actionsDisable,children:Object(h.jsx)("img",{src:"/images/unblock.svg",alt:"block"})})})})})]})]},n)}))]}),Object(h.jsxs)(Ds,{open:j,user:S,title:"Are you sure?",setOpen:m,pubnub:e.pubnub,action:R,updated:function(e,t){var a=r.filter((function(t){return t.uuid.id!==e.id})),n=r.filter((function(t){return t.uuid.id.includes(e.id)}));switch(t){case"mute":n[0].mute=!0;break;case"unmute":n[0].mute=!1;break;case"block":n[0].block=!0;break;case"unblock":n[0].block=!1}var s=r.findIndex((function(t){return t.uuid.id.includes(e.id)}));a.splice(s,0,n[0]),c(a)},children:["You want to ",R," this user?"]}),Object(h.jsx)(Ls,{loading:q,membersLength:r.length,fetchChannelsMembersOnScroll:function(){U(!0),Object(x.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fe(e.pubnub,e.channelName,P);case 3:a=t.sent,c((function(e){return[].concat(Object(Ts.a)(e),Object(Ts.a)(a.data))})),L(a.next),U(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),U(!1);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},totalCount:e.totalCount})]})}var Bs=Object(M.a)((function(e){return{sectionHeading:{font:"font: var(--unnamed-font-style-normal) normal 600 var(--unnamed-font-size-18)/var(--unnamed-line-spacing-23) var(--unnamed-font-family-proxima-nova)",color:"#414141",opacity:1,letterSpacing:"var(--unnamed-character-spacing-0)",fontWeight:700},profilePicture:{width:"100%"},name:{fontSize:"15px",marginTop:"15px",marginBottom:"25px",fontWeight:700,font:"font: var(--unnamed-font-style-normal) normal 600 var(--unnamed-font-size-18)/var(--unnamed-line-spacing-23) var(--unnamed-font-family-proxima-nova)",letterSpacing:"0px",color:"#414141",opacity:1},label:{color:"#C2C2C2",fontSize:"15px",font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) var(--unnamed-font-size-12)/var(--unnamed-line-spacing-15) var(--unnamed-font-family-proxima-nova)",letterSpacing:"-1px"},labelItem:{fontSize:"15px"},containerRoot:{padding:"10px"},closeIcon:{background:"transparent url(/images/closeBg.svg) 0% 0% no-repeat padding-box;",padding:"12px 12px 10px 12px",borderRadius:"5px"},blockIcon:{background:"transparent url(/images/greyBg.svg) 0% 0% no-repeat padding-box;",padding:"12px 12px 10px 12px",borderRadius:"5px"},online:{height:"10px",width:"10px",marginLeft:"2px",backgroundColor:"#76C00D",borderRadius:"50%",display:" inline-block"}}})),qs=function(e){var t=e.member,a=e.toggleMemberDetails,s=e.pubnub,r=Bs(),c=Object(n.useState)(!1),i=Object(f.a)(c,2),o=i[0],l=i[1],u=Object(n.useState)([]),d=Object(f.a)(u,2),b=d[0],j=d[1],m=Object(n.useState)(""),g=Object(f.a)(m,2),p=g[0],x=g[1],y=Object(n.useState)(!1),k=Object(f.a)(y,2),w=k[0],C=k[1],F=Object(n.useState)(!1),S=Object(f.a)(F,2),N=S[0],T=S[1];Object(n.useEffect)((function(){t.block&&T(t.block),t.mute&&C(t.mute)}),[t]);return t?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O.a,{container:!0,justify:"flex-start",children:Object(h.jsx)(O.a,{item:!0,children:Object(h.jsxs)(O.a,{container:!0,children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(ot.a,{onClick:function(){return a(!1)},children:Object(h.jsx)("img",{src:"/images/Button-Arrow.svg",alt:"toggle"})})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{pt:1,pl:1,children:Object(h.jsx)(v.a,{variant:"body2",className:r.sectionHeading,children:"More Details"})})})]})})}),Object(h.jsx)("br",{}),Object(h.jsxs)(O.a,{container:!0,justify:"center",children:[Object(h.jsx)(O.a,{sm:6,md:6,item:!0,children:Object(h.jsx)("img",{src:_t(t.uuid.profileUrl),className:r.profilePicture,alt:"profile"})}),Object(h.jsx)(O.a,{sm:12,md:12,item:!0,children:Object(h.jsxs)(v.a,{variant:"h6",align:"center",className:r.name,children:[t.uuid.name||t.uuid.id," ",t.status&&Object(h.jsx)("span",{className:r.online})]})}),Object(h.jsxs)(O.a,{container:!0,justify:"center",children:[Object(h.jsx)(O.a,{sm:4,md:4,lg:3,item:!0,children:w?Object(h.jsx)(xa,{title:"UnMute",children:Object(h.jsx)("span",{children:Object(h.jsx)(ot.a,{"aria-label":"notification",size:"small",onClick:function(e){return a=t.uuid,x("unmute"),l(!0),void j(a);var a},disabled:t.actionsDisable,children:Object(h.jsx)("div",{className:r.closeIcon,children:Object(h.jsx)("img",{src:"/images/mute.svg",alt:"unmute"})})})})}):Object(h.jsx)(xa,{title:"Mute",children:Object(h.jsx)("span",{children:Object(h.jsx)(ot.a,{"aria-label":"notification",size:"small",onClick:function(e){return a=t.uuid,x("mute"),l(!0),void j(a);var a},disabled:t.actionsDisable,children:Object(h.jsx)("div",{className:r.blockIcon,children:Object(h.jsx)("img",{src:"/images/unmute.svg",alt:"mute",style:{width:"20px",height:"16px"}})})})})})}),Object(h.jsx)(O.a,{sm:4,md:4,lg:3,item:!0,children:N?Object(h.jsx)(xa,{title:"UnBlock",children:Object(h.jsx)("span",{children:Object(h.jsx)(ot.a,{"aria-label":"close",size:"small",onClick:function(e){return a=t.uuid,x("unblock"),l(!0),void j(a);var a},disabled:t.actionsDisable,children:Object(h.jsx)("div",{className:r.closeIcon,children:Object(h.jsx)("img",{src:"/images/times-circle.svg",alt:"block"})})})})}):Object(h.jsx)(xa,{title:"Block",children:Object(h.jsx)("span",{children:Object(h.jsx)(ot.a,{"aria-label":"close",size:"small",onClick:function(e){return a=t.uuid,x("block"),l(!0),void j(a);var a},disabled:t.actionsDisable,children:Object(h.jsx)("div",{className:r.blockIcon,children:Object(h.jsx)("img",{src:"/images/unblock.svg",alt:"block"})})})})})}),Object(h.jsx)(O.a,{})]}),Object(h.jsxs)(O.a,{container:!0,justify:"flex-start",spacing:2,className:r.containerRoot,children:[Object(h.jsxs)(O.a,{item:!0,sm:12,md:12,children:[Object(h.jsx)(v.a,{testid:"nick_name",className:r.label,children:"NICK NAME"}),Object(h.jsx)(v.a,{className:r.labelItem,children:t.uuid.name})]}),Object(h.jsxs)(O.a,{item:!0,sm:12,md:12,children:[Object(h.jsx)(v.a,{testid:"created_at",className:r.label,children:"CREATED DATE"}),Object(h.jsx)(v.a,{className:r.labelItem,children:wt()(t.updated).format("MMMM DD, YYYY hh:mm a")})]}),Object(h.jsxs)(O.a,{item:!0,sm:12,md:12,children:[Object(h.jsx)(v.a,{testid:"email",className:r.label,children:"EMAIL ADDRESS"}),Object(h.jsx)(v.a,{className:r.labelItem,children:t.uuid.email})]})]})]}),Object(h.jsxs)(Ds,{open:o,user:b,title:"Are you sure?",setOpen:l,pubnub:s,action:p,updated:function(e,t){switch(t){case"mute":C(!0);break;case"unmute":C(!1);break;case"block":T(!0);break;case"unblock":T(!1)}},children:["You want to ",p," this user?"]})]}):Object(h.jsx)(h.Fragment,{})},Us=function(e){var t=e.title,a=e.children,n=e.open,s=e.setOpen,r=e.pubnub,c=e.channel,i=e.message,o=$n();return Object(h.jsxs)(Yn.a,{id:"dialog",open:n,onClose:function(){return s(!1)},"aria-labelledby":"confirm-dialog",fullWidth:!0,maxWidth:"xs",className:o.confirmDialog,children:[Object(h.jsx)(Xn.a,{id:"confirm-dialog",children:t}),Object(h.jsx)(Gn.a,{children:a}),Object(h.jsxs)(Jn.a,{children:[Object(h.jsx)(k.a,{id:"undo",onClick:function(){s(!1),Object(x.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(r,c,i.timetoken,i.actionToken);case 3:e.updated(i.timetoken,i.actionToken,"undo"),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))()},className:o.confirmButton,children:Object(h.jsx)(v.a,{children:" Yes"})}),Object(h.jsx)(k.a,{id:"close",variant:"contained",onClick:function(){return s(!1)},className:o.cancelButton,children:"Cancel"})]})]})},Ws=function(e){var t=e.pubnub,a=e.channel,s=e.message,r=Object(n.useState)(""),c=Object(f.a)(r,2),o=c[0],l=c[1],u=Object(n.useState)(!0),d=Object(f.a)(u,2),b=d[0],j=d[1],m=Object(n.useState)(!1),g=Object(f.a)(m,2),w=g[0],F=g[1],S=Object(n.useState)(""),N=Object(f.a)(S,2),T=N[0],M=N[1],R=Ms(),I=Object(n.useState)({success:{status:!1,msg:""},error:{status:!1,msg:""}}),A=Object(f.a)(I,2),D=A[0],P=A[1];Object(n.useEffect)((function(){if(s.text){var e=s.actions&&s.actions.updated&&s.actions.updated[Object.keys(s.actions.updated)[0]];e&&M(e[0].actionTimetoken),l(s.text),j(!1),F(!0)}}),[s]);return Object(h.jsxs)(h.Fragment,{children:[w?Object(h.jsx)(mt.a,{className:R.messageBox,children:Object(h.jsxs)(O.a,{justify:"space-between",container:!0,children:[Object(h.jsxs)(O.a,{item:!0,children:[Object(h.jsx)(v.a,{className:R.editMessageHeader,children:"Edit Message"}),Object(h.jsx)(v.a,{className:R.editMessageFont,children:s.text})]}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(ot.a,{id:"close",onClick:function(){F(!1),j(!0),l(""),e.updated(s.timetoken,s.actionToken,"updated","")},children:Object(h.jsx)("img",{src:"/images/close.svg",alt:"close"})})})]})}):null,e.messagesLength?Object(h.jsx)(y.a,{InputProps:{endAdornment:Object(h.jsx)(C.a,{position:"end",children:Object(h.jsx)(k.a,{onClick:function(){P(Object(i.a)(Object(i.a)({},D),{},{success:{status:!1,msg:""},error:{status:!1,msg:""}})),Object(x.a)(p.a.mark((function n(){var r;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!T){n.next=4;break}return n.next=4,_e(t,a,s.timetoken,T);case 4:return n.next=6,Ke(t,a,s.timetoken,o);case 6:r=n.sent,l(""),j(!0),F(!1),e.updated(s.timetoken,s.actionToken,"updated",r),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),P(Object(i.a)(Object(i.a)({},D),{},{success:{status:!1,msg:""},error:{status:!0,msg:"Failed to edit message"}}));case 16:case"end":return n.stop()}}),n,null,[[0,13]])})))()},children:Object(h.jsx)("img",{src:"/images/send-button.svg",alt:"edit"})})})},id:"message",name:"message",placeholder:"Enter your message here",variant:"outlined",fullWidth:!0,value:o,onChange:function(e){l(e.target.value)},autoComplete:"off",disabled:b}):null,D.error.status&&Object(h.jsx)(Da,{msg:D.error.msg,status:"info"})]})},_s=function(e){var t,a=e.message,n=e.confirmDelete,s=e.updateMessage,r=e.confirmUndo,c=e.index,i=e.toggledVal,o=Ms();return Object(h.jsxs)(h.Fragment,{children:["chat"===i&&Object(h.jsx)(O.a,{container:!0,className:o.messageContainer,children:a.actions&&("deleted"===a.actions||a.actions.deleted)?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{className:o.chat,style:{backgroundColor:c%2!==0?"#FFFFFF":"#EEF3FF"},children:Object(h.jsx)(v.a,{className:o.deletedChat,children:a.text})}),Object(h.jsx)(mt.a,{ml:2,children:Object(h.jsx)(xa,{title:"Undo",children:Object(h.jsx)(ot.a,{id:"undoIcon",edge:"start",onClick:function(e){return r(e,a)},children:Object(h.jsx)("img",{src:"/images/undo.svg",alt:"delete"})})})})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("span",{className:o.chat,style:{backgroundColor:c%2!==0?"#FFFFFF":"#EEF3FF"},children:[Object(h.jsx)(v.a,{className:o.chatText,children:a.text}),a.file&&a.file.url&&Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(lt.a,{src:a.file.url,className:o.image})})]}),Object(h.jsxs)(mt.a,{ml:2,children:[Object(h.jsx)(xa,{title:"Edit",children:Object(h.jsx)(ot.a,{id:"updateIcon",edge:"start",label:"edit",onClick:function(e){return s(e,a)},children:Object(h.jsx)("img",{src:"/images/edit-message.svg",alt:"edit"})})}),Object(h.jsx)(xa,{title:"Delete",children:Object(h.jsx)(ot.a,{id:"deleteIcon",edge:"start",label:"delete",onClick:function(e){return n(e,a)},children:Object(h.jsx)("img",{src:"/images/delete-message.svg",alt:"delete"})})})]})]})}),"banned"===i&&Object(h.jsx)(O.a,{container:!0,children:Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("span",{className:o.chat,style:{backgroundColor:c%2!==0?"#FFFFFF":"#EEF3FF"},children:[Object(h.jsx)(v.a,{className:o.chatText,children:Object(h.jsx)(xa,{title:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(v.a,{children:(t=a.reason,t?"Reason: "+t:null)}),Object(h.jsx)("br",{}),Object(h.jsx)(v.a,{children:Jt(a.moderatedMessage)})]}),children:Object(h.jsx)(v.a,{className:o.chatText,children:a.originalMessage})})}),a.image&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(ot.a,{className:o.imageContainer,children:[Object(h.jsx)("img",{className:o.image,src:a.image,alt:"sentImage"}),a.imageReason&&Object(h.jsx)(xa,{title:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(v.a,{children:"Reason: ".concat(a.imageReason[0]&&a.imageReason[0].text)})}),placement:"right-start",children:Object(h.jsx)("img",{src:"/images/info.svg",alt:"profilePicture",className:o.imageIcon})})]})})]})})})]})};function zs(e){var t=Ms(),a=Object(n.useState)(!1),s=Object(f.a)(a,2),r=s[0],c=s[1],i=Object(n.useState)([]),o=Object(f.a)(i,2),l=o[0],u=o[1],d=Object(n.useState)([]),b=Object(f.a)(d,2),j=b[0],m=b[1],g=Object(n.useState)(!1),y=Object(f.a)(g,2),k=y[0],C=y[1],F=function(e,t){c(!0),u(t)},S=function(e,t){C(!0),u(t)},N=function(t,a){e.setMessageToEdit(a)},T=Object(n.useRef)(null);return Object(n.useEffect)((function(){m(e.messages),setTimeout((function(){var e;null===(e=T.current)||void 0===e||e.scrollIntoView()}),100)}),[e.messages]),Object(h.jsxs)(h.Fragment,{children:[j.length||e.isLoading?Object(h.jsxs)(O.a,{item:!0,className:t.messages,children:[j.map((function(a,n){return Object(h.jsxs)("div",{children:["chat"===e.toggledVal&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(O.a,{container:!0,children:[Object(h.jsx)(mt.a,{children:Object(h.jsx)(lt.a,{variant:"square",src:_t(a.profileUrl)})}),Object(h.jsx)(v.a,{className:t.user,children:zt(a.name)})]}),Object(h.jsx)(_s,{id:"messageContent",message:a,confirmDelete:F,updateMessage:N,confirmUndo:S,index:n,toggledVal:e.toggledVal}),Object(h.jsx)(v.a,{className:t.timeField,children:a.time})]}),"banned"===e.toggledVal&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(O.a,{container:!0,children:[Object(h.jsx)(mt.a,{children:Object(h.jsx)(lt.a,{variant:"square",src:_t(a.profileUrl)})}),Object(h.jsx)(v.a,{className:t.user,children:zt(a.name)})]}),Object(h.jsx)(_s,{message:a,toggledVal:e.toggledVal,index:n}),Object(h.jsx)(v.a,{className:t.timeField,children:a.time})]})]},n)})),Object(h.jsx)("div",{ref:T})]}):Object(h.jsx)(Je.a,{severity:"info",className:t.alertMessage,children:"No recent messages found"}),Object(h.jsx)(Zn,{id:"delete",title:"Are you sure?",open:r,setOpen:c,onConfirm:function(){Object(x.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ue(e.pubnub,e.channel,l.timetoken);case 3:a=t.sent,e.updated(l.timetoken,a.actionTimetoken),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},actionMessage:"Yes, Delete it",children:"You can always undo this action"}),Object(h.jsx)(Us,{title:"Are you sure?",open:k,setOpen:C,channel:e.channel,pubnub:e.pubnub,message:l,updated:e.updated,children:"You want to recover the message"}),e.isLoading?Object(h.jsx)(O.a,{justify:"center",container:!0,children:Object(h.jsx)(mt.a,{pt:3,children:Object(h.jsx)(w.a,{})})}):null,Object(h.jsx)(Ws,{message:e.messageToEdit,channel:e.channel,pubnub:e.pubnub,updated:e.updated,messagesLength:j.length})]})}function Ks(e){var t=Ms(),a=Object(n.useState)(0),s=Object(f.a)(a,2),r=s[0],c=s[1],o=Object(n.useState)({success:{status:!1,msg:""},error:{status:!1,msg:""}}),l=Object(f.a)(o,2),u=l[0],d=l[1],b=1e4*(new Date).setHours(0,0,0,0);return Object(n.useEffect)((function(){d(Object(i.a)(Object(i.a)({},u),{},{success:{status:!1,msg:""},error:{status:!1,msg:""}})),Object(x.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ie(e.pubnub,e.channelName,b);case 3:a=t.sent,c(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),d(Object(i.a)(Object(i.a)({},u),{},{success:{status:!1,msg:""},error:{status:!0,msg:t.t0.message}}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}),[e.channelName]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(v.a,{className:t.messagesCountFont,children:["Today(",r,")"]}),u.error.status&&Object(h.jsx)(Da,{msg:u.error.msg,status:"info"})]})}function Hs(e){var t=Ms();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(k.a,{id:"chat",onClick:function(){e.setToggledVal("chat")},className:"chat"===e.toggledVal?t.activeToggled:t.disableToggled,children:"Chat"}),Object(h.jsx)(k.a,{id:"ban",onClick:function(){e.setToggledVal("banned")},className:"banned"===e.toggledVal?t.activeToggled:t.disableToggled,children:"Banned"})]})}var Vs=function(){var e=Object(n.useRef)(!0),t=Ms(),a=Object(b.h)(),s=us().pubnub,r=Object(n.useState)([]),c=Object(f.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)(!!localStorage.getItem("PubNubChannelMembers")&&JSON.parse(localStorage.getItem("PubNubChannelMembers"))),u=Object(f.a)(l,2),d=u[0],j=u[1],m=Object(n.useState)([]),g=Object(f.a)(m,2),v=g[0],y=g[1],w=Object(n.useState)(!1),C=Object(f.a)(w,2),F=C[0],S=C[1],N=Object(n.useState)(),T=Object(f.a)(N,2),M=T[0],R=T[1],I=Object(n.useState)(!1),A=Object(f.a)(I,2),D=A[0],P=A[1],L=Object(n.useState)([]),E=Object(f.a)(L,2),B=E[0],U=E[1],W=Object(n.useState)("chat"),_=Object(f.a)(W,2),z=_[0],K=_[1],H=Object(n.useState)(""),V=Object(f.a)(H,2),Y=V[0],J=V[1],G=Object(n.useState)(0),X=Object(f.a)(G,2),$=X[0],Z=X[1],Q=Object(n.useState)(""),ee=Object(f.a)(Q,2),te=ee[0],ae=ee[1];Object(n.useEffect)((function(){ne(),q("PubNubSelectedChannel",a.state.channel),J(a.state.channel),Object(x.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me(s,a.state.channel);case 3:t=e.sent,y(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),Object(n.useEffect)((function(){"chat"===z?J(a.state.channel):"banned"===z&&J("banned."+a.state.channel)}),[z]),Object(n.useEffect)((function(){e.current?e.current=!1:Y&&se()}),[d]),Object(n.useEffect)((function(){Y&&!F&&se()}),[Y]);var ne=function(){S(!0),Object(x.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fe(s,a.state.channel);case 3:t=e.sent,q("PubNubChannelMembers",t.data),j(t.data),Z(t.totalCount),ae(t.next),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))()},se=function(){o([]),Object(x.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(p.a.mark((function e(){var t,a,n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(s,Y);case 2:if(t=e.sent,a=[],n={},r=0,c=[],t)for(;r<=d.length;)r++,t.map((function(e,t){var i;return(n=e.message).time=Ut(e.timetoken),n.timetoken=e.timetoken,n.actions=e.actions,n.actionToken=e.actions&&e.actions.deleted&&e.actions.deleted["."][0].actionTimetoken,n.text=Qt(e,n),(!!(i=d[r])&&i.uuid.id)===e.uuid&&(n.name=Wt(d[r].uuid.name),n.profileUrl=d[r].uuid.profileUrl),Zt(n),c=$t(n,e,s,Y),a.push(c),!1}));o(Object(Ts.a)(new Set(a))),S(!1);case 10:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=7;break;case 4:e.prev=4,e.t1=e.catch(0),S(!1);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))()};Object(n.useEffect)((function(){Y&&(s.unsubscribeAll(),s.addListener({message:function(e){var t=Object.assign({},e),a={},n=d&&d.filter((function(e){return e.uuid.id===t.publisher}));if(a=t.message,n.length&&(a.name=n[0].uuid.name,a.profileUrl=n[0].uuid.profileUrl),a.message&&a.message.file&&a.message.file.id&&a.message.file.name&&!a.message.file.url){var r=s.getFileUrl({channel:Y,id:a.message.file.id,name:a.message.file.name});a.file.url=r}a.time=Ut(t.timetoken),a.timetoken=t.timetoken,o((function(e){return[].concat(Object(Ts.a)(e),[a])}))}}),s.subscribe({channels:[Y]}))}),[d]);var re;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(ia.a,{title:"Messages"}),Object(h.jsxs)(O.a,{justify:"space-between",container:!0,spacing:1,children:[Object(h.jsxs)(O.a,{item:!0,sm:9,children:[Object(h.jsx)(O.a,{justify:"space-between",container:!0,children:Object(h.jsxs)(O.a,{item:!0,sm:12,className:t.header,children:[Object(h.jsxs)(O.a,{justify:"flex-start",container:!0,children:[Object(h.jsx)(mt.a,{mr:1,children:Object(h.jsx)(lt.a,{className:t.avatar,variant:"square",children:Rt(a.state.channel)})}),Object(h.jsxs)(O.a,{item:!0,sm:8,xs:12,md:8,children:["chat"===z&&Object(h.jsxs)("small",{className:t.values,children:[a.state.channel," (",v.name,")"]}),"banned"===z&&Object(h.jsxs)("small",{className:t.values,children:[a.state.channel," - Banned (",v.name,")"]}),Object(h.jsx)("br",{}),Object(h.jsx)("small",{className:t.appName,children:(re=v.description,re&&re.length>70?re.substring(0,68)+"...":re)})]}),Object(h.jsx)(O.a,{item:!0,sm:3,md:3,lg:3,children:Object(h.jsxs)(O.a,{justify:"space-between",container:!0,children:[Object(h.jsx)(O.a,{item:!0}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{mt:1,children:Object(h.jsx)(Hs,{toggledVal:z,setToggledVal:K})})})]})})]}),"chat"===z&&Object(h.jsx)(mt.a,{mt:1,children:Object(h.jsx)(O.a,{justify:"center",container:!0,children:Object(h.jsx)(k.a,{disabled:!0,className:t.messagesCount,children:Object(h.jsx)(Ks,{channelName:a.state.channel,pubnub:s})})})})]})}),Object(h.jsx)(O.a,{item:!0,sm:12,children:Object(h.jsx)(zs,{messages:i,isLoading:F,pubnub:s,channel:a.state.channel,updated:function(e,t,a,n){var s=i.filter((function(t){return t.timetoken!==e})),r=i.filter((function(t){return t.timetoken.includes(e)}));a?("undo"===a&&(r[0].actions=""),"updated"===a&&n?(U([]),r[0].text=n.value):"updated"===a&&U([])):(r[0].actions="deleted",r[0].actionToken=t);var c=i.findIndex((function(t){return t.timetoken.includes(e)}));s.splice(c,0,r[0]),o(s)},messageToEdit:B,setMessageToEdit:U,toggledVal:z})})]}),Object(h.jsxs)(O.a,{item:!0,sm:3,className:t.channelMembers,children:[!D&&Object(h.jsx)(Es,{channelMembers:d,pubnub:s,selectedMemberDetail:function(e){return R(e),void P(!0)},channelName:a.state.channel,totalCount:$,page:te}),D&&Object(h.jsx)(qs,{toggleMemberDetails:function(e){return P(e)},member:M,pubnub:s})]})]})]})},Ys=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(Za,{children:Object(h.jsx)(Vs,{})})})},Js=Object(M.a)((function(e){return{labelText:{color:"#606060"},card:{padding:"20px"},cancel:{width:"150px",margin:"3px",height:"37px",boxShadow:"0px 0px 0px white",backgroundColor:"white",border:"1px solid #707070",borderRadius:"8px",opacity:1,font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) 13px/16px var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",color:"#707070",fontSize:"13px"},save:{background:"#6387ED 0% 0% no-repeat padding-box",borderRadius:"8px",opacity:1,color:"white",width:"150px",margin:"8px",height:"37px",fontSize:"13px","&:hover":{background:"#6387ED 0% 0% no-repeat padding-box",color:"white"}},testText:{font:"var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) var(--unnamed-font-size-16)/var(--unnamed-line-spacing-19) var(--unnamed-font-family-proxima-nova)",letterSpacing:"var(--unnamed-character-spacing-0)",textDecoration:"underline",color:"#6387ED",cursor:"pointer",opacity:1,"&:hover":{background:"#E7EDFF",color:"#6387ED"}},loader:{marginRight:"5px",color:"white"},loaderLoading:{marginRight:"5px"},rerouteBtn:{textTransform:"none",marginLeft:"10px",backgroundColor:"#FCF0EF",color:"#FB6340","&:hover":{textTransform:"none",marginLeft:"10px",backgroundColor:"#FCF0EF",color:"#FB6340"}},rerouteIcon:{marginRight:"5px"},infoIcon:{padding:"3px 0px 0px 5px"}}})),Gs=function(e){var t=e.state,a=Ta();return Object(h.jsx)(O.a,{container:!0,justify:"flex-start",spacing:3,children:Object(h.jsx)(O.a,{item:!0,children:Object(h.jsxs)(mt.a,{className:t.initialLoading?a.methodNotSelected:a.methodSelected,children:[Object(h.jsx)(O.a,{container:!0,justify:"center",children:Object(h.jsx)(mt.a,{p:1,children:Object(h.jsx)("img",{alt:"",src:t.initialLoading?"/images/automatic-detection.svg":"/images/automatic-profanity-selected.svg"})})}),Object(h.jsx)(v.a,{testid:"autoDetection",variant:"body1",align:"center",children:"Automatic Detection"})]})})})},Xs=function(e){var t=e.setState,a=e.state,n=e.name;return function(e,s){"channelId"===e.target.name?t(Object(i.a)(Object(i.a)({},a),{},{channelOnChange:!0,channelId:e.target.value})):"toolForImageModeration"===e.target.name?t(Object(i.a)(Object(i.a)({},a),{},{toolForImageModeration:e.target.value})):"sightengineAPIUser"===e.target.name?t(Object(i.a)(Object(i.a)({},a),{},{sightengineAPIUser:e.target.value,sightengineAPIUserError:!1})):"sightengineAPIKey"===e.target.name?t(Object(i.a)(Object(i.a)({},a),{},{sightengineAPIKey:e.target.value,sightengineAPIKeyError:!1})):"sightengineWorkflowId"===e.target.name?t(Object(i.a)(Object(i.a)({},a),{},{sightengineWorkflowId:e.target.value,sightengineWorkflowIdError:!1})):"reRouteMessages"===e.target.name?t(Object(i.a)(Object(i.a)({},a),{},{reRouteMessages:e.target.checked})):"sightengineRiskFactorThreshold"===n?t(Object(i.a)(Object(i.a)({},a),{},{sightengineRiskFactorThreshold:s})):"imageModerationToggle"===e.target.name?t(Object(i.a)(Object(i.a)({},a),{},{imageModerationToggle:e.target.value})):"applyToAllChannelIds"===n&&(e.target.checked?t((function(t){return Object(i.a)(Object(i.a)({},t),{},{applyToAllChannelIds:e.target.checked,channelId:"*"})})):t(Object(i.a)(Object(i.a)({},a),{},{applyToAllChannelIds:e.target.checked})))}},$s=Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{children:"Please follow steps listed "}),Object(h.jsx)("a",{style:{fontWeight:600,color:"black",textDecorationLine:"none"},href:"https://sightengine.com/docs/image-moderation-workflows",children:"here"}),Object(h.jsx)("span",{children:" and input values"})]}),Zs=function(e){var t=e.state,a=e.setState,n=e.handleSave,s=Js(),r=Yt(t.applyToAllChannelIds),c=Yt(t.reRouteMessages);return t.initialLoading?Object(h.jsx)(h.Fragment,{}):Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(Qa.a,{className:s.card,children:[Object(h.jsxs)(mt.a,{children:[Object(h.jsxs)(O.a,{container:!0,children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)("label",{testid:"Channel_ID",className:s.labelText,children:"Channel ID"})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{className:s.infoIcon,children:Object(h.jsx)(xa,{title:"Note: Please add a Channel ID or a Channel pattern. eg. channel.* OR pubNub. Channel ID pattern applies to BOTH text & image moderation if both are enabled.",children:Object(h.jsx)("img",{src:"/images/info-circle.svg",alt:"info-circle"})})})})]}),Object(h.jsx)(mt.a,{pt:1,mb:2,children:Object(h.jsx)(y.a,{id:"channelId",variant:"outlined",name:"channelId",error:t.channelIdError,disabled:r||t.channelIdDisabled,placeholder:"channel ID",value:t.channelId,onChange:Xs({setState:a,state:t}),size:"small",fullWidth:!0})})]}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsxs)(O.a,{container:!0,justify:"flex-start",children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(en.a,{id:"checkBox",checked:r,onChange:Xs({setState:a,state:t,name:"applyToAllChannelIds"}),disabled:t.channelIdDisabled})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{pt:1,pl:1,children:Object(h.jsx)(v.a,{testid:"Apply_All",variant:"body1",children:"Apply to All Channel IDs"})})})]})}),Object(h.jsx)("br",{}),Object(h.jsx)(O.a,{container:!0,justify:"flex-start",children:Object(h.jsxs)(O.a,{item:!0,sm:12,children:[Object(h.jsx)("label",{id:"SelectTool",className:s.labelText,children:"Select third party tool for Automatic Detection"}),Object(h.jsx)(mt.a,{pt:1,mb:2,children:Object(h.jsx)(tn.a,{size:"small",fullWidth:!0,children:Object(h.jsx)(an.a,{id:"ImageModerationTool",variant:"outlined",value:t.toolForImageModeration,name:"toolForImageModeration",onChange:Xs({setState:a,state:t}),MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null},children:Object(h.jsx)(pt.a,{value:"sightengine",children:"SightEngine"})})})})]})}),Object(h.jsx)("br",{}),Object(h.jsxs)(mt.a,{pt:1,children:[Object(h.jsxs)(O.a,{container:!0,children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)("label",{testId:"ApiUser",className:s.labelText,children:"Sightengine API User"})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{className:s.infoIcon,children:Object(h.jsx)(xa,{title:$s,interactive:!0,children:Object(h.jsx)("img",{src:"/images/info-circle.svg",alt:"info-circle"})})})})]}),Object(h.jsx)(mt.a,{pt:1,mb:2,children:Object(h.jsx)(y.a,{id:"sightEngineAPIUser",variant:"outlined",name:"sightengineAPIUser",error:t.sightengineAPIUserError,helperText:t.sightengineAPIUserError&&"Sightengine API User is required",value:t.sightengineAPIUser,onChange:Xs({setState:a,state:t}),size:"small",placeholder:"Sightengine API User",fullWidth:!0})})]}),Object(h.jsx)("br",{}),Object(h.jsxs)(mt.a,{pt:1,children:[Object(h.jsxs)(O.a,{container:!0,children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)("label",{testId:"Api_Key",className:s.labelText,children:"Sightengine API Key"})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{className:s.infoIcon,children:Object(h.jsx)(xa,{title:$s,interactive:!0,children:Object(h.jsx)("img",{src:"/images/info-circle.svg",alt:"info-circle"})})})})]}),Object(h.jsx)(mt.a,{pt:1,mb:2,children:Object(h.jsx)(y.a,{id:"apiKey",variant:"outlined",name:"sightengineAPIKey",error:t.sightengineAPIKeyError,helperText:t.sightengineAPIKeyError&&"Sightengine API Key is required",value:t.sightengineAPIKey,onChange:Xs({setState:a,state:t}),size:"small",fullWidth:!0,placeholder:"Sightengine API Key"})})]}),Object(h.jsx)("br",{}),Object(h.jsxs)(mt.a,{pt:1,children:[Object(h.jsxs)(O.a,{container:!0,children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)("label",{testId:"workFlowId",className:s.labelText,children:"Sightengine Workflow ID"})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{className:s.infoIcon,children:Object(h.jsx)(xa,{title:$s,interactive:!0,children:Object(h.jsx)("img",{src:"/images/info-circle.svg",alt:"info-circle"})})})})]}),Object(h.jsx)(mt.a,{pt:1,mb:2,children:Object(h.jsx)(y.a,{id:"sightEngineWorkflowId",name:"sightengineWorkflowId",variant:"outlined",size:"small",error:t.sightengineWorkflowIdError,helperText:t.sightengineWorkflowIdError&&"Sightengine Workflow ID is required",value:t.sightengineWorkflowId,onChange:Xs({setState:a,state:t}),fullWidth:!0,placeholder:"Sightengine Workflow ID"})})]}),Object(h.jsx)("br",{}),Object(h.jsx)(O.a,{container:!0,justify:"space-between",spacing:6,children:Object(h.jsx)(O.a,{item:!0,sm:6,xs:12,md:6,lg:6,children:Object(h.jsxs)(mt.a,{children:[Object(h.jsx)("label",{testId:"riskFactor",className:s.labelText,children:"Sightengine Risk Factor"}),Object(h.jsx)(mt.a,{pt:1,children:Object(h.jsx)(un,{id:"riskFactorSlider",value:t.sightengineRiskFactorThreshold,onChange:Xs({setState:a,state:t,name:"sightengineRiskFactorThreshold"})})})]})})}),Object(h.jsx)("br",{}),Object(h.jsxs)(O.a,{container:!0,children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsxs)(O.a,{container:!0,justify:"flex-start",children:[Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(en.a,{id:"reRouteCheckBox",name:"reRouteMessages",checked:c,onChange:Xs({setState:a,state:t})})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{pt:1,pl:1,children:Object(h.jsx)(v.a,{testid:"reRouteMsg",variant:"body1",children:"Route messages to"})})})]})}),Object(h.jsx)(O.a,{item:!0,children:Object(h.jsx)(mt.a,{children:Object(h.jsxs)(k.a,{className:s.rerouteBtn,children:[Object(h.jsx)("img",{src:"/images/reroute.svg",className:s.rerouteIcon,alt:"reroute"}),"banned."+t.channelId]})})})]}),Object(h.jsx)("br",{}),Object(h.jsxs)(O.a,{container:!0,justify:"space-between",spacing:3,children:[Object(h.jsx)(O.a,{item:!0}),Object(h.jsxs)(O.a,{item:!0,children:[Object(h.jsx)(k.a,{id:"cancel",className:s.cancel,variant:"contained",children:"Cancel"}),Object(h.jsxs)(k.a,{id:"save",className:s.save,disabled:t.saveLoading,onClick:n,variant:"contained",children:[t.saveLoading?Object(h.jsx)(w.a,{size:25,thickness:4,color:"primary",className:s.loader}):Object(h.jsx)(h.Fragment,{}),"Save"]})]})]})]})})},Qs=function(){var e=Js(),t=Object(n.useState)({applyToAllChannelIds:!0,initialLoading:!0,imageModerationToggle:"",channelId:"*",channelIdError:!1,sightengineAPIUserError:!1,sightengineAPIKeyError:!1,sightengineWorkflowIdError:!1,channelOnChange:!1,toolForImageModeration:"sightengine",sightengineAPIUser:"",sightengineAPIKey:"",sightengineWorkflowId:"",sightengineRiskFactorThreshold:"",reRouteMessages:"",error:{status:!1,msg:""},successMsg:"",errorMsg:"",successStatus:!1,errorStatus:!1,saveLoading:!1,channelIdDisabled:!1}),a=Object(f.a)(t,2),s=a[0],r=a[1],c=Yt(s.imageModerationToggle);Object(n.useEffect)((function(){var e=Nt(),t=B("token");Object(x.a)(p.a.mark((function a(){var n,c,o,l,u,d,b,j,h,m,g,x,f,O;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=14;break}return a.prev=1,a.next=4,ue(e.id,t);case 4:n=a.sent,c=Un(e,n),o=zn(e,n),l=o.findImageFunction,u=o.eventHandler,l.length&&u.length>0?(d=Bt(u[0].code),b=d.imageModerationToggle,j=d.toolForImageModeration,h=d.sightengineAPIUser,m=d.sightengineAPIKey,g=d.applyToAllChannelIds,x=d.sightengineWorkflowId,f=d.sightengineRiskFactorThreshold,O=d.reRouteMessages,r((function(e){return{imageModerationToggle:b,initialLoading:!1,channelId:u[0].channels,toolForImageModeration:j,applyToAllChannelIds:g,sightengineAPIUser:h,sightengineAPIKey:m,sightengineWorkflowId:x,sightengineRiskFactorThreshold:f,reRouteMessages:O,channelIdDisabled:c.textModerationToggle}}))):r(Object(i.a)(Object(i.a)({},s),{},{initialLoading:!1,channelIdDisabled:c.textModerationToggle})),c.textModerationToggle&&c.textChannelId&&c.textChannelId!==s.channelId&&r((function(e){return Object(i.a)(Object(i.a)({},e),{},{channelId:c.textChannelId,channelIdDisabled:c.textModerationToggle})})),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),r((function(e){return{initialLoading:!1}}));case 14:case"end":return a.stop()}}),a,null,[[1,11]])})))()}),[]),Object(n.useEffect)((function(){s.channelOnChange&&(0===s.channelId.length?r((function(e){return Object(i.a)(Object(i.a)({},e),{},{errorStatus:!0,saveLoading:!1,channelIdError:!0,errorMsg:"Channel name is required",successMsg:"",successStatus:!1})})):r((function(e){return Object(i.a)(Object(i.a)({},e),{},{errorStatus:!1,saveLoading:!1,errorMsg:"",successMsg:"",channelIdError:!1,successStatus:!1})})))}),[s.channelId,s.applyToAllChannelIds,s.channelOnChange]);var o=function(){var e=Object(x.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!s.errorStatus){e.next=3;break}return e.abrupt("return");case 3:if(0!==s.channelId.length){e.next=5;break}return e.abrupt("return",r(Object(i.a)(Object(i.a)({},s),{},{errorStatus:!0,channelIdError:!0,errorMsg:"Channel Id is required.",successStatus:!1,successMsg:""})));case 5:if(s.sightengineAPIUser.trim().length){e.next=7;break}return e.abrupt("return",r(Object(i.a)(Object(i.a)({},s),{},{sightengineAPIUserError:!0})));case 7:if(s.sightengineAPIKey.trim().length){e.next=9;break}return e.abrupt("return",r(Object(i.a)(Object(i.a)({},s),{},{sightengineAPIKeyError:!0})));case 9:if(s.sightengineWorkflowId.trim().length){e.next=11;break}return e.abrupt("return",r(Object(i.a)(Object(i.a)({},s),{},{sightengineWorkflowIdError:!0})));case 11:if(r((function(e){return Object(i.a)(Object(i.a)({},e),{},{saveLoading:!0})})),a=B("token"),!(n=Nt())){e.next=23;break}return e.prev=15,e.next=18,_n(n,a,{state:s,setState:r});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(15),r(Object(i.a)(Object(i.a)({},s),{},{errorStatus:!0,saveLoading:!1,errorMsg:e.t0.message,successMsg:"",successStatus:!1}));case 23:case"end":return e.stop()}}),e,null,[[15,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[s.successStatus&&Object(h.jsx)(Da,{status:"success",msg:s.successMsg}),s.errorStatus&&Object(h.jsx)(Da,{status:"error",msg:s.errorMsg}),Object(h.jsxs)(v.a,{testid:"title",variant:"h6",className:e.title,children:["Image Moderation",Object(h.jsx)(xn,{checked:c,onChange:function(e){r(Object(i.a)(Object(i.a)({},s),{},{imageModerationToggle:e.target.checked}))}})]}),Object(h.jsx)("br",{}),Object(h.jsx)(v.a,{testid:"subTitle",className:e.subTitle,children:"Profanity detection method"}),Object(h.jsx)(Gs,{state:s}),s.initialLoading&&Object(h.jsx)(O.a,{container:!0,justify:"center",children:Object(h.jsx)(w.a,{size:65,thickness:4,color:"primary",className:e.loaderLoading})}),Object(h.jsx)("br",{}),Object(h.jsx)(Zs,{state:s,handleSave:o,setState:r}),Object(h.jsx)("br",{})]})},er=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(Za,{children:Object(h.jsx)(Qs,{})})})},tr=function(){return Object(h.jsx)(d.a,{basename:"/moderation-dashboard",children:Object(h.jsxs)(b.d,{children:[Object(h.jsx)(nt,{path:"/",exact:!0,component:Ze}),Object(h.jsx)(tt,{path:"/accounts",exact:!0,component:Vn}),Object(h.jsx)(tt,{path:"/dashboard",exact:!0,component:La}),Object(h.jsx)(tt,{path:"/text-moderation",exact:!0,component:Hn}),Object(h.jsx)(tt,{path:"/channels",exact:!0,component:bs}),Object(h.jsx)(tt,{path:"/overview",exact:!0,component:ms}),Object(h.jsx)(tt,{path:"/users",exact:!0,component:Ns}),Object(h.jsx)(tt,{path:"/channels/messages",exact:!0,component:Ys}),Object(h.jsx)(tt,{path:"/image-moderation",exact:!0,component:er})]})})},ar=Object(o.c)(Object(i.a)(Object(i.a)({},Object(l.a)()),{},{insertionPoint:document.getElementById("jss-insertion-point")})),nr=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(u.b,{jss:ar,children:Object(h.jsx)(tr,{})})})},sr=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,488)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),r(e),c(e)}))};a(392);c.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(nr,{})}),document.getElementById("root")),sr()}},[[393,1,2]]]);
//# sourceMappingURL=main.54ce7aae.chunk.js.map